{"version":3,"sources":["components/SearchForm/AmountPassanger.module.css","components/TripsContainer/TripBox.module.css","pages/ErrorPage.module.css","components/PublickOffer/PublickOffer.module.css","pages/OrderPage.module.css","components/Modal/Modal.module.css","components/Loader/Loader.module.css","components/Order/FormForBuy.module.css","pages/HomePage.module.css","services/api.js","components/TicketContainer/PassengersData.module.css","components/Order/OrderInfo.module.css","reportWebVitals.js","redux/actionsTypes.js","redux/searchForm/searchFormReduser.js","redux/Language/languageReduser.js","redux/global/globalReduser.js","redux/trips/tripsReduser.js","redux/order/orderReduser.js","redux/store.js","redux/global/globalActions.js","pages/ErrorPage.js","intl/HomePageMessanges.js","redux/searchForm/searchFormAction.js","redux/trips/tripsActions.js","components/SearchForm/Autocomplete2.js","images/add-black-18dp.svg","images/remove-black-18dp.svg","components/SearchForm/AmountPassanger.js","images/sync_alt-white-36dp.svg","components/SearchForm/SearchForm.js","pages/HomePage.js","redux/order/orderActions.js","redux/order/orderOperation.js","pages/MyTicketPage.js","intl/OrderPageMessanges.js","services/getInfo.js","components/Order/OrderInfo.js","images/person-24px.svg","components/PublickOffer/PublickOffer.js","components/Modal/Modal.js","components/Loader/Loader.js","components/Order/FormForBuy.js","pages/OrderPage.js","intl/TicketPageMessanges.js","components/TicketContainer/PaymentBox.js","components/TicketContainer/TripInfo.js","components/TicketContainer/PassengersData.js","pages/TicketPage.js","intl/TripsPageMessanges.js","components/TripsContainer/TripBox.js","components/TripsContainer/SortTrips.js","pages/TripsPage.js","redux/global/globalOperations.js","images/menu-black-48dp.svg","components/Language/LanguageSelect.js","redux/Language/LanguageAction.js","components/Header/Header.js","components/App.js","index.js","components/SearchForm/SearchForm.module.css","components/TicketContainer/TripInfo.module.css","pages/MyTicketPage.module.css","pages/TripsPage.module.css","components/TicketContainer/PaymentBox.module.css","components/TripsContainer/SortTrips.module.css","components/Language/LanguageSelect.module.css","components/Header/Header.module.css"],"names":["module","exports","baseURLcontrol","baseURLsale","AUTH_KEY2","Buffer","from","toString","getAllStops","axios","method","url","headers","Authorization","getInitialization","lang","idFrom","idWhereTo","date","data","id","localityPairs","dates","currency","searchTrips","getTicketInfo","toBookTicket","body","getTicketConfirm","getTicketPrint","getCities","val","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Types","searchFormReduser","combineReducers","state","type","payload","fromID","to","toID","Date","amountPassanger","time","language","globalReduser","stops","error","isLoading","tripsReduser","trips","tripsInfo","sortType","orderReduser","order","ticket","rootRedusers","global","searchForm","enhancer","applyMiddleware","thunk","store","createStore","composeWithDevTools","getError","err","startLoader","stopLoader","ErrorPage","dispatch","useDispatch","className","styles","smile","link","onClick","messages","EN","title","subtitle","iconItem1","iconItem2","iconItem3","iconItem4","iconItem5","searchBtn","inputAmount","RU","UK","PL","inputValueFrom","value","setFromId","inputValueTo","setToId","inputValueDate","setTime","fetchTripsSuccess","changeSortType","filterOptions","createFilterOptions","matchFrom","INITIAL_STATE","text","description","StyledTextField","styled","TextField","StyledAutocomplete","Autocomplete","AutocompleteComp","useSelector","changeInputFrom","changeInputTo","fromId","toId","useState","options","setOptions","locale","useEffect","map","el","handleChange","split","trim","valId","getOtpions","target","length","freeSolo","onChange","event","opt","renderOption","renderInput","params","label","onMouseDown","onBlur","handleInputBlur","margin","variant","helperText","_extends","Object","assign","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","d","fill","SvgAddBlack18Dp","_ref","svgRef","titleId","props","xmlns","viewBox","width","height","ref","ForwardRef","SvgRemoveBlack18Dp","AmountPassanger","amount","amountBox","flex","button","name","disabled","SvgSyncAltWhite36Dp","enableBackground","SearchForm","errorFrom","errorTo","changeButton","fromInp","dateLocale","en","ru","ua","pl","handleSubmit","e","preventDefault","history","getId","dateQuery","format","getTime","push","console","log","result","find","item","toLowerCase","setState","prevProps","changeInputDate","onSubmit","form","fromTo","inputBox","Autocomplete2","arrow","datePicker","dateFormat","selected","minDate","onClose","closeModal","Button","color","Component","connect","HomePage","useHistory","bgnd","container","formContainer","iconsBox","iconItem","fetchTicket","getTicket","catch","message","MyTicketPage","status","getURL","byteCharacters","atob","byteNumbers","Array","charCodeAt","byteArray","Uint8Array","pdf","Blob","base64","window","URL","createObjectURL","encryptId","match","CryptoJS","AES","decrypt","enc","Utf8","services","getConfirm","documents","href","rel","price","priceId","departure","arrival","buttonAdd","customer","offer","offerSpan","buy","myData","myDataSpan","requared","numTel","details","pay","getLang","lng","getLocality","getStop","localities","getAllLocalities","getDate","trip","toLocaleString","day","month","year","hour","minute","getTimeInWay","h","m","timeInWay","getYesterday","getTomorrow","getTodayDate","getExpireTime","OrderInfo","total","toStop","fromStop","arrivalDate","departureDate","orderBox","subTitle","locality","localityStop","toFixed","SvgPerson24Px","PublickOffer","box","Modal","backdropRef","createRef","handleKeyPress","code","handleBackdropClick","isGohome","current","addEventListener","removeEventListener","style","backdrop","role","component","Loader","loader","FormForBuy","values","email","resp","isOffer","isPersonal","isValidName","tripKey","requestBody","idx","segment","seat","tariff","customers","prev","replace","handleChangeEmail","handleAdd","slice","phone","surname","changeAmountPassanger","handleRemove","filter","getValueName","getValueSurname","getValuePhone","openModal","isModal","amountPassangers","prevState","forEach","btoa","encrypt","orderId","payeeId","additionals","svgBox","svg","input","red","placeholder","autoComplete","required","buttonRemove","publicOfferBox","buttonBuy","JSON","stringify","obj","totalPassanger","setTotalPassanger","path","parse","sessionStorage","getItem","formBox","main","passangersData","cost","passenger","endTime","PaymentBox","timeEnd","expire","timeStart","intervalId","setInterval","clearInterval","getTotalPrice","reduce","acc","warning","warningText","second","payment","action","portmone","TripInfo","segments","PassengersData","getPassengersData","passangersBox","header","number","passangerData","passangerTitle","passangerName","TicketPage","getLocalityId","stopId","parent","choose","sort","fetchOrderInfo","location","isOpen","setIsOpen","arrayStops","setArrayStops","windowWidth","innerWidth","parsed","queryString","search","full","tripBox","info","infoLast","priceBox","pathname","setItem","freeSeatsCount","green","first","route","last","arr","additionalInfo","depArr","start","addLocality","stop","timeStop","departureTime","finish","sortTime","a","b","time_partsA","time_partsB","chLang","selectBox","select","option","TripsPage","isTrip","startSerch","requestData","searchRouts","searchId","deltaTime","now","setTimeout","changeDate","newDay","passengers","getDisabled","yyyy","getFullYear","mm","getMonth","dd","getTripsInfo","entries","tripsBox","dateBox","dateButton","today","fetchStops","res","fillOpacity","SvgMenuBlack48Dp","LanguageSelect","onChangeLanguage","changeLanguage","Header","isMenu","setIsMenu","btnMenu","tel","menuBox","App","getStops","useCallback","exact","OrderPage","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.55a6b423.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"amountBox\":\"AmountPassanger_amountBox__ObSl1\",\"button\":\"AmountPassanger_button__1lr32\",\"flex\":\"AmountPassanger_flex__1B3BD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"full\":\"TripBox_full__1MYs3\",\"tripBox\":\"TripBox_tripBox__O2X7r\",\"timeInWay\":\"TripBox_timeInWay__1Br66\",\"time\":\"TripBox_time__2Ngoy\",\"date\":\"TripBox_date__2dNOs\",\"locality\":\"TripBox_locality__3kR1v\",\"localityStop\":\"TripBox_localityStop__2ta2o\",\"fromTo\":\"TripBox_fromTo__1uOtD\",\"additionals\":\"TripBox_additionals__1Gt9u\",\"price\":\"TripBox_price__3CUgI\",\"priceBox\":\"TripBox_priceBox__32bBL\",\"choose\":\"TripBox_choose__2o44a\",\"additionalInfo\":\"TripBox_additionalInfo__1feJO\",\"depArr\":\"TripBox_depArr__hEawj\",\"start\":\"TripBox_start__3W_wG\",\"stop\":\"TripBox_stop__7kDdb\",\"timeStop\":\"TripBox_timeStop__29Vu7\",\"departure\":\"TripBox_departure__3kCgP\",\"finish\":\"TripBox_finish__2S9Hg\",\"arrival\":\"TripBox_arrival__3Qg9j\",\"red\":\"TripBox_red__4HN73\",\"green\":\"TripBox_green__3n3AQ\",\"info\":\"TripBox_info__Oma29\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"smile\":\"ErrorPage_smile__zb7J7\",\"link\":\"ErrorPage_link__3e9HI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"PublickOffer_text__1N1Me\",\"box\":\"PublickOffer_box__imOz6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formBox\":\"OrderPage_formBox__2H6bX\",\"main\":\"OrderPage_main__2TB5j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__1sEBb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1hYLR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"FormForBuy_container__1_d-E\",\"title\":\"FormForBuy_title__3eLAm\",\"customer\":\"FormForBuy_customer__YyazU\",\"box\":\"FormForBuy_box__2SRYo\",\"svgBox\":\"FormForBuy_svgBox__4R6q9\",\"svg\":\"FormForBuy_svg__16-6z\",\"inputBox\":\"FormForBuy_inputBox__1PYeT\",\"input\":\"FormForBuy_input__3mB_j\",\"price\":\"FormForBuy_price__Al-Ey\",\"buttonRemove\":\"FormForBuy_buttonRemove__1fL_u\",\"buttonAdd\":\"FormForBuy_buttonAdd__3xucF\",\"buttonBuy\":\"FormForBuy_buttonBuy__2ZJFb\",\"text\":\"FormForBuy_text__1m7KC\",\"publicOfferBox\":\"FormForBuy_publicOfferBox__1la-4\",\"red\":\"FormForBuy_red__29ry0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bgnd\":\"HomePage_bgnd__2oUBB\",\"container\":\"HomePage_container__14k9f\",\"title\":\"HomePage_title__1cRh1\",\"subtitle\":\"HomePage_subtitle__3NU2M\",\"formContainer\":\"HomePage_formContainer__3ZBdz\",\"iconsBox\":\"HomePage_iconsBox__Dg2Kf\",\"iconItem\":\"HomePage_iconItem__18pE4\",\"iconItem1\":\"HomePage_iconItem1__2fU5X\",\"iconItem2\":\"HomePage_iconItem2__-mZq7\",\"iconItem3\":\"HomePage_iconItem3__jCaK3\",\"iconItem4\":\"HomePage_iconItem4__Mb-h-\",\"iconItem5\":\"HomePage_iconItem5__3mHEo\"};","import axios from \"axios\";\r\nconst baseURLcontrol = \"https://busis.eu/gds-control/api/v1\";\r\nconst baseURLsale = \"https://busis.eu/gds-sale/api/v1\";\r\n\r\nconst AUTH_KEY = `Basic ${Buffer.from(\"busfor_test:busfor_test\").toString(\"base64\")}`;\r\nconst AUTH_KEY2 = `Basic ${Buffer.from(\"380888888880:8111\").toString(\"base64\")}`;\r\n\r\n//  ====    ==== //\r\nexport const getAllStops = () => {\r\n  return axios({\r\n    method: \"get\",\r\n    url: `${baseURLcontrol}/locality/all`,\r\n    headers: {\r\n      Authorization: AUTH_KEY2,\r\n    },\r\n  });\r\n};\r\n\r\n// ====   ==== //\r\nexport const getInitialization = ({ idFrom, idWhereTo, date }, lang) => {\r\n  return axios({\r\n    method: \"post\",\r\n    url: `${baseURLcontrol}/search`,\r\n    headers: {\r\n      Authorization: AUTH_KEY2,\r\n    },\r\n    data: {\r\n      id: \"string\",\r\n      // lang: `${lang}`,\r\n      localityPairs: [[`${idFrom}`, `${idWhereTo}`]],\r\n      dates: [`${date}`],\r\n      currency: \"UAH\",\r\n      // maxConnections: 0,\r\n    },\r\n  });\r\n};\r\n\r\n//  ====   ==== //\r\nexport const searchTrips = (id) => {\r\n  return axios({\r\n    method: \"get\",\r\n    url: `${baseURLcontrol}/search/${id}`,\r\n    headers: {\r\n      Authorization: AUTH_KEY2,\r\n    },\r\n  });\r\n};\r\n// ====    ==== //\r\nexport const getRequaredFields = (key) => {\r\n  return axios({\r\n    method: \"get\",\r\n    url: `${baseURLcontrol}/search/trip/${key}/required`,\r\n    headers: {\r\n      Authorization: AUTH_KEY,\r\n    },\r\n  });\r\n};\r\n\r\n//  ====    ==== //\r\n// export const toBook = (body) => {\r\n//   return axios({\r\n//     method: \"post\",\r\n//     url: `${baseURLcontrol}/order`,\r\n//     headers: {\r\n//       Authorization: AUTH_KEY,\r\n//     },\r\n//     data: body,\r\n//   });\r\n// };\r\n\r\n// ====    ==== //\r\nexport const getTicketInfo = (id) => {\r\n  return axios({\r\n    method: \"get\",\r\n    url: `${baseURLcontrol}/order/${id}`,\r\n    headers: {\r\n      Authorization: AUTH_KEY2,\r\n    },\r\n  });\r\n};\r\n// ====    ==== //\r\nexport const toBookTicket = (body) => {\r\n  return axios({\r\n    method: \"post\",\r\n    url: `${baseURLsale}/order/with_payment_params/PORTMONE`,\r\n    headers: {\r\n      Authorization: AUTH_KEY2,\r\n    },\r\n    data: body,\r\n  });\r\n};\r\n\r\n// ====    ==== //\r\nexport const getTicketConfirm = (id) => {\r\n  return axios({\r\n    method: \"post\",\r\n    url: `${baseURLcontrol}/order/${id}/confirm/CASH`,\r\n    headers: {\r\n      Authorization: AUTH_KEY2,\r\n    },\r\n  });\r\n};\r\n\r\n// ====     ==== //\r\nexport const getTicketPrint = (id, lang) => {\r\n  return axios({\r\n    method: \"get\",\r\n    url: `${baseURLsale}/order/${id}/document/${lang}`,\r\n    headers: {\r\n      Authorization: AUTH_KEY2,\r\n    },\r\n  });\r\n};\r\nexport const getCities = (val, lang) => {\r\n  return axios({\r\n    method: \"get\",\r\n    url: `${baseURLsale}/locality/cities/${lang}?prefix=${val}`,\r\n    headers: {\r\n      Authorization: AUTH_KEY2,\r\n    },\r\n  });\r\n};\r\n// /locality/cities/{lang}?prefix={value, min length 2}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"passangersBox\":\"PassengersData_passangersBox__2vzCB\",\"subTitle\":\"PassengersData_subTitle__1Yzrn\",\"header\":\"PassengersData_header__1bXYK\",\"number\":\"PassengersData_number__LPGjY\",\"price\":\"PassengersData_price__3l4dv\",\"passangerData\":\"PassengersData_passangerData__3puIm\",\"passangerTitle\":\"PassengersData_passangerTitle__2zH-m\",\"passangerName\":\"PassengersData_passangerName__1Fcyp\",\"title\":\"PassengersData_title__217Xw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"OrderInfo_title__3ceH4\",\"orderBox\":\"OrderInfo_orderBox__2I8SS\",\"subTitle\":\"OrderInfo_subTitle__bgnKm\",\"locality\":\"OrderInfo_locality__1VNCL\",\"localityStop\":\"OrderInfo_localityStop__2e-Hn\",\"date\":\"OrderInfo_date__2l0Hy\",\"total\":\"OrderInfo_total__1QOpy\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export const Types = {\r\n  // global\r\n  FETCH_ALL_STOPS_SUCCESS: \"FETCH_ALL_STOPS_SUCCESS\",\r\n  START_LOADER: \"START_LOADER\",\r\n  GET_ERROR: \"GET_ERROR\",\r\n  FINISH_LOADER: \"FINISH_LOADER\",\r\n\r\n  // searchForm\r\n  INPUT_VALUE_FROM: \"INPUT_VALUE_FROM\",\r\n  FROM_ID: 'FROM_ID',\r\n  INPUT_VALUE_TO: \"INPUT_VALUE_TO\",\r\n  TO_ID: \"TO_ID\",\r\n  INPUT_DATE: \"INPUT_DATE\",\r\n  DECREMENT_AMOUNT_PASSANGER: \"DECREMENT_AMOUNT_PASSANGER\",\r\n  INCREMENT_AMOUNT_PASSANGER: \"INCREMENT_AMOUNT_PASSANGER\",\r\n  TIME: \"TIME\",\r\n\r\n  //  language\r\n  CHANGE_LANGUAGE: \"CHANGE_LANGUAGE\",\r\n\r\n  //  trips\r\n  FETCH_TRIPS_SUCCESS: \"FETCH_TRIPS_SUCCESS\",\r\n  GET_TRIPS_INFO: \"GET_TRIPS_INFO\",\r\n  FETCH_TICKET: 'FETCH_TICKET',\r\n  GET_SORT_TYPE: 'GET_SORT_TYPE',\r\n\r\n  // order\r\n  FETCH_ORDER_INFO: \"FETCH_ORDER_INFO\",\r\n  AMOUNT_PASSANGER: \"AMOUNT_PASSANGER\",\r\n\r\n};\r\n","import { Types } from \"../actionsTypes\";\r\nimport { combineReducers } from \"redux\";\r\n\r\nconst getInputValueFrom = (state = \"\", { type, payload }) => {\r\n  switch (type) {\r\n    case Types.INPUT_VALUE_FROM:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nconst getFromId = (state = \"\", { type, payload }) => {\r\n  switch (type) {\r\n    case Types.FROM_ID:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nconst getInputValueTo = (state = \"\", { type, payload }) => {\r\n  switch (type) {\r\n    case Types.INPUT_VALUE_TO:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nconst getToId = (state = \"\", { type, payload }) => {\r\n  switch (type) {\r\n    case Types.TO_ID:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nconst getInputValueDate = (state = new Date(), { type, payload }) => {\r\n  switch (type) {\r\n    case Types.INPUT_DATE:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nconst getAmountPassanger = (state = 1, { type, payload }) => {\r\n  switch (type) {\r\n    case Types.INCREMENT_AMOUNT_PASSANGER:\r\n      return state + 1;\r\n    case Types.DECREMENT_AMOUNT_PASSANGER:\r\n      return state - 1;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nconst getTime = (state = \"\", { type, payload }) => {\r\n  switch (type) {\r\n    case Types.TIME:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const searchFormReduser = combineReducers({\r\n  from: getInputValueFrom,\r\n  fromID: getFromId,\r\n  to: getInputValueTo,\r\n  toID: getToId,\r\n  date: getInputValueDate,\r\n  amountPassanger: getAmountPassanger,\r\n  time: getTime,\r\n});\r\n","import { Types } from '../actionsTypes';\r\n\r\nconst language = (state = 'UA', { type, payload }) => {\r\n  switch (type) {\r\n    case Types.CHANGE_LANGUAGE:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default language;\r\n\r\n","import { Types } from \"../actionsTypes\";\r\nimport { combineReducers } from \"redux\";\r\n\r\nconst getStops = (state = [], { type, payload }) => {\r\n  switch (type) {\r\n    case Types.FETCH_ALL_STOPS_SUCCESS:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst getError = (state = \"\", { type, payload }) => {\r\n  switch (type) {\r\n    case Types.GET_ERROR:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst getLoader = (state = false, { type, payload }) => {\r\n  switch (type) {\r\n    case Types.START_LOADER:\r\n      return true;\r\n    case Types.FINISH_LOADER:\r\n    case Types.GET_ERROR:\r\n    case Types.FETCH_TRIPS_SUCCESS:\r\n      //   case Types.FETCH_TRIPS_ERROR:\r\n      return false;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const globalReduser = combineReducers({\r\n  stops: getStops,\r\n  error: getError,\r\n  isLoading: getLoader,\r\n});\r\n","import { Types } from \"../actionsTypes\";\r\nimport { combineReducers } from \"redux\";\r\n\r\nconst getTrips = (state = {}, { type, payload }) => {\r\n  switch (type) {\r\n    case Types.FETCH_TRIPS_SUCCESS:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst getTripsInfo = (state = [], { type, payload }) => {\r\n  switch (type) {\r\n    case Types.GET_TRIPS_INFO:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst getSortType = (state = 'price', { type, payload }) => {\r\n  switch (type) {\r\n    case Types.GET_SORT_TYPE:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const tripsReduser = combineReducers({\r\n  trips: getTrips,\r\n  tripsInfo: getTripsInfo,\r\n  sortType: getSortType\r\n});\r\n","import { Types } from \"../actionsTypes\";\r\nimport { combineReducers } from \"redux\";\r\n\r\nconst getOrder = (state = {}, { type, payload }) => {\r\n  switch (type) {\r\n    case Types.FETCH_ORDER_INFO:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst getTicket = (state = {}, { type, payload }) => {\r\n  switch (type) {\r\n    case Types.FETCH_TICKET:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const orderReduser = combineReducers({\r\n  order: getOrder,\r\n  ticket: getTicket\r\n});\r\n","import { createStore, combineReducers, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport { searchFormReduser } from \"./searchForm/searchFormReduser\";\r\nimport language from \"./Language/languageReduser\";\r\nimport { globalReduser } from \"./global/globalReduser\";\r\nimport { tripsReduser } from \"./trips/tripsReduser\";\r\nimport { orderReduser } from \"./order/orderReduser\";\r\n\r\nconst rootRedusers = combineReducers({\r\n  global: globalReduser,\r\n  searchForm: searchFormReduser,\r\n  language: language,\r\n  trips: tripsReduser,\r\n  order: orderReduser,\r\n});\r\nconst enhancer = applyMiddleware(thunk);\r\n\r\nconst store = createStore(rootRedusers, composeWithDevTools(enhancer));\r\n\r\nexport default store;\r\n","import { Types } from \"../actionsTypes\";\r\n\r\nexport const fetchAllStops = (stops) => ({\r\n  type: Types.FETCH_ALL_STOPS_SUCCESS,\r\n  payload: stops,\r\n});\r\n\r\nexport const getError = (err) => ({\r\n  type: Types.GET_ERROR,\r\n  payload: err,\r\n});\r\n\r\nexport const startLoader = () => ({\r\n  type: Types.START_LOADER,\r\n});\r\nexport const stopLoader = () => ({\r\n    type: Types.FINISH_LOADER,\r\n  });\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getError } from \"../redux/global/globalActions\";\r\nimport styles from \"./ErrorPage.module.css\";\r\n\r\nconst ErrorPage = () => {\r\n  const dispatch = useDispatch();\r\n  const clearErorr = (val) => dispatch(getError(val));\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <p className={styles.smile}>Oops..! something went wrong</p>\r\n      <Link to=\"/\" className={styles.link} onClick={() => clearErorr(\"\")}>\r\n           \r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ErrorPage;\r\n","export const messages = {\r\n  EN: {\r\n    title: \"Bus ticket\",\r\n    subtitle: \"in Ukraine, Poland, Europe\",\r\n    iconItem1: \"Low price guarantee\",\r\n    iconItem2: \"Safe card payment\",\r\n    iconItem3: \"24/7 customer support\",\r\n    iconItem4: \"iscounts and bonuses\",\r\n    iconItem5: \"SMS informing\",\r\n    searchBtn: \"Search\",\r\n    inputAmount: \"Passengers\",\r\n    from: \"from\",\r\n    to: \"to\",\r\n  },\r\n  RU: {\r\n    title: \"  \",\r\n    subtitle: \" , , \",\r\n    iconItem1: \"  \",\r\n    iconItem2: \"  \",\r\n    iconItem3: \"  \",\r\n    iconItem4: \"   \",\r\n    iconItem5: \" \",\r\n    searchBtn: \"\",\r\n    inputAmount: \"\",\r\n    from: \"\",\r\n    to: \"\",\r\n  },\r\n  UK: {\r\n    title: \"  \",\r\n    subtitle: \" , , \",\r\n    iconItem1: \"  \",\r\n    iconItem2: \"  \",\r\n    iconItem3: \"  \",\r\n    iconItem4: \"   \",\r\n    iconItem5: \" \",\r\n    searchBtn: \"\",\r\n    inputAmount: \"\",\r\n    from: \"\",\r\n    to: \"\",\r\n  },\r\n  PL: {\r\n    title: \"Bilety autobusowe\",\r\n    subtitle: \"na Ukrainie, w Polsce, Europie\",\r\n    iconItem1: \"Gwarancja niskiej ceny\",\r\n    iconItem2: \"Bezpieczna patno kart\",\r\n    iconItem3: \"Obsuga klienta 24/7\",\r\n    iconItem4: \"System rabatw i bonusw\",\r\n    iconItem5: \"Informowanie SMS\",\r\n    searchBtn: \"Szukaj\",\r\n    inputAmount: \"Pasaerowie\",\r\n    from: \"Skd\",\r\n    to: \"Dokd\",\r\n  },\r\n};\r\n","import { Types } from \"../actionsTypes\";\r\n\r\nexport const inputValueFrom = (value) => ({\r\n  type: Types.INPUT_VALUE_FROM,\r\n  payload: value,\r\n});\r\nexport const setFromId = (value) => ({\r\n  type: Types.FROM_ID,\r\n  payload: value,\r\n});\r\nexport const inputValueTo = (value) => ({\r\n  type: Types.INPUT_VALUE_TO,\r\n  payload: value,\r\n});\r\nexport const setToId = (value) => ({\r\n  type: Types.TO_ID,\r\n  payload: value,\r\n});\r\nexport const inputValueDate = (date) => ({\r\n  type: Types.INPUT_DATE,\r\n  payload: date,\r\n});\r\n\r\nexport const incrementAmountPassangers = () => ({\r\n  type: Types.INCREMENT_AMOUNT_PASSANGER,\r\n});\r\n\r\nexport const decrementAmountPassangers = () => ({\r\n  type: Types.DECREMENT_AMOUNT_PASSANGER,\r\n});\r\n\r\nexport const setTime = (time) => ({\r\n  type: Types.TIME,\r\n  payload: time\r\n});\r\n","import { Types } from \"../actionsTypes\";\r\n\r\nexport const fetchTripsSuccess = (trips) => ({\r\n  type: Types.FETCH_TRIPS_SUCCESS,\r\n  payload: trips,\r\n});\r\n\r\nexport const getTripsInfo = (trips) => ({\r\n  type: Types.GET_TRIPS_INFO,\r\n  payload: trips,\r\n});\r\n\r\nexport const changeSortType = (val) => ({\r\n  type: Types.GET_SORT_TYPE,\r\n  payload: val,\r\n});\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\r\nimport {\r\n  inputValueFrom,\r\n  inputValueTo,\r\n  setFromId,\r\n  setToId,\r\n} from \"../../redux/searchForm/searchFormAction\";\r\nimport styled from \"styled-components\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport { messages } from \"../../intl/HomePageMessanges\";\r\nimport { getCities } from \"../../services/api\";\r\n\r\nconst filterOptions = createFilterOptions({\r\n  matchFrom: \"start\",\r\n});\r\n\r\nconst INITIAL_STATE = [\r\n  {\r\n    lang: \"RU\",\r\n    value: \"2498204\",\r\n    text: \"\",\r\n    description: \"/\",\r\n  },\r\n  {\r\n    lang: \"RU\",\r\n    value: \"2498710\",\r\n    text: \"\",\r\n    description: \"\",\r\n  },\r\n  {\r\n    lang: \"RU\",\r\n    value: \"2498389\",\r\n    text: \"\",\r\n    description: \"/\",\r\n  },\r\n  {\r\n    lang: \"RU\",\r\n    value: \"2498336\",\r\n    text: \"\",\r\n    description: \"/\",\r\n  },\r\n];\r\n\r\nconst StyledTextField = styled(TextField)`\r\n  label {\r\n    color: var(--color-secondary);\r\n  }\r\n  label.Mui-focused {\r\n    color: var(--color-secondary);\r\n  }\r\n  .MuiOutlinedInput-root {\r\n    fieldset {\r\n      border: 2px solid var(--color-secondary);\r\n    }\r\n    &:hover fieldset {\r\n      border: 3px solid var(--color-secondary);\r\n    }\r\n    &.Mui-focused fieldset {\r\n      border: 3px solid var(--color-secondary);\r\n    }\r\n  }\r\n  .MuiInputBase-input {\r\n    color: #ffffff;\r\n    font-family: \"HelveticaNeueCyr\";\r\n    font-size: 18px;\r\n    font-weight: 500;\r\n    cursor: pointer;\r\n  }\r\n  .MuiIconButton-root {\r\n    color: var(--color-secondary);\r\n  }\r\n  .MuiFormControl-marginNormal {\r\n    margin: 0;\r\n  }\r\n`;\r\nconst StyledAutocomplete = styled(Autocomplete)`\r\n  .MuiFormControl-marginNormal {\r\n    margin: 0;\r\n  }\r\n  .MuiAutocomplete-option[data-focus=\"true\"] {\r\n    background: \"blue\";\r\n  }\r\n`;\r\n\r\nconst AutocompleteComp = ({ id, error }) => {\r\n  // ====redux ====//\r\n  //   const stops = useSelector((state) => state.global.stops);\r\n  const lang = useSelector((state) => state.language);\r\n  const from = useSelector((state) => state.searchForm.from);\r\n  const to = useSelector((state) => state.searchForm.to);\r\n  const dispatch = useDispatch();\r\n  const changeInputFrom = (value) => dispatch(inputValueFrom(value));\r\n  const changeInputTo = (value) => dispatch(inputValueTo(value));\r\n  const fromId = (value) => dispatch(setFromId(value));\r\n  const toId = (value) => dispatch(setToId(value));\r\n\r\n  // === state ==== //\r\n  const [options, setOptions] = useState([]);\r\n\r\n  const locale = lang === \"UA\" ? \"UK\" : lang;\r\n\r\n  // ====    / ==== //\r\n  useEffect(() => {\r\n    setOptions(INITIAL_STATE.map((el) => `${el.text} - ${el.description} - ${el.value}`));\r\n  }, []);\r\n\r\n  // ====        ==== //\r\n  const handleChange = (value) => {\r\n    const val = value ? value.split(\" - \")[0].trim() : null;\r\n    const valId = value ? value.split(\" - \")[2].trim() : null;\r\n    id === \"from\" ? changeInputFrom(val) : changeInputTo(val);\r\n    id === \"from\" ? fromId(valId) : toId(valId);\r\n  };\r\n  // ====         ==== //\r\n  const handleInputBlur = ({ target }) => {\r\n    const val = target.value ? target.value.split(\" - \")[0].trim() : null;\r\n    id === \"from\" ? changeInputFrom(val) : changeInputTo(val);\r\n  };\r\n\r\n  //   ====         ====//\r\n  const getOtpions = (target) => {\r\n    id === \"from\" ? fromId(\"\") : toId(\"\");\r\n    if (target.value.length >= 2)\r\n      getCities(target.value, lang).then(({ data }) => {\r\n        setOptions(data.map((el) => `${el.text} - ${el.description} - ${el.value}`));\r\n      });\r\n    if (target.value.length === 0)\r\n      setOptions(\r\n        INITIAL_STATE.map((el) => `${el.text} - ${el.description} - ${el.value}`)\r\n      );\r\n  };\r\n  return (\r\n    <IntlProvider locale={locale} messages={messages[locale]}>\r\n      <div>\r\n        <StyledAutocomplete\r\n          id={id}\r\n          freeSolo\r\n          value={id === \"from\" ? from : to}\r\n          filterOptions={filterOptions}\r\n          onChange={(event, value) => handleChange(value)}\r\n          onClick={(event, value) => handleChange(value)}\r\n          options={options.map((opt) => opt)}\r\n          renderOption={(opt) => (\r\n            <div>\r\n              <span className=\"acMainOption\">{opt.split(\" - \")[0]}</span>\r\n              <span> - {opt.split(\" - \")[1]}</span>\r\n            </div>\r\n          )}\r\n          renderInput={(params) => (\r\n            <StyledTextField\r\n              {...params}\r\n              label={\r\n                id === \"from\" ? (\r\n                  <FormattedMessage id=\"from\" />\r\n                ) : (\r\n                  <FormattedMessage id=\"to\" />\r\n                )\r\n              }\r\n              onChange={({ target }) => getOtpions(target)}\r\n              onMouseDown={({ target }) => getOtpions(target)}\r\n              onBlur={(event) => handleInputBlur(event)}\r\n              margin=\"normal\"\r\n              variant=\"outlined\"\r\n              error={error}\r\n              helperText={error ? \"  \" : \"\"}\r\n            />\r\n          )}\r\n        />\r\n      </div>\r\n    </IntlProvider>\r\n  );\r\n};\r\n\r\nexport default AutocompleteComp;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n});\n\nfunction SvgAddBlack18Dp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"var(--color-secondary)\",\n    width: \"24px\",\n    height: \"24px\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAddBlack18Dp);\nexport default __webpack_public_path__ + \"static/media/add-black-18dp.aceff8ea.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13H5v-2h14v2z\"\n});\n\nfunction SvgRemoveBlack18Dp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"var(--color-secondary)\",\n    width: \"24px\",\n    height: \"24px\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRemoveBlack18Dp);\nexport default __webpack_public_path__ + \"static/media/remove-black-18dp.1befb1ac.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport {\r\n  decrementAmountPassangers,\r\n  incrementAmountPassangers,\r\n} from \"../../redux/searchForm/searchFormAction\";\r\nimport { messages } from \"../../intl/HomePageMessanges\";\r\nimport { ReactComponent as Plus } from \"../../images/add-black-18dp.svg\";\r\nimport { ReactComponent as Minus } from \"../../images/remove-black-18dp.svg\";\r\nimport styles from \"./AmountPassanger.module.css\";\r\n\r\nconst AmountPassanger = () => {\r\n  // ==== redux ==== //\r\n  const dispatch = useDispatch();\r\n  const amount = useSelector((state) => state.searchForm.amountPassanger);\r\n  const lang = useSelector((state) => state.language);\r\n\r\n  const locale = lang === \"UA\" ? \"UK\" : lang;\r\n\r\n  return (\r\n    <IntlProvider locale={locale} messages={messages[locale]}>\r\n      <div className={styles.amountBox}>\r\n        <p>\r\n          <FormattedMessage id=\"inputAmount\" />:{\" \"}\r\n        </p>\r\n        <div className={styles.flex}>\r\n          <button\r\n            type=\"button\"\r\n            className={styles.button}\r\n            name=\"decrement\"\r\n            disabled={amount <= 1}\r\n            onClick={() => dispatch(decrementAmountPassangers())}\r\n          >\r\n            {\" \"}\r\n            <Minus />{\" \"}\r\n          </button>\r\n          <span>{amount}</span>\r\n          <button\r\n            type=\"button\"\r\n            className={styles.button}\r\n            name=\"increment\"\r\n            disabled={amount >= 10}\r\n            onClick={() => dispatch(incrementAmountPassangers())}\r\n          >\r\n            <Plus />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </IntlProvider>\r\n  );\r\n};\r\n\r\nexport default AmountPassanger;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"rect\", {\n  fill: \"none\",\n  height: 24,\n  width: 24\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null), /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M22,8l-4-4v3H3v2h15v3L22,8z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M2,16l4,4v-3h15v-2H6v-3L2,16z\"\n})));\n\nfunction SvgSyncAltWhite36Dp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    enableBackground: \"new 0 0 24 24\",\n    viewBox: \"0 0 24 24\",\n    fill: \"var(--color-secondary)\",\n    width: \"36px\",\n    height: \"36px\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSyncAltWhite36Dp);\nexport default __webpack_public_path__ + \"static/media/sync_alt-white-36dp.c9deb1dc.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport ru from \"date-fns/locale/ru\";\r\nimport en from \"date-fns/locale/en-GB\";\r\nimport ua from \"date-fns/locale/uk\";\r\nimport pl from \"date-fns/locale/pl\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { format } from \"date-fns\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport { messages } from \"../../intl/HomePageMessanges\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport {\r\n  inputValueFrom,\r\n  inputValueTo,\r\n  inputValueDate,\r\n  setTime,\r\n  setFromId,\r\n  setToId,\r\n} from \"../../redux/searchForm/searchFormAction\";\r\nimport { fetchTripsSuccess } from \"../../redux/trips/tripsActions\";\r\nimport { getError, startLoader } from \"../../redux/global/globalActions\";\r\nimport styles from \"./SearchForm.module.css\";\r\n// import AutocompleteComp from \"./Autocomplete\";\r\nimport Autocomplete2 from \"./Autocomplete2\";\r\n\r\nimport AmountPassanger from \"./AmountPassanger\";\r\nimport { ReactComponent as Arrow } from \"../../images/sync_alt-white-36dp.svg\";\r\n\r\nclass SearchForm extends Component {\r\n  state = {\r\n    errorFrom: false,\r\n    errorTo: false,\r\n  };\r\n\r\n  // ====\r\n  componentDidUpdate(prevProps) {\r\n    const { from, to } = this.props;\r\n    if (prevProps.from !== from) {\r\n      if (from) {\r\n        this.setState({ errorFrom: false });\r\n      }\r\n    }\r\n    if (prevProps.to !== to) {\r\n      if (to) {\r\n        this.setState({ errorTo: false });\r\n      }\r\n    }\r\n  }\r\n\r\n  // ====      ==== //\r\n  changeButton = () => {\r\n    const {\r\n      changeInputFrom,\r\n      setToId,\r\n      setFromId,\r\n      changeInputTo,\r\n      from,\r\n      to,\r\n      fromID,\r\n      toID,\r\n    } = this.props;\r\n    const fromInp = from;\r\n    const fromId = fromID;\r\n    const toInp = to;\r\n    const toId = toID;\r\n    changeInputFrom(toInp);\r\n    setFromId(toId);\r\n    changeInputTo(fromInp);\r\n    setToId(fromId);\r\n  };\r\n\r\n  // ====        ==== //\r\n  dateLocale = () => {\r\n    const { lang } = this.props;\r\n    if (lang === \"EN\") return en;\r\n    if (lang === \"RU\") return ru;\r\n    if (lang === \"UA\") return ua;\r\n    if (lang === \"PL\") return pl;\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const {\r\n      to,\r\n      date,\r\n      toID,\r\n      from,\r\n      fromID,\r\n      amount,\r\n      history,\r\n      setTime,\r\n      getError,\r\n      startLoader,\r\n      fetchTripsSuccess,\r\n    } = this.props;\r\n\r\n    // ====     ==== //\r\n    const fromId = fromID ? fromID : this.getId(from, \"from\");\r\n    const toId = toID ? toID : this.getId(to, \"to\");\r\n    const dateQuery = format(new Date(date), \"yyyy-MM-dd\");\r\n\r\n    // ====         ==== //\r\n    if (fromId && toId) {\r\n      // ====  ,       ==== //\r\n      getError(\"\");\r\n      fetchTripsSuccess({});\r\n      startLoader();\r\n      setTime(new Date().getTime());\r\n      //  ====     ==== //\r\n      history.push(\r\n        `/trips?from=${fromId}&to=${toId}&date=${dateQuery}&passengers=${amount}`\r\n      );\r\n    }\r\n  };\r\n\r\n  getId = (val, type) => {\r\n    console.log(\"object\")\r\n    const { lang, stops } = this.props;\r\n    const result = stops.find((item) =>\r\n      item.type === \"LOCALITY\"\r\n        ? (item.name[`${lang}`] || item.name[\"EN\"]).toLowerCase() ===\r\n          val.toLowerCase().trim()\r\n        : null\r\n    );\r\n    if (result) {\r\n      return result.id;\r\n    } else {\r\n      type === \"from\"\r\n        ? this.setState({ errorFrom: true })\r\n        : this.setState({ errorTo: true });\r\n      return;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { date, changeInputDate, lang } = this.props;\r\n    const locale = lang === \"UA\" ? \"UK\" : lang;\r\n    return (\r\n      <form onSubmit={this.handleSubmit} className={`${styles.form} `}>\r\n        <div className={styles.fromTo}>\r\n          <div className={styles.inputBox}>\r\n            {/* <AutocompleteComp id=\"from\" error={this.state.errorFrom} /> */}\r\n            <Autocomplete2 id=\"from\" error={this.state.errorFrom} />\r\n          </div>\r\n          <Arrow className={styles.arrow} onClick={this.changeButton} />\r\n          <div className={styles.inputBox}>\r\n            {/* <AutocompleteComp id=\"to\" error={this.state.errorTo} /> */}\r\n            <Autocomplete2 id=\"to\" error={this.state.errorTo} />\r\n          </div>\r\n        </div>\r\n        <div className={styles.flex}>\r\n          <div className={styles.inputBox}>\r\n            <DatePicker\r\n              className={styles.datePicker}\r\n              dateFormat=\"dd MMMM yyyy\"\r\n              selected={date}\r\n              minDate={new Date()}\r\n              locale={this.dateLocale()}\r\n              onChange={(date) => changeInputDate(date)}\r\n            />\r\n          </div>\r\n          <div className={styles.inputBox}>\r\n            <AmountPassanger onClose={this.closeModal} />\r\n          </div>\r\n        </div>\r\n        <IntlProvider locale={locale} messages={messages[locale]}>\r\n          <Button\r\n            className={styles.searchBtn}\r\n            type=\"submit\"\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n          >\r\n            <FormattedMessage id=\"searchBtn\" />\r\n          </Button>\r\n        </IntlProvider>\r\n      </form>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n  lang: state.language,\r\n  from: state.searchForm.from,\r\n  fromID: state.searchForm.fromID,\r\n  to: state.searchForm.to,\r\n  toID: state.searchForm.toID,\r\n  date: state.searchForm.date,\r\n  amount: state.searchForm.amountPassanger,\r\n  stops: state.global.stops,\r\n});\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  changeInputFrom: (value) => dispatch(inputValueFrom(value)),\r\n  setFromId: (value) => dispatch(setFromId(value)),\r\n  changeInputTo: (value) => dispatch(inputValueTo(value)),\r\n  setToId: (value) => dispatch(setToId(value)),\r\n  changeInputDate: (date) => dispatch(inputValueDate(date)),\r\n  fetchTripsSuccess: (trips) => dispatch(fetchTripsSuccess(trips)),\r\n  getError: (err) => dispatch(getError(err)),\r\n  startLoader: () => dispatch(startLoader()),\r\n  setTime: (time) => dispatch(setTime(time)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchForm);\r\n","import React from \"react\";\r\nimport styles from \"./HomePage.module.css\";\r\nimport SearchForm from \"../components/SearchForm/SearchForm\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport { messages } from \"../intl/HomePageMessanges\";\r\nimport { Redirect, useHistory } from \"react-router-dom\";\r\n\r\nconst HomePage = () => {\r\n  const lang = useSelector((state) => state.language);\r\n  const error = useSelector((state) => state.global.error);\r\n  const history = useHistory();\r\n  const locale = lang === \"UA\" ? \"UK\" : lang;\r\n\r\n  return (\r\n    <>\r\n      {error && <Redirect to=\"/error\" />}\r\n      <IntlProvider locale={locale} messages={messages[locale]}>\r\n        <div className={styles.bgnd}>\r\n          <div className={styles.container}>\r\n            <h1 className={styles.title}>\r\n              <FormattedMessage id=\"title\" />\r\n            </h1>\r\n            <p className={styles.subtitle}>\r\n              <FormattedMessage id=\"subtitle\" />\r\n            </p>\r\n            <div className={styles.formContainer}>\r\n              <SearchForm history={history} />\r\n            </div>\r\n            <ul className={styles.iconsBox}>\r\n              <li className={`${styles.iconItem} ${styles.iconItem1}`}>\r\n                <p>\r\n                  <FormattedMessage id=\"iconItem1\" />\r\n                </p>\r\n              </li>\r\n              <li className={`${styles.iconItem} ${styles.iconItem2}`}>\r\n                <p>\r\n                  <FormattedMessage id=\"iconItem2\" />\r\n                </p>\r\n              </li>\r\n              <li className={`${styles.iconItem} ${styles.iconItem3}`}>\r\n                <p>\r\n                  <FormattedMessage id=\"iconItem3\" />\r\n                </p>\r\n              </li>\r\n              <li className={`${styles.iconItem} ${styles.iconItem4}`}>\r\n                <p>\r\n                  <FormattedMessage id=\"iconItem4\" />\r\n                </p>\r\n              </li>\r\n              <li className={`${styles.iconItem} ${styles.iconItem5}`}>\r\n                <p>\r\n                  <FormattedMessage id=\"iconItem5\" />\r\n                </p>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </IntlProvider>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n","import { Types } from \"../actionsTypes\";\r\n\r\nexport const fetchOrderInfo = (obj) => ({\r\n  type: Types.FETCH_ORDER_INFO,\r\n  payload: obj,\r\n});\r\n\r\nexport const fetchTicket = (ticket) => ({\r\n  type: Types.FETCH_TICKET,\r\n  payload: ticket,\r\n});","import { getError } from \"../global/globalActions\";\r\nimport { fetchTicket } from \"./orderActions\";\r\nimport { getTicketConfirm, getTicketInfo } from \"../../services/api\";\r\n\r\nexport const getTicket = (id) => (dispatch) => {\r\n  getTicketInfo(id)\r\n    .then(({ data }) => dispatch(fetchTicket(data)))\r\n    .catch((error) => dispatch(getError(error.message)));\r\n};\r\nexport const getConfirm = (id) => (dispatch) => {\r\n  getTicketConfirm(id)\r\n    .then(({ data }) => dispatch(fetchTicket(data)))\r\n    .catch((error) => dispatch(getError(error.message)));\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport CryptoJS from \"crypto-js\";\r\nimport { getConfirm, getTicket } from \"../redux/order/orderOperation\";\r\nimport { getTicketPrint } from \"../services/api\";\r\nimport styles from \"./MyTicketPage.module.css\";\r\nclass MyTicketPage extends Component {\r\n  state = {\r\n    status: \"NEW\",\r\n    id: \"\",\r\n    url: [],\r\n  };\r\n\r\n  //  ====     ==== //\r\n  componentDidMount() {\r\n    // ====   id === //\r\n    const encryptId = atob(this.props.match.params.id);\r\n    // ====  id ==== //\r\n    const id = CryptoJS.AES.decrypt(encryptId, \"KeyVezu\").toString(CryptoJS.enc.Utf8);\r\n    this.setState({ id: id });\r\n\r\n    //  ====     === //\r\n    this.props.getTicket(id);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { id } = this.state;\r\n\r\n    if (prevProps.ticket !== this.props.ticket) {\r\n      if (this.props.ticket.services[0].status === \"NEW\") {\r\n        this.props.getConfirm(id);\r\n      }\r\n      if (this.props.ticket.services[0].status === \"CONFIRM\") {\r\n        this.setState({ status: \"CONFIRM\" });\r\n        // ====     ==== //\r\n        getTicketPrint(id, this.props.lang)\r\n          .then(({ data }) => {\r\n            this.getURL(data.documents[0].base64);\r\n          })\r\n          .catch((err) => console.log(err));\r\n      }\r\n      if (\r\n        this.props.ticket.services[0].status !== \"CONFIRM\" &&\r\n        this.props.ticket.services[0].status !== \"NEW\"\r\n      ) {\r\n        this.setState({ status: \"ERROR\" });\r\n      }\r\n    }\r\n  }\r\n  // ====     ==== //\r\n  getURL = (data) => {\r\n    const byteCharacters = atob(data);\r\n    const byteNumbers = new Array(byteCharacters.length);\r\n    for (let i = 0; i < byteCharacters.length; i++) {\r\n      byteNumbers[i] = byteCharacters.charCodeAt(i);\r\n    }\r\n    const byteArray = new Uint8Array(byteNumbers);\r\n    const pdf = new Blob([byteArray], { type: \"application/pdf\" });\r\n    const base64 = window.URL.createObjectURL(pdf);\r\n    this.setState({ url: base64 });\r\n  };\r\n\r\n  render() {\r\n    const { status, id, url } = this.state;\r\n    return (\r\n      <div className=\"bgnd\">\r\n        \r\n        {status === \"CONFIRM\" && (\r\n          <div className=\"container\">\r\n            <h1 className={styles.title}>  !!!</h1>\r\n            <p className={styles.text}>H  </p>\r\n            <p className={styles.id}>{id}</p>\r\n            <a className={styles.link} href={url} target=\"_blank\" rel=\"noreferrer\">\r\n              C \r\n            </a>\r\n          </div>\r\n        )}\r\n        {status === \"ERROR\" && (\r\n          <>\r\n            <h1>    !!!</h1>\r\n            <p className={styles.text}>\r\n                   :{\" \"}\r\n              <a href=\"tel: +1 111 111-11-11\">+1 111 111-11-11</a>\r\n            </p>\r\n            <p className={styles.text}>H  </p>\r\n            <p className={styles.id}>{id}</p>\r\n          </>\r\n        )}\r\n\r\n        {/* <pre>{JSON.stringify(this.props.data, null, 4)}</pre> */}\r\n        {/* <pre>{JSON.stringify(this.props.ticket, null, 4)}</pre> */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n  ticket: state.order.ticket,\r\n  lang: state.language,\r\n  price: state.order.order.priceId,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  getTicket: (id) => dispatch(getTicket(id)),\r\n  getConfirm: (id) => dispatch(getConfirm(id)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MyTicketPage);\r\n","export const messages = {\r\n  EN: {\r\n    title: \"Passenger data\",\r\n    departure: \"Departure\",\r\n    arrival: \"Arrival\",\r\n    buttonAdd: \"Add passenger\",\r\n    customer: \"Customer details*:\",\r\n    offer: \"I accept the terms \",\r\n    offerSpan: \"of the public offer\",\r\n    buy: \"To the payment\",\r\n    myData: \"I consent to the processing of \",\r\n    myDataSpan: \"personal data\",\r\n    requared: \"*All fields are required\",\r\n    numTel: \"** Indicate the current phone number for communication in case of flight changes\",\r\n    details: \"Order details\",\r\n    pay: \"Payable: \",\r\n  },\r\n  RU: {\r\n    title: \"  *:\",\r\n    departure: \"\",\r\n    arrival: \"\",\r\n    buttonAdd: \" \",\r\n    customer: \"  *:\",\r\n    offer: \"   \",\r\n    offerSpan: \" \",\r\n    buy: \"  \",\r\n    myData: \"     \",\r\n    myDataSpan: \" \",\r\n    requared: \"*    \",\r\n    numTel: \"**         \",\r\n    details: \" \",\r\n    pay: \" : \",\r\n  },\r\n  UK: {\r\n    title: \"  *:\",\r\n    departure: \"\",\r\n    arrival: \"\",\r\n    buttonAdd: \" \",\r\n    customer: \"   *:\",\r\n    offer: \"   \",\r\n    offerSpan: \" \",\r\n    buy: \"  \",\r\n    myData: \"     \",\r\n    myDataSpan: \" \",\r\n    requared: \"*  '  \",\r\n    numTel: \"**     '    \",\r\n    details: \" \",\r\n    pay: \" : \",\r\n  },\r\n  PL: {\r\n    title: \"Dane pasaera*:\",\r\n    departure: \"Wyjazd\",\r\n    arrival: \"Przyjazd\",\r\n    buttonAdd: \"Dodaj pasaera\",\r\n    customer: \"Dane kupujcego *:\",\r\n    offer: \"Akceptuj warunki \",\r\n    offerSpan: \"oferty publicznej\",\r\n    buy: \"Przejd do patnoci\",\r\n    myData: \"Wyraam zgod na przetwarzanie \",\r\n    myDataSpan: \"danych osobowych\",\r\n    requared: \"*Wszystkie pola s wymagane\",\r\n    numTel: \"**Podaj aktualny numer telefonu do komunikacji w przypadku zmiany lotu\",\r\n    details: \"Szczegy zamwienia\",\r\n    pay: \"Do zapaty: \",\r\n  },\r\n};\r\n","export const getLang = (lang) => {\r\n  let lng;\r\n  switch (lang) {\r\n    case \"RU\":\r\n      lng = \"ru\";\r\n      break;\r\n    case \"UA\":\r\n      lng = \"uk\";\r\n      break;\r\n    case \"EN\":\r\n      lng = \"en\";\r\n      break;\r\n    case \"PL\":\r\n      lng = \"pl\";\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  return lng;\r\n};\r\n// ====  c  / ==== //\r\nexport const getLocality = (id, stops, lang) => {\r\n  const result = stops.find((el) => el.id === id);\r\n  return result ? result.name[`${lang}`] || result.name[`EN`] : null;\r\n};\r\n\r\n// ====   / === //\r\nexport const getStop = (key, trips, lang) =>\r\n  Object.keys(trips).length > 0 ? trips.localities[`${key}`]?.name[`${lang}`] : null;\r\n\r\n// ====    ==== //\r\nexport const getAllLocalities = (key, trips, lang) => {\r\n  return Object.keys(trips).length > 0\r\n    ? trips.localities[`${key}`].name[`${lang}`] || trips.localities[`${key}`].name[`RU`]\r\n    : null;\r\n};\r\n\r\n// ====   / ==== //\r\nexport const getDate = (key, trip, lang) => {\r\n  return new Date(trip[`${key}`]).toLocaleString(getLang(lang), {\r\n    day: \"2-digit\",\r\n    month: \"short\",\r\n    year: \"2-digit\",\r\n  });\r\n};\r\n\r\n// ====   / ==== //\r\nexport const getTime = (key, trip, lang) => {\r\n  return new Date(trip[`${key}`]).toLocaleString(getLang(lang), {\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n  });\r\n};\r\n\r\n// ====      ==== //\r\nexport const getTimeInWay = (trip, lang) => {\r\n  let h, m;\r\n  switch (lang) {\r\n    case \"RU\":\r\n      h = \"\";\r\n      m = \"\";\r\n      break;\r\n    case \"UA\":\r\n      h = \"\";\r\n      m = \"\";\r\n      break;\r\n    case \"EN\":\r\n      h = \"h\";\r\n      m = \"min\";\r\n      break;\r\n    case \"PL\":\r\n      h = \"g\";\r\n      m = \"min\";\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  return `${+trip.timeInWay.split(\":\")[0]}${h} ${trip.timeInWay.split(\":\")[1]}${m}`;\r\n};\r\nexport const getYesterday = ({ date }, lang) => {\r\n  return new Date(new Date(date).getTime() - 24 * 60 * 60 * 1000).toLocaleString(\r\n    getLang(lang),\r\n    {\r\n      day: \"2-digit\",\r\n      month: \"long\",\r\n      year: \"2-digit\",\r\n    }\r\n  );\r\n};\r\nexport const getTomorrow = ({ date }, lang) => {\r\n  return new Date(new Date(date).getTime() + 24 * 60 * 60 * 1000).toLocaleString(\r\n    getLang(lang),\r\n    {\r\n      day: \"2-digit\",\r\n      month: \"long\",\r\n      year: \"2-digit\",\r\n    }\r\n  );\r\n};\r\nexport const getTodayDate = ({ date }, lang) => {\r\n  return new Date(date).toLocaleString(getLang(lang), {\r\n    day: \"2-digit\",\r\n    month: \"long\",\r\n    year: \"2-digit\",\r\n  });\r\n};\r\n\r\nexport const getExpireTime = (date, lang) => {\r\n  return new Date(date).toLocaleString(getLang(lang), {\r\n    day: \"2-digit\",\r\n    month: \"long\",\r\n    year: \"2-digit\",\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n  });\r\n};\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport styles from \"./OrderInfo.module.css\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport { messages } from \"../../intl/OrderPageMessanges\";\r\nimport { getLocality, getStop } from \"../../services/getInfo\";\r\n\r\nconst OrderInfo = ({ total }) => {\r\n  const lang = useSelector((state) => state.language);\r\n  const trips = useSelector((state) => state.trips.trips);\r\n  const to = useSelector((state) => state.order.order.to);\r\n  const stops = useSelector((state) => state.global.stops);\r\n  const from = useSelector((state) => state.order.order.from);\r\n  const price = useSelector((state) => state.order.order.price);\r\n  const toStop = useSelector((state) => state.order.order.toStop);\r\n  const fromStop = useSelector((state) => state.order.order.fromStop);\r\n  const arrivalDate = useSelector((state) => state.order.order.arrivalDate);\r\n  const departureDate = useSelector((state) => state.order.order.departureDate);\r\n  const locale = lang === \"UA\" ? \"UK\" : lang;\r\n  \r\n  const getTotalPrice = () => {\r\n    return (total * price).toFixed(2);\r\n  };\r\n  return (\r\n    <IntlProvider locale={locale} messages={messages[locale]}>\r\n      <div>\r\n        <h3 className={styles.title}>\r\n          <FormattedMessage id=\"details\" />\r\n        </h3>\r\n        <div className={styles.orderBox}>\r\n          <h4 className={styles.subTitle}>\r\n            <FormattedMessage id=\"departure\" />\r\n          </h4>\r\n          <p className={styles.locality}>{getLocality(from, stops, lang)}</p>\r\n          <p className={styles.localityStop}>{getStop(fromStop, trips, lang)}</p>\r\n          <p className={styles.date}>{departureDate}</p>\r\n          <h4 className={styles.subTitle}>\r\n            <FormattedMessage id=\"arrival\" />\r\n          </h4>\r\n          <p className={styles.locality}>{getLocality(to, stops, lang)}</p>\r\n          <p className={styles.localityStop}>{getStop(toStop, trips, lang)}</p>\r\n          <p className={styles.date}>{arrivalDate}</p>\r\n          <p className={styles.total}>\r\n            <FormattedMessage id=\"pay\" />\r\n            {getTotalPrice()} \r\n          </p>\r\n        </div>\r\n      </div>\r\n    </IntlProvider>\r\n  );\r\n};\r\n\r\nexport default OrderInfo;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"\n});\n\nfunction SvgPerson24Px(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: 36,\n    viewBox: \"0 0 24 24\",\n    width: 36,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPerson24Px);\nexport default __webpack_public_path__ + \"static/media/person-24px.65cae4d9.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\r\nimport styles from './PublickOffer.module.css'\r\n\r\nconst PublickOffer = () => {\r\n  return (\r\n    <div className={styles.box}>\r\n      <p className={styles.text}>\r\n         ,     ,   \r\n            ,  ,  \r\n          busfor.ua.        ,\r\n          ,  ,    busfor.ua. , \r\n          ,       .\r\n            ,       \r\n            busfor.ua.      \r\n                  ,\r\n           busfor.ua.   24  2018 . \r\n              - (\r\n        Busfor),  35389109, : 03056, , ,   21,\r\n         . 633.   ,    \r\n        ( )     ( ),   \r\n        /      busfor.ua, /  \r\n        Busfor.             \r\n        /        ,     \r\n              . Busfor  \r\n        '  ,   , ,\r\n             ,  \r\n        .  (     ) -  \r\n         ,        \r\n         ,     Busfor, \r\n                  .\r\n                  \r\n        .   Busfor     \r\n        ,       ,  \r\n             ,  \r\n            ,    \r\n             ,     \r\n         ,       , \r\n           ,        , \r\n                :\r\n         .  , Busfor     \r\n        ,    ,     ,\r\n           ,    (\r\n        / ),     \r\n        ,   ,  ,   \r\n        ,  ,     \r\n        ,   ,     \r\n            ,   \r\n         ,        \r\n         ( ).  ,  , Busfor  ,\r\n            ,       , \r\n          ( )    (\r\n        ). Busfor,   ,  ,    \r\n        ,   ,     (\r\n        ),  ,     . \r\n            ,   \r\n                .  \r\n            ,      \r\n          .      /\r\n        Busfor            /\r\n         ,        ,  \r\n            .     \r\n         (   ..)    ,\r\n           /  ,   \r\n         .    .   :\r\n           ;  ,    \r\n        , ,     ;  , \r\n           / Busfor;   \r\n        ,     ,     \r\n         Busfor.      ,  \r\n         Busfor,  ,      \r\n              . ,  \r\n        ,    /    \r\n             ,      \r\n        Busfor,   .    /   \r\n        .  :    ,  100 %\r\n           ;  , , / ,\r\n        /     ;    \r\n        ;  Busfor       \r\n         ;     ;   Busfor \r\n          ,   ,    \r\n           .       \r\n            ,   ,  \r\n               ,  \r\n              .   \r\n            ,     4 ,\r\n          8      . , \r\n                \r\n            ,      \r\n              .   \r\n                 .\r\n             ,     \r\n          ,   100%  ,   \r\n            15    . Busfor  :\r\n           ,     \r\n        ;       , \r\n             ;    \r\n          ,     / . Busfor \r\n              / ,  \r\n            /   \r\n        / /   / /\r\n               ,  \r\n          Busfor / . Busfor :  \r\n           ,     ;\r\n                \r\n        ;     ,    ,\r\n           ;  ,    \r\n          (      ); \r\n        ,      (   \r\n          );    ,  \r\n              ; \r\n            ,     \r\n             (    \r\n          Busfor). , Busfor,    , \r\n           .     (  \r\n           )   . . \r\n          ,       (\r\n           Busfor ( ,     \r\n        ). Busfor          \r\n           .     \r\n              ,      \r\n           ,     , \r\n        ,       Busfor.  ,\r\n              ,  ,  \r\n        .  .    \r\n         e-mail  /  ,    \r\n        .    /e-mail     ,\r\n         Busfor  ,     \r\n           ,      , \r\n          ,      .   \r\n           / e-mail     , \r\n         Busfor      ,  \r\n         .     ,  \r\n         Busfor        .\r\n           /     / e-mail\r\n           .   .  \r\n          :       , \r\n           , Busfor       \r\n        ,      100%    ,  \r\n        ,          \r\n        . ,       \r\n        .  :     , \r\n          , Busfor     \r\n              ;\r\n                \r\n         ;      Busfor,  \r\n          ,   ;  \r\n           /  ,     \r\n         ,     ,    100 %\r\n           .    ,   \r\n         ,      ,\r\n            10    \r\n           /   / Busfor , \r\n          ,    .  \r\n         ,       ,  \r\n          ,   . ,  \r\n            176  18  1997 .   \r\n            ,  \r\n             ,     \r\n        ,     .   :\r\n        ,          ,\r\n               ()  \r\n             .  /  \r\n          : -  .     \r\n          ,    ; -  . \r\n                 ,  \r\n        email (  )    ; , \r\n                 \r\n         .5,    Busfor   , \r\n         , Busfor        \r\n             /.    \r\n                ,  \r\n        ,          \r\n         \"  \". .    Busfor, \r\n                , \r\n            .    \r\n           Busfor. Busfor,      \r\n          ,       \r\n         , ,      -.  \r\n        .         \r\n          ,  :     (   \r\n           (  )),  -mail\r\n           .       ,\r\n        '    -      .  \r\n                 \r\n        .  .      ,\r\n                 . \r\n                  ,\r\n                 .\r\n             Busfor      \r\n        ,     . Busfor,  \r\n           ,        \r\n        ,      ,  . Busfor\r\n                    \r\n         .  .    \r\n        ,         \r\n        . Busfor     - ,  \r\n             .\r\n          ,  Busfor     \r\n                ,  \r\n        '  . Busfor      \r\n                ,\r\n           .     , Busfor\r\n                 , \r\n                  \r\n             ,       \r\n                 .\r\n        Busfor         - ,\r\n           ,     \r\n         .     .  \r\n          ,        , \r\n                   \r\n          ,   ,   , :   \r\n        ,         ,    \r\n         ;   ,   \r\n        ,    ;    ; \r\n         ,     ,    , \r\n         Busfor.    ,  .   \r\n         ,    , ,  ,\r\n         ,  , , , ,\r\n        ,       ( ,  )\r\n              . \r\n           Busfor,    ,    \r\n            Busfor    . \r\n         ,        \r\n         .  ,   ,   \r\n           , ,    \r\n          .     ,    \r\n          ,    ,    \r\n           ,       ,\r\n              Busfor. Busfor       ,\r\n           ,     \r\n           .  , ,   , \r\n              '    (, \r\n         ,  ,       ), \r\n         Busfor. Busfor         \r\n         .    ,     \r\n         ,  ,    \r\n          . -    \r\n        Busfor  '   ,   -    \r\n        ,      ,    \r\n            ,  ,   \r\n           ,       .\r\n        - , ,   ,    -\r\n        ,   ,     \r\n         ,   Busfor.     \r\n         ,     ,   ,\r\n         ,   ,   ,   , \r\n          -  ,   ,   \r\n           Busfor   ,    \r\n         .   -    -\r\n         ,     .  . \r\n                 \r\n        ,        \r\n           .     \r\n                  \r\n        .    ,  '   \r\n          ,            \r\n          , ,   ,   \r\n           ,  - ,   ,  \r\n                \r\n        .      Busfor,  \r\n        ,   Busfor (  ,   \r\n        ,  , ' ,   ,\r\n        , , ,     -\r\n        , ,   ' (    \r\n        )),      . ,  \r\n              ,     \r\n           .    .\r\n               ,  \r\n        ,          .\r\n             ,  Busfor    \r\n         - , ,    ;    \r\n            (  ,   , \r\n        ,  ,   )    ,\r\n            '      . Busfor \r\n                   \r\n              ,    .\r\n        Busfor       ,   \r\n             .    ,  \r\n            ,     ,  \r\n           . Busfor     ,\r\n        ,     - , /\r\n        - , ,       ,  \r\n              /  . Busfor\r\n              ,   \r\n              ,  \r\n          . Busfor      /\r\n               ,     \r\n                 , \r\n              .   .\r\n              .   \r\n                  . \r\n                .\r\n           ,          \r\n         .      \r\n        ,         \r\n               .  \r\n           ,     ,  \r\n         . ,      ,\r\n          (,  /,  /)  \r\n          ,    .    \r\n           4  114.     \r\n                 \r\n        .  .     \r\n         .   ,    , \r\n          .   ,    , \r\n           .      \r\n                , \r\n                 .\r\n               -  ,\r\n            ,     ,\r\n        '   .   ,        \r\n        ,   -,     ,   \r\n        .        Busfor\r\n          -       .\r\n           ,   ,     \r\n              ,    \r\n        .    busfor.ua     \r\n                  \r\n        busfor.ua ( ),  ,  ,   .\r\n            ,     \r\n          . ,     .   \r\n          ,  ,     /  \r\n           .        ,\r\n              .   \r\n           .   Busfor \r\n                    \r\n        .        . \r\n         .    ,    , \r\n        Busfor.          \r\n         .        Busfor  \r\n                 , \r\n            .       \r\n                 ; ,\r\n            ,       \r\n        .    ,     \r\n              .  , \r\n         :        ,  \r\n        ,   ,    ,   TCP/IP\r\n           ,  ,     \r\n            ,   ;\r\n         , , ,   - \r\n        , -   ,    \r\n           ;    -   \r\n        ,  , -    ;  \r\n                 ,     \r\n        ,     ;     \r\n          ;          \r\n           ; ,  /   \r\n        -     ;    , \r\n             ; /    - \r\n        ,   . Busfor     \r\n              ,     ,\r\n             , /    \r\n             -     \r\n        ,     (   ,  \r\n        ) -     .  ,  Busfor   \r\n          ,  /     ,  Busfor \r\n              ,    \r\n         .   .   ,   \r\n         , Busfor  '   , ,\r\n         , , , ,  \r\n              - ,   \r\n                  , ' \r\n         .   ,   ,   \r\n           ,    ,  \r\n          Busfor       . Busfor \r\n           ,  -   ,    \r\n          /    ,   ,\r\n        ,    ,     ,  \r\n            .    \r\n             - ,  ,   .\r\n               \r\n        Busfor       . \r\n         ,        \r\n           ;    ,    \r\n        ,     ,     \r\n         . Busfor       \r\n            , '    \r\n        ,    .  . Busfor \r\n         ,      ,  \r\n         ,     .  \r\n           ,      \r\n        . Busfor         ,\r\n          ,        \r\n        .     .     \r\n           .   -  -, ' \r\n         ,      . Busfor  \r\n           , , ,   ,\r\n           .       \r\n                ,  Busfor   \r\n             .  . Busfor    \r\n             .   , \r\n           ,     \r\n             . Busfor    \r\n               -   \r\n         .    .   \r\n         -.    : 03056, ,   21,\r\n           (  ).  . \r\n                 \r\n          -.     ,\r\n         (),   ,   \r\n        .     -     \r\n           .   . , \r\n          ,      \r\n        .\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PublickOffer;\r\n","import React, { Component, createRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport style from \"./Modal.module.css\";\r\n\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    onClose: PropTypes.func,\r\n  };\r\n\r\n  backdropRef = createRef();\r\n\r\n  componentDidMount() {\r\n    if (this.props.isGohome) return\r\n    window.addEventListener(\"keydown\", this.handleKeyPress);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyPress);\r\n  }\r\n\r\n  handleKeyPress = (e) => {\r\n    if (e.code !== \"Escape\") {\r\n      return;\r\n    }\r\n    this.props.onClose();\r\n  };\r\n\r\n  handleBackdropClick = (event) => {\r\n    if (this.props.isGohome) return\r\n    const { current } = this.backdropRef;\r\n    if (current && event.target !== current) return;\r\n    this.props.onClose();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div\r\n          className={style.backdrop}\r\n          ref={this.backdropRef}\r\n          onClick={this.handleBackdropClick}\r\n          role=\"presentation\"\r\n        >\r\n          {this.props.component}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport LoaderFromLibrary from 'react-loader-spinner';\r\nimport styles from './Loader.module.css';\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className={styles.loader}>\r\n      <LoaderFromLibrary\r\n        type=\"BallTriangle\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport styles from \"./FormForBuy.module.css\";\r\nimport { ReactComponent as Person } from \"../../images/person-24px.svg\";\r\nimport { toBookTicket } from \"../../services/api\";\r\nimport { getError, startLoader, stopLoader } from \"../../redux/global/globalActions\";\r\nimport PublickOffer from \"../PublickOffer/PublickOffer\";\r\nimport Modal from \"../Modal/Modal\";\r\nimport Loader from \"../Loader/Loader\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport { messages } from \"../../intl/OrderPageMessanges\";\r\nimport CryptoJS from \"crypto-js\";\r\n// import * as Yup from \"yup\";\r\n\r\n// const schema = Yup.object().shape({\r\n//   name: Yup.string().min(2, \"too short\").required(\"Required\"), // these constraints take precedence\r\n// });\r\n\r\nclass FormForBuy extends Component {\r\n  state = {\r\n    values: [],\r\n    email: \"\",\r\n    resp: {},\r\n    isOffer: false,\r\n    isPersonal: false,\r\n    isValidName: true,\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { amountPassangers } = this.props;\r\n    for (let i = 0; i <= amountPassangers - 1; i++) {\r\n      this.setState((prev) => ({\r\n        values: [\r\n          ...prev.values,\r\n          { name: \"M\", phone: \"3\", id: `${i}`, surname: \"surname1\", email: \"\" },\r\n        ],\r\n      }));\r\n    }\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.resp !== this.state.resp) {\r\n      // this.props.stopLoader();\r\n      this.state.resp.services.forEach((el) => {\r\n        // ====      ==== //\r\n        if (el.status !== \"NEW\") {\r\n          this.props.getError(el.error.message);\r\n          return;\r\n        } else {\r\n          const id = btoa(CryptoJS.AES.encrypt(this.state.resp.orderId, \"KeyVezu\").toString())\r\n          const payeeId = btoa(CryptoJS.AES.encrypt(this.state.resp.additionals.payeeId, \"KeyVezu\").toString())\r\n          this.props.history.push(`/ticket/${id}/${payeeId}`);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    // this.props.startLoader();\r\n    const { tripKey, priceId, getError } = this.props;\r\n    const { values } = this.state;\r\n    // console.log(this.state.isValidName)\r\n    // console.log(schema.isValidSync(values[0]))\r\n    // this.setState({isValidName: schema.isValidSync(values[0])});\r\n    const requestBody = {};\r\n    requestBody.lang = this.props.lang;\r\n    requestBody.services = values.map((el, idx) => ({\r\n      customer: { id: idx },\r\n      segment: { id: tripKey },\r\n      seat: { id: `0:${idx + 1}` },\r\n      price: { tariff: { id: priceId } },\r\n    }));\r\n    requestBody.customers = { ...values };\r\n    requestBody.currency = \"UAH\";\r\n    toBookTicket(requestBody)\r\n    .then(({data}) => this.setState({ resp: data }))\r\n    .catch((err) => (err) => getError(err.message));\r\n\r\n    // toBook(requestBody)\r\n    //   .then(({ data }) => {\r\n    //     console.log(data)\r\n    //     // this.setState({ resp: data })\r\n    //   })\r\n    //   .catch((err) => getError(err.message));\r\n  };\r\n\r\n  handleChange = (idx, { target }) => {\r\n    target.name === \"phone\"\r\n      ? this.setState((prev) =>\r\n          // eslint-disable-next-line array-callback-return\r\n          prev.values.map((el) => {\r\n            if (el.id === idx) el[`${target.name}`] = target.value.replace(/\\D/, \"\");\r\n          })\r\n        )\r\n      : this.setState((prev) =>\r\n          // eslint-disable-next-line array-callback-return\r\n          prev.values.map((el) => {\r\n            if (el.id === idx) el[`${target.name}`] = target.value;\r\n          })\r\n        );\r\n  };\r\n\r\n  handleChangeEmail = ({ target }) => {\r\n    this.setState({ [target.name]: target.value });\r\n    this.setState((prev) =>\r\n      // eslint-disable-next-line array-callback-return\r\n      prev.values.map((el) => {\r\n        el[`${target.name}`] = target.value;\r\n      })\r\n    );\r\n  };\r\n\r\n  handleAdd = () => {\r\n    const id = +this.state.values.slice(-1)[0].id + 1;\r\n    this.setState((prev) => ({\r\n      values: [\r\n        ...prev.values,\r\n        { name: \"\", phone: \"\", id: `${id}`, surname: \"\", email: this.state.email },\r\n      ],\r\n    }));\r\n    this.props.changeAmountPassanger(this.props.total + 1);\r\n  };\r\n\r\n  handleRemove = ({ target }) => {\r\n    this.setState((prev) => ({\r\n      values: prev.values.filter((el) => el.id !== target.name),\r\n    }));\r\n    this.props.changeAmountPassanger(this.props.total - 1);\r\n  };\r\n  getValueName = (id) => {\r\n    return this.state.values.find((el) => el.id === id).name;\r\n  };\r\n  getValueSurname = (id) => {\r\n    return this.state.values.find((el) => el.id === id).surname;\r\n  };\r\n  getValuePhone = (id) => {\r\n    return this.state.values.find((el) => el.id === id).phone;\r\n  };\r\n  openModal = () => {\r\n    this.setState({ isModal: true });\r\n  };\r\n\r\n  closeModal = () => {\r\n    this.setState({ isModal: false });\r\n  };\r\n\r\n  render() {\r\n    const { values, email, isModal, isPersonal, isOffer } = this.state;\r\n    const { isLoading, lang } = this.props;\r\n    const locale = lang === \"UA\" ? \"UK\" : lang;\r\n\r\n    return (\r\n      <IntlProvider locale={locale} messages={messages[locale]}>\r\n        <div className={styles.container}>\r\n          {/* <pre>{JSON.stringify(this.state, null, 4)}</pre> */}\r\n\r\n          <h3 className={styles.title}>\r\n            <FormattedMessage id=\"title\" />\r\n          </h3>\r\n\r\n          <form onSubmit={this.handleSubmit}>\r\n            {values.length > 0 &&\r\n              values.map((el, idx) => {\r\n                return (\r\n                  <div className={styles.box} key={idx}>\r\n                    <div className={styles.svgBox}>\r\n                      {\" \"}\r\n                      <Person className={styles.svg} fill=\"var(--color-secondary)\" />\r\n                      <span>{idx + 1}</span>\r\n                    </div>\r\n                    <div className={styles.inputBox}>\r\n                      <input\r\n                        className={`${styles.input} ${this.state.isValidName ? null : styles.red }`}\r\n                        name=\"name\"\r\n                        type=\"text\"\r\n                        value={this.getValueName(el.id)}\r\n                        onChange={(e) => this.handleChange(el.id, e)}\r\n                        placeholder=\"name\"\r\n                        autoComplete=\"off\"\r\n                        required={true}\r\n                      />\r\n\r\n                      <input\r\n                        className={styles.input}\r\n                        name=\"surname\"\r\n                        type=\"text\"\r\n                        value={this.getValueSurname(el.id)}\r\n                        onChange={(e) => this.handleChange(el.id, e)}\r\n                        placeholder=\"surname\"\r\n                        autoComplete=\"off\"\r\n                        required={true}\r\n                      />\r\n                      <input\r\n                        className={styles.input}\r\n                        name=\"phone\"\r\n                        type=\"tel\"\r\n                        value={this.getValuePhone(el.id)}\r\n                        onChange={(e) => this.handleChange(el.id, e)}\r\n                        placeholder=\"phone**\"\r\n                        autoComplete=\"nope\"\r\n                        required={true}\r\n                      />\r\n                      <p className={styles.price}>{this.props.price} </p>\r\n                      <button\r\n                        className={styles.buttonRemove}\r\n                        type=\"button\"\r\n                        name={el.id}\r\n                        onClick={this.handleRemove}\r\n                        disabled={values.length <= 1 ? true : false}\r\n                      ></button>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n\r\n            <button\r\n              className={styles.buttonAdd}\r\n              type=\"button\"\r\n              onClick={this.handleAdd}\r\n              disabled={values.length >= 10 ? true : false}\r\n            >\r\n              <FormattedMessage id=\"buttonAdd\" />\r\n            </button>\r\n            <h3 className={styles.customer}>\r\n              <FormattedMessage id=\"customer\" />\r\n            </h3>\r\n            <input\r\n              className={styles.input}\r\n              type=\"email\"\r\n              name=\"email\"\r\n              value={email}\r\n              placeholder=\"email\"\r\n              autoComplete=\"nope\"\r\n              onChange={this.handleChangeEmail}\r\n              required={true}\r\n            />\r\n            <div className={styles.publicOfferBox}>\r\n              <input\r\n                name=\"publicOffer\"\r\n                type=\"checkbox\"\r\n                onChange={() => this.setState({ isOffer: !this.state.isOffer })}\r\n              />{\" \"}\r\n              <p>\r\n                <FormattedMessage id=\"offer\" />\r\n                <span onClick={this.openModal}>\r\n                  <FormattedMessage id=\"offerSpan\" />\r\n                </span>\r\n              </p>\r\n            </div>\r\n            <div className={styles.publicOfferBox}>\r\n              <input\r\n                name=\"personalData\"\r\n                type=\"checkbox\"\r\n                onChange={() => this.setState({ isPersonal: !this.state.isPersonal })}\r\n              />{\" \"}\r\n              <p>\r\n                <FormattedMessage id=\"myData\" />\r\n                <span onClick={this.openModal}>\r\n                  <FormattedMessage id=\"myDataSpan\" />\r\n                </span>\r\n              </p>\r\n            </div>\r\n            <button\r\n              className={styles.buttonBuy}\r\n              type=\"submit\"\r\n              disabled={isOffer || isPersonal}\r\n            >\r\n              {isLoading ? <Loader /> : <FormattedMessage id=\"buy\" />}\r\n            </button>\r\n          </form>\r\n\r\n          <p className={styles.text}>\r\n            <FormattedMessage id=\"requared\" />\r\n          </p>\r\n          <p className={styles.text}>\r\n            <FormattedMessage id=\"numTel\" />\r\n          </p>\r\n          {isModal && <Modal onClose={this.closeModal} component={<PublickOffer />} />}\r\n          <pre>{JSON.stringify(this.state.resp, null, 4)}</pre>\r\n        </div>\r\n      </IntlProvider>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  amountPassangers: state.searchForm.amountPassanger,\r\n  priceId: state.order.order.priceId,\r\n  price: state.order.order.price,\r\n  lang: state.language,\r\n  tripKey: state.order.order.tripKey,\r\n  isLoading: state.global.isLoading,\r\n});\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  getError: (error) => dispatch(getError(error)),\r\n  startLoader: () => dispatch(startLoader()),\r\n  stopLoader: () => dispatch(stopLoader()),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FormForBuy);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport OrderInfo from \"../components/Order/OrderInfo\";\r\nimport SearchForm from \"../components/SearchForm/SearchForm\";\r\nimport FormForBuy from \"../components/Order/FormForBuy\";\r\n// import { useSelector } from \"react-redux\";\r\n// import FormForBuyMap from \"../components/Order/FormForBuyMap\";\r\n\r\nimport styles from \"./OrderPage.module.css\";\r\nimport { startLoader } from \"../redux/global/globalActions\";\r\n// import { getRequaredFields } from \"../services/api\";\r\n\r\nconst OrderPage = ({\r\n  history,\r\n  amountPassangers,\r\n  order,\r\n  startLoader,\r\n  tripKey,\r\n}) => {\r\n  const [totalPassanger, setTotalPassanger] = useState(amountPassangers);\r\n\r\n  // useEffect(() => {\r\n  //   getRequaredFields(tripKey).then(({data}) => console.log(data))\r\n\r\n  // }, [tripKey])\r\n\r\n  // ====      \r\n  // ====       \r\n  useEffect(() => {\r\n    if (Object.keys(order).length <= 0) {\r\n      const path = JSON.parse(sessionStorage.getItem(\"path\")) || \"/\";\r\n      history.replace(path);\r\n      startLoader();\r\n    }\r\n  }, [order, history, startLoader]);\r\n\r\n  return (\r\n    <div className=\"bgnd\">\r\n      <div className=\"container\">\r\n        <div className={styles.formBox}>\r\n          <SearchForm history={history} />\r\n        </div>\r\n        <div className={styles.main}>\r\n          <FormForBuy\r\n            changeAmountPassanger={(val) => setTotalPassanger(val)}\r\n            total={totalPassanger}\r\n            history={history}\r\n          />\r\n          <OrderInfo total={totalPassanger} />\r\n\r\n          {/* {pass.pass.length > 0 && (\r\n            <FormForBuyMap\r\n              changeAmountPassanger={changeAmountPassanger}\r\n              total={totalPassanger}\r\n              history={history}\r\n              array={[\r\n                \"NAME\",\r\n                \"PATRONYMIC\",\r\n                \"SURNAME\",\r\n                \"ONLY_LATIN\",\r\n                \"EMAIL\",\r\n                \"PHONE\",\r\n                \"GENDER\",\r\n                \"CITIZENSHIP\",\r\n                \"DOCUMENT_TYPE\",\r\n                \"DOCUMENT_NUMBER\",\r\n                \"DOCUMENT_SERIES\",\r\n                \"BIRTHDAY\",\r\n                \"SEAT\",\r\n                \"TARIFF\",\r\n              ]}\r\n              pass={pass}\r\n            />\r\n          )} */}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  amountPassangers: state.searchForm.amountPassanger,\r\n  order: state.order.order,\r\n  tripKey: state.order.order.tripKey,\r\n});\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  startLoader: (obj) => dispatch(startLoader(obj)),\r\n});\r\nexport default connect(mapStateToProps, mapDispatchToProps)(OrderPage);\r\n","export const messages = {\r\n    EN: {\r\n      trip: \"Route:\",\r\n      passangersData: \"Passenger data:\",\r\n      cost: \" Cost:\",\r\n      passenger: \"Passenger :\",\r\n      name: \"Name\",\r\n      surname: \"Surname\",\r\n      phone: \"Phone\",\r\n      endTime: \"To place an order, pay for it before:\",\r\n    },\r\n    RU: {\r\n      trip: \":\",\r\n      passangersData: \"  :\",\r\n      cost: \": \",\r\n      passenger: \" :\",\r\n      name: \"\",\r\n      surname: \"\",\r\n      phone: \"\",\r\n      endTime: \"     :\",\r\n    },\r\n    UK: {\r\n      trip: \":\",\r\n      passangersData: \"  \",\r\n      cost: \": \",\r\n      passenger: \" :\",\r\n      name: \"'\",\r\n      surname: \"\",\r\n      phone: \"\",\r\n      endTime: \"     :\",\r\n    },\r\n    PL: {\r\n      trip: \"Trasa:\",\r\n      passangersData: \"Dane pasaera:\",\r\n      cost: \"Koszt: \",\r\n      passenger: \"Pasaera :\",\r\n      name: \"Nazwa\",\r\n      surname: \"Nazwisko\",\r\n      phone: \"Telefon\",\r\n      endTime: \"Aby zoy zamwienie, opa je wczeniej:\",\r\n    },\r\n  };\r\n  ","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport CryptoJS from \"crypto-js\";\r\nimport styles from \"./PaymentBox.module.css\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport { messages } from \"../../intl/TicketPageMessanges\";\r\nimport { getExpireTime, getLocality } from \"../../services/getInfo\";\r\n// import { fetchPayeeId } from \"../../services/api\";\r\n// import Modal from \"../Modal/Modal\";\r\n// import GoHome from \"../GoHome/GoHome\";\r\n\r\nconst PaymentBox = ({ id, fromId, toId, getDate, payeeId }) => {\r\n  const lang = useSelector((state) => state.language);\r\n  const ticket = useSelector((state) => state.order.ticket);\r\n  const stops = useSelector((state) => state.global.stops);\r\n  const locale = lang === \"UA\" ? \"UK\" : lang;\r\n  const [time, setTime] = useState(0);\r\n  // const [isModal, setIsModal] = useState(false);\r\n\r\n  // ====      ==== //\r\n  useEffect(() => {\r\n    const timeEnd = new Date(ticket.services[0].expire).getTime();\r\n    const timeStart = new Date().getTime();\r\n    setTime(timeEnd - timeStart);\r\n  }, [ticket.services]);\r\n\r\n  useEffect(() => {\r\n    if (time < 0) {\r\n      // setIsModal(true);\r\n      setTime(0);\r\n      return;\r\n    }\r\n    const intervalId = setInterval(() => {\r\n      setTime(time - 1000);\r\n    }, 1000);\r\n\r\n    return () => clearInterval(intervalId);\r\n  }, [time]);\r\n\r\n  const getTotalPrice = () =>\r\n    ticket.services.reduce((acc, el) => {\r\n      return acc + el.price.amount;\r\n    }, 0);\r\n\r\n  // useEffect(() => {\r\n  //   fetchPayeeId(\"PORTMONE\")\r\n  //     .then((data) => console.log(data))\r\n  //     .catch((err) => console.log(err));\r\n  // }, []);\r\n  // const getPayeeID = (val) => {\r\n\r\n  // };\r\n  return (\r\n    <IntlProvider locale={locale} messages={messages[locale]}>\r\n      <div className={styles.warning}>\r\n        <p className={styles.warningText}>\r\n          <FormattedMessage id=\"endTime\" />\r\n          <span>{getExpireTime(ticket.services[0].expire, lang)}</span>\r\n        </p>\r\n        <p className={styles.time}>\r\n          {new Date(time).toLocaleString(\"uk\", {\r\n            minute: \"2-digit\",\r\n            second: \"2-digit\",\r\n          })}\r\n        </p>\r\n      </div>\r\n      <p>  :</p>\r\n      <br></br>\r\n      <div className={styles.payment}>\r\n        <form action=\"https://www.portmone.com.ua/gateway/\" method=\"post\">\r\n          <input type=\"hidden\" name=\"payee_id\" value={CryptoJS.AES.decrypt(atob(payeeId), \"KeyVezu\").toString(CryptoJS.enc.Utf8)\r\n} />\r\n          <input type=\"hidden\" name=\"shop_order_number\" value={ticket.orderId} />\r\n          <input type=\"hidden\" name=\"bill_amount\" value={getTotalPrice()} />\r\n          <input\r\n            type=\"hidden\"\r\n            name=\"description\"\r\n            value={`${getLocality(fromId, stops, lang)} -\r\n                     ${getLocality(toId, stops, lang)} ${getDate(\"departureDate\")}`}\r\n          />\r\n          <input\r\n            type=\"hidden\"\r\n            name=\"success_url\"\r\n            value={`http://localhost:3000/#/myTicket/${id}`}\r\n            // value={`https://gill-soft.github.io/www/#/MyTicket/${id}`}\r\n          />\r\n          <input\r\n            type=\"hidden\"\r\n            name=\"failure_url\"\r\n            value={`http://localhost:3000/#/ticket/${id}`}\r\n            // value={`https://gill-soft.github.io/www/#/ticket/${id}`}\r\n          />\r\n          <input type=\"hidden\" name=\"lang\" value={locale.toLowerCase()} />\r\n          <input type=\"hidden\" name=\"encoding\" value=\"UTF-8\" />\r\n          <input type=\"hidden\" name=\"exp_time\" value={(time / 1000).toFixed()} />\r\n          <button className={styles.portmone} type=\"submit\"></button>\r\n        </form>\r\n\r\n        <p className={styles.total}>\r\n            :{\" \"}\r\n          <span>\r\n            {getTotalPrice()}\r\n            <small>uah</small>\r\n          </span>{\" \"}\r\n        </p>\r\n      </div>\r\n      {/* {!!isModal && <Modal component={<GoHome />} isGohome={true} />} */}\r\n    </IntlProvider>\r\n  );\r\n};\r\n\r\nexport default PaymentBox;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport styles from \"./TripInfo.module.css\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport { messages } from \"../../intl/TicketPageMessanges\";\r\nimport { getLocality } from \"../../services/getInfo\";\r\n\r\nconst TripInfo = ({ fromId, toId, getDate }) => {\r\n  const lang = useSelector((state) => state.language);\r\n  const stops = useSelector((state) => state.global.stops);\r\n  const ticket = useSelector((state) => state.order.ticket);\r\n\r\n  const locale = lang === \"UA\" ? \"UK\" : lang;\r\n\r\n  // ====    / ====//\r\n  const getStop = (type) => {\r\n    const tripKey = Object.keys(ticket.segments)[0];\r\n    const id = ticket.segments[`${tripKey}`][`${type}`].id;\r\n    return ticket.localities[`${id}`].name[`${lang}`];\r\n  };\r\n  return (\r\n    <IntlProvider locale={locale} messages={messages[locale]}>\r\n      <div className={styles.orderBox}>\r\n        <h4 className={styles.subTitle}>\r\n          <FormattedMessage id=\"trip\" />\r\n        </h4>\r\n        <div className={styles.arrow}>\r\n          {getLocality(fromId, stops, lang) && (\r\n            <p className={styles.locality}>{getLocality(fromId, stops, lang)}</p>\r\n          )}\r\n          <p className={styles.localityStop}>{getStop(\"departure\")}</p>\r\n          <p className={styles.date}>{getDate(\"departureDate\")}</p>\r\n        </div>\r\n        <div>\r\n          {getLocality(toId, stops, lang) && <p className={styles.locality}>{getLocality(toId, stops, lang)}</p>}\r\n          <p className={styles.localityStop}>{getStop(\"arrival\")}</p>\r\n          <p className={styles.date}>{getDate(\"arrivalDate\")}</p>\r\n        </div>\r\n      </div>\r\n    </IntlProvider>\r\n  );\r\n};\r\n\r\nexport default TripInfo;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport styles from \"./PassengersData.module.css\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport { messages } from \"../../intl/TicketPageMessanges\";\r\n\r\nconst PassengersData = () => {\r\n  const lang = useSelector((state) => state.language);\r\n  const ticket = useSelector((state) => state.order.ticket)\r\n  const locale = lang === \"UA\" ? \"UK\" : lang;\r\n  const getPassengersData = (id, type) => {\r\n    return ticket.customers[`${id}`][`${type}`];\r\n  };\r\n  return (\r\n    <IntlProvider locale={locale} messages={messages[locale]}>\r\n      <div className={styles.passangersBox}>\r\n        <h4 className={styles.subTitle}>\r\n          <FormattedMessage id=\"passangersData\" />\r\n        </h4>\r\n        <ul>\r\n          {ticket.services.map((el, idx) => (\r\n            <li key={idx}>\r\n              <div className={styles.header}>\r\n                <p className={styles.number}>\r\n                  <FormattedMessage id=\"passenger\" />\r\n                  {idx + 1}\r\n                </p>\r\n                <p className={styles.price}>\r\n                  <span>\r\n                    <FormattedMessage id=\"cost\" />\r\n                  </span>\r\n                  {el.price.amount} UAH\r\n                </p>\r\n              </div>\r\n              <div className={styles.passangerData}>\r\n                <div>\r\n                  <p className={styles.passangerTitle}>\r\n                    <FormattedMessage id=\"name\" />\r\n                  </p>\r\n                  <p className={styles.passangerName}>\r\n                    {getPassengersData(el.customer.id, \"name\")}\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <p className={styles.passangerTitle}>\r\n                    <FormattedMessage id=\"surname\" />\r\n                  </p>\r\n                  <p className={styles.passangerName}>\r\n                    {getPassengersData(el.customer.id, \"surname\")}\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <p className={styles.passangerTitle}>\r\n                    <FormattedMessage id=\"phone\" />\r\n                  </p>\r\n                  <p className={styles.passangerName}>\r\n                    {getPassengersData(el.customer.id, \"phone\")}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </IntlProvider>\r\n  );\r\n};\r\n\r\nexport default PassengersData;\r\n","import React, { useEffect} from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getTicket } from \"../redux/order/orderOperation\";\r\n// import styles from \"./TicketPage.module.css\";\r\nimport PaymentBox from \"../components/TicketContainer/PaymentBox\";\r\nimport TripInfo from \"../components/TicketContainer/TripInfo\";\r\nimport PassengersData from \"../components/TicketContainer/PassengersData\";\r\nimport CryptoJS from \"crypto-js\";\r\n\r\nconst TicketPage = ({ match }) => {\r\n  const dispatch = useDispatch();\r\n  const ticket = useSelector((state) => state.order.ticket);\r\n  // ====     ==== //\r\n  useEffect(() => {\r\n    // ====   id === //\r\n    const encryptId = atob(match.params.id);\r\n    // ====  id ==== //\r\n    const id = CryptoJS.AES.decrypt(encryptId, \"KeyVezu\").toString(CryptoJS.enc.Utf8);\r\n    // ====   redux====\r\n    ((id) => dispatch(getTicket(id)))(id);\r\n  }, [dispatch, match.params]);\r\n\r\n  // ====  id   / ====//\r\n  const getLocalityId = (type) => {\r\n    const tripKey = Object.keys(ticket.segments)[0];\r\n    const stopId = ticket.segments[`${tripKey}`][`${type}`].id;\r\n    return ticket.localities[`${stopId}`].parent.id;\r\n  };\r\n\r\n  // ====   / ====//\r\n  const getDate = (type) => {\r\n    const tripKey = Object.keys(ticket.segments)[0];\r\n    return ticket.segments[`${tripKey}`][`${type}`];\r\n  };\r\n\r\n  return (\r\n    <div className=\"bgnd\">\r\n      {Object.keys(ticket).length > 0 && (\r\n        <div className=\"container\">\r\n          <TripInfo\r\n            ticket={ticket}\r\n            fromId={getLocalityId(\"departure\")}\r\n            toId={getLocalityId(\"arrival\")}\r\n            getDate={getDate}\r\n          />\r\n          <PassengersData />\r\n          <PaymentBox\r\n            fromId={getLocalityId(\"departure\")}\r\n            toId={getLocalityId(\"arrival\")}\r\n            getDate={getDate}\r\n            id={match.params.id}\r\n            payeeId={match.params.pay}\r\n          />\r\n        </div>\r\n      )}\r\n      <pre>{JSON.stringify(ticket, null, 4)} </pre>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TicketPage;\r\n","export const messages = {\r\n  EN: {\r\n    title: \"Bus schedule\",\r\n    timeInWay: \"on the way\",\r\n    choose: \"Choose\",\r\n    additionals: \"More details\",\r\n    departure: \"Departure\",\r\n    arrival: \"Arrival\",\r\n    sort: \"Sort by:\",\r\n    \r\n  },\r\n  RU: {\r\n    title: \" \",\r\n    timeInWay: \" \",\r\n    choose: \"\",\r\n    additionals: \"\",\r\n    departure: \"\",\r\n    arrival: \"\",\r\n    sort: \"C :\",\r\n    \r\n  },\r\n  UK: {\r\n    title: \" \",\r\n    timeInWay: \" \",\r\n    choose: \"\",\r\n    additionals: \"\",\r\n    departure: \"\",\r\n    arrival: \"\",\r\n    sort: \" :\",\r\n    \r\n  },\r\n  PL: {\r\n    title: \"Rozkad jazdy autobusw\",\r\n    timeInWay: \"jestem w drodze\",\r\n    choose: \"Wybierz\",\r\n    additionals: \"Wicej szczegw\",\r\n    departure: \"Wyjazd\",\r\n    arrival: \"Przyjazd\",\r\n    sort: \"Sortuj wedug:\",\r\n    \r\n  },\r\n};\r\n\r\n   ","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport queryString from \"query-string\";\r\nimport styles from \"./TripBox.module.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { fetchOrderInfo } from \"../../redux/order/orderActions\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport { messages } from \"../../intl/TripsPageMessanges\";\r\nimport {\r\n  getLocality,\r\n  getStop,\r\n  getDate,\r\n  getTime,\r\n  getTimeInWay,\r\n  getAllLocalities,\r\n} from \"../../services/getInfo\";\r\n\r\nconst TripBox = ({ tripKey, trip, trips, fetchOrderInfo, lang, location, stops }) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [arrayStops, setArrayStops] = useState([]);\r\n  const windowWidth = window.innerWidth;\r\n  const locale = lang === \"UA\" ? \"UK\" : lang;\r\n  const parsed = queryString.parse(location.search);\r\n\r\n  const handleClick = () => {\r\n    const obj = {\r\n      from: parsed.from,\r\n      fromStop: trip.departure.id,\r\n      toStop: trip.arrival.id,\r\n      to: parsed.to,\r\n      departureDate: trip.departureDate,\r\n      arrivalDate: trip.arrivalDate,\r\n      price: trip.price.amount,\r\n      priceId: trip.price.tariff.id,\r\n      tripKey: tripKey[0],\r\n    };\r\n    // localStorage.setItem(\"tripKey\", JSON.stringify(tripKey[0]));\r\n    fetchOrderInfo(obj);\r\n    sessionStorage.setItem(\r\n      \"path\",\r\n      JSON.stringify(`${location.pathname}${location.search}`)\r\n    );\r\n  };\r\n\r\n  const handleAdditionals = () => {\r\n    // ====     ====//\r\n    const first =\r\n      1 +\r\n      trip.route.path.indexOf(\r\n        trip.route.path.find((el) => el.locality.id === trip.departure.id)\r\n      );\r\n    //  ====     ==== //\r\n    const last = trip.route.path.indexOf(\r\n      trip.route.path.find((el) => el.locality.id === trip.arrival.id)\r\n    );\r\n\r\n    // ====     ==== //\r\n    const arr = trip.route.path.slice(first, last);\r\n    // ====    state   ==== //\r\n    setArrayStops(arr);\r\n    // ====     ==== //\r\n    setIsOpen(!isOpen);\r\n  };\r\n  return (\r\n    <IntlProvider locale={locale} messages={messages[locale]}>\r\n      <div className={styles.full}>\r\n        <div className={styles.tripBox}>\r\n          <p className={styles.timeInWay}>\r\n            {getTimeInWay(trip, lang)} <FormattedMessage id=\"timeInWay\" />\r\n          </p>\r\n          <div className={styles.fromTo}>\r\n            <div className={styles.info}>\r\n              <div>\r\n                <p className={styles.time}>{getTime(\"departureDate\", trip, lang)}</p>\r\n                <p className={styles.date}>{getDate(\"departureDate\", trip, lang)}</p>\r\n              </div>\r\n              <p className={styles.locality}>{getLocality(parsed.from, stops, lang)}</p>\r\n              <p className={styles.localityStop}>\r\n                {getStop(trip.departure.id, trips, lang)}\r\n              </p>\r\n            </div>\r\n            <div className={`${styles.info} ${styles.infoLast}`}>\r\n              <div>\r\n                <p className={styles.time}> {getTime(\"arrivalDate\", trip, lang)}</p>\r\n                <p className={styles.date}>{getDate(\"arrivalDate\", trip, lang)}</p>\r\n              </div>\r\n              <p className={styles.locality}>{getLocality(parsed.to, stops, lang)}</p>\r\n              <p className={styles.localityStop}>\r\n                {getStop(trip.arrival.id, trips, lang)}\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          <div className={styles.priceBox}>\r\n            <p className={styles.price}>\r\n              {trip.price.amount} <span>{trip.price.currency}</span>{\" \"}\r\n            </p>\r\n            <Link\r\n              className={styles.choose}\r\n              to={{\r\n                pathname: `/order`,\r\n                state: { from: location },\r\n              }}\r\n              onClick={handleClick}\r\n            >\r\n              <FormattedMessage id=\"choose\" />\r\n            </Link>\r\n            <p className={trip.freeSeatsCount > 10 ? styles.green : styles.red}>\r\n              {\" \"}\r\n               {trip.freeSeatsCount > 10 ? \"10+\" : trip.freeSeatsCount}\r\n            </p>\r\n          </div>\r\n          {windowWidth >= 576 ? (\r\n            <button className={styles.additionals} onClick={handleAdditionals}>\r\n              <FormattedMessage id=\"additionals\" />\r\n            </button>\r\n          ) : null}\r\n        </div>\r\n        {isOpen && (\r\n          <>\r\n            <h5>{trip.route.name.EN}</h5>\r\n            <div className={styles.additionalInfo}>\r\n              <div className={styles.depArr}>\r\n                <p className={styles.departure}>\r\n                  <FormattedMessage id=\"departure\" />\r\n                </p>\r\n                <p className={styles.arrival}>\r\n                  <FormattedMessage id=\"arrival\" />\r\n                </p>\r\n              </div>\r\n              <div>\r\n                <div className={styles.start}>\r\n                  <p className={`${styles.locality} ${styles.addLocality} `}>\r\n                    {getLocality(parsed.from, stops, lang)}\r\n                  </p>\r\n                  <p>{getStop(trip.departure.id, trips, lang)}</p>\r\n                </div>\r\n                <div>\r\n                  {arrayStops.map((el, idx) => (\r\n                    <div className={styles.stop} key={idx}>\r\n                      <p className={styles.timeStop}>{el.departureTime}</p>\r\n                      <p>\r\n                        {getLocality(\r\n                          trips.localities[`${el.locality.id}`].parent.id,\r\n                          stops,\r\n                          lang\r\n                        )}\r\n                      </p>\r\n                      <p>{getAllLocalities(el.locality.id, trips, lang)}</p>\r\n                    </div>\r\n                  ))}{\" \"}\r\n                </div>\r\n                <div className={`${styles.start} ${styles.finish}`}>\r\n                  <p className={`${styles.locality} ${styles.addLocality} `}>\r\n                    {getLocality(parsed.to, stops, lang)}\r\n                  </p>\r\n                  <p>{getStop(trip.arrival.id, trips, lang)}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </IntlProvider>\r\n  );\r\n};\r\nconst mapStateToProps = (state) => ({\r\n  trips: state.trips.trips,\r\n  lang: state.language,\r\n  stops: state.global.stops,\r\n});\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  fetchOrderInfo: (obj) => dispatch(fetchOrderInfo(obj)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TripBox);\r\n","import React from \"react\";\r\nimport styles from \"./SortTrips.module.css\";\r\nimport { connect } from \"react-redux\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport { messages } from \"../../intl/TripsPageMessanges\";\r\nimport { changeSortType } from \"../../redux/trips/tripsActions\";\r\n\r\nconst SortTrips = ({ tripsInfo, changeSortType, sortType, lang }) => {\r\n  const locale = lang === \"UA\" ? \"UK\" : lang;\r\n\r\n  const sortTimeInWay = () => {\r\n    tripsInfo.sort((a, b) => {\r\n      const time_partsA = a[`${Object.keys(a)}`].timeInWay.split(\":\");\r\n      const time_partsB = b[`${Object.keys(b)}`].timeInWay.split(\":\");\r\n      const A = time_partsA[0] + time_partsA[1];\r\n      const B = time_partsB[0] + time_partsB[1];\r\n      return A - B;\r\n    });\r\n  };\r\n  const sortTime = (key) => {\r\n    tripsInfo.sort((a, b) => {\r\n      const time_partsA = a[`${Object.keys(a)}`][`${key}`].split(\" \")[1].split(\":\");\r\n      const time_partsB = b[`${Object.keys(b)}`][`${key}`].split(\" \")[1].split(\":\");\r\n      const A = time_partsA[0] + time_partsA[1];\r\n      const B = time_partsB[0] + time_partsB[1];\r\n      return A - B;\r\n    });\r\n  };\r\n  const sortPrice = () => {\r\n    tripsInfo.sort((a, b) => {\r\n      const A = a[`${Object.keys(a)}`].price.amount;\r\n      const B = b[`${Object.keys(b)}`].price.amount;\r\n      return A - B;\r\n    });\r\n  };\r\n  const handleSort = ({ target }) => {\r\n    if (target.value === \"departure\") sortTime(\"departureDate\");\r\n    if (target.value === \"arrival\") sortTime(\"arrivalDate\");\r\n    if (target.value === \"timeInWay\") sortTimeInWay();\r\n    if (target.value === \"price\") sortPrice();\r\n    changeSortType(target.value);\r\n  };\r\n  const chLang = (name) => {\r\n    let price, arrival, departure, time;\r\n    switch (lang) {\r\n      case \"RU\":\r\n        price = \"\";\r\n        arrival = \" \";\r\n        departure = \" \";\r\n        time = \"  \";\r\n        break;\r\n      case \"UA\":\r\n        price = \"\";\r\n        arrival = \" \";\r\n        departure = \" \";\r\n        time = \"  \";\r\n        break;\r\n      case \"EN\":\r\n        price = \"price\";\r\n        arrival = \"arrival time\";\r\n        departure = \"departure time\";\r\n        time = \"travel time\";\r\n        break;\r\n      case \"PL\":\r\n        price = \"ceny\";\r\n        arrival = \"czasu przybycia\";\r\n        departure = \"czasu odjazdu\";\r\n        time = \"czasu podry\";\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    if (name === \"price\") return price;\r\n    if (name === \"arrival\") return arrival;\r\n    if (name === \"departure\") return departure;\r\n    if (name === \"time\") return time;\r\n  };\r\n  return (\r\n    <IntlProvider locale={locale} messages={messages[locale]}>\r\n      <div className={styles.selectBox}>\r\n        <label>\r\n          <FormattedMessage id=\"sort\" />{\" \"}\r\n          <select\r\n            className={styles.select}\r\n            name=\"sort\"\r\n            value={sortType}\r\n            onChange={handleSort}\r\n          >\r\n            <option className={styles.option} value=\"price\">\r\n              {chLang(\"price\")}\r\n            </option>\r\n            <option className={styles.option} value=\"departure\">\r\n              {chLang(\"departure\")}\r\n            </option>\r\n            <option className={styles.option} value=\"arrival\">\r\n              {chLang(\"arrival\")}\r\n            </option>\r\n            <option className={styles.option} value=\"timeInWay\">\r\n              {chLang(\"time\")}\r\n            </option>\r\n          </select>\r\n        </label>\r\n      </div>\r\n    </IntlProvider>\r\n  );\r\n};\r\nconst mapStateToProps = (state) => ({\r\n  tripsInfo: state.trips.tripsInfo,\r\n  lang: state.language,\r\n  sortType: state.trips.sortType,\r\n});\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  changeSortType: (val) => dispatch(changeSortType(val)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SortTrips);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport queryString from \"query-string\";\r\nimport { format } from \"date-fns\";\r\nimport styles from \"./TripsPage.module.css\";\r\nimport {\r\n  getLocality,\r\n  getTodayDate,\r\n  getTomorrow,\r\n  getYesterday,\r\n} from \"../services/getInfo\";\r\nimport { getInitialization, searchTrips } from \"../services/api\";\r\nimport Loader from \"../components/Loader/Loader\";\r\nimport {\r\n  changeSortType,\r\n  fetchTripsSuccess,\r\n  getTripsInfo,\r\n} from \"../redux/trips/tripsActions\";\r\nimport { stopLoader, getError, startLoader } from \"../redux/global/globalActions\";\r\nimport TripBox from \"../components/TripsContainer/TripBox\";\r\nimport SearchForm from \"../components/SearchForm/SearchForm\";\r\nimport SortTrips from \"../components/TripsContainer/SortTrips\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport { messages } from \"../intl/TripsPageMessanges\";\r\nimport { inputValueDate, setTime } from \"../redux/searchForm/searchFormAction\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass TripsPage extends Component {\r\n  state = {\r\n    // value: \"price\",\r\n    isTrip: false,\r\n  };\r\n  componentDidMount() {\r\n    const parsed = queryString.parse(this.props.location.search);\r\n    // ====     ====\r\n    const requestData = {\r\n      idFrom: parsed.from,\r\n      idWhereTo: parsed.to,\r\n      date: parsed.date,\r\n    };\r\n    //  ====    ==== //\r\n    const time = Date.now();\r\n    this.startSerch(time, requestData);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { trips, getTripsInfo, time, location, changeSortType } = this.props;\r\n    const parsed = queryString.parse(location.search);\r\n\r\n    // ====        ====//\r\n    if (prevProps.time !== time) {\r\n      this.setState({isTrip: false})\r\n      // ====     ====\r\n      const requestData = {\r\n        idFrom: parsed.from,\r\n        idWhereTo: parsed.to,\r\n        date: parsed.date,\r\n      };\r\n      const time = Date.now();\r\n      this.startSerch(time, requestData);\r\n    }\r\n    // ====       redux ==== //\r\n    if (prevProps.trips !== trips) {\r\n      changeSortType(\"price\");\r\n      if (Object.keys(trips).length > 0) {\r\n        const arr = [];\r\n        for (let [key, values] of Object.entries(trips.segments)) {\r\n          arr.push({ [key]: values });\r\n        }\r\n        getTripsInfo(\r\n          arr.sort(\r\n            (a, b) =>\r\n              a[`${Object.keys(a)}`].price.amount - b[`${Object.keys(b)}`].price.amount\r\n          )\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  //  ====   ==== //\r\n  startSerch = (time, requestData) => {\r\n    getInitialization(requestData, this.props.lang)\r\n      .then(({ data }) => this.searchRouts(data.searchId, time, requestData))\r\n      .catch((err) => {\r\n        this.props.getError(err.message);\r\n      });\r\n  };\r\n  // ====     ==== //\r\n  searchRouts = (id, time, requestData) => {\r\n    let deltaTime = Date.now() - time;\r\n    if (deltaTime <= 100) {\r\n      searchTrips(id)\r\n        .then(({ data }) => {\r\n          if (data.searchId) {\r\n            this.searchRouts(data.searchId, time, requestData);\r\n          } else {\r\n            if (data.segments) {\r\n              this.props.fetchTripsSuccess(data);\r\n            } else {\r\n              this.startSerch(time, requestData);\r\n            }\r\n          }\r\n        })\r\n        .catch((err) => this.props.getError(err.message));\r\n    } else if (deltaTime <= 3000) {\r\n      setTimeout(() => {\r\n        searchTrips(id)\r\n          .then(({ data }) => {\r\n            if (data.searchId) {\r\n              this.searchRouts(data.searchId, time, requestData);\r\n            } else {\r\n              if (data.segments) {\r\n                this.props.fetchTripsSuccess(data);\r\n              } else {\r\n                this.startSerch(time, requestData);\r\n              }\r\n            }\r\n          })\r\n          .catch(({ err }) => this.props.getError(err));\r\n      }, 300);\r\n    } else if (deltaTime > 3000 && deltaTime < 5000) {\r\n      setTimeout(() => {\r\n        searchTrips(id)\r\n          .then(({ data }) => {\r\n            if (data.searchId) {\r\n              this.searchRouts(data.searchId, time, requestData);\r\n            } else {\r\n              if (data.segments) {\r\n                this.props.fetchTripsSuccess(data);\r\n              } else {\r\n                this.startSerch(time, requestData);\r\n              }\r\n            }\r\n          })\r\n          .catch(({ err }) => this.props.getError(err));\r\n      }, 2000);\r\n    } else {\r\n      this.props.stopLoader();\r\n      this.setState({ isTrip: \"    .   \" });\r\n    }\r\n  };\r\n\r\n  // ====     / ==== //\r\n  changeDate = ({ target }) => {\r\n    const { startLoader, history, location } = this.props;\r\n    const parsed = queryString.parse(location.search);\r\n\r\n    startLoader();\r\n    const newDay =\r\n      target.name === \"prev\"\r\n        ? format(\r\n            new Date(new Date(parsed.date).getTime() - 24 * 60 * 60 * 1000),\r\n            \"yyyy-MM-dd\"\r\n          )\r\n        : format(\r\n            new Date(new Date(parsed.date).getTime() + 24 * 60 * 60 * 1000),\r\n            \"yyyy-MM-dd\"\r\n          );\r\n    this.props.changeInputDate(new Date(newDay));\r\n    this.props.setTime(new Date().getTime());\r\n    history.push(\r\n      `/trips?from=${parsed.from}&to=${parsed.to}&date=${newDay}&passengers=${parsed.passengers}`\r\n    );\r\n  };\r\n  // ====         ==== //\r\n  getDisabled = ({ date }) => {\r\n    const yyyy = new Date().getFullYear();\r\n    const mm = new Date().getMonth();\r\n    const dd = new Date().getDate();\r\n    if (new Date(date).getTime() - 7200000 <= new Date(yyyy, mm, dd).getTime()) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { error, isLoading, tripsInfo, trips, history, stops, lang } = this.props;\r\n    const parsed = queryString.parse(this.props.location.search);\r\n    const locale = lang === \"UA\" ? \"UK\" : lang;\r\n    return (\r\n      <IntlProvider locale={locale} messages={messages[locale]}>\r\n        <div className=\"bgnd\">\r\n          <div className=\"container\">\r\n            <div className={styles.formBox}>\r\n              <SearchForm history={history} />\r\n            </div>\r\n            {isLoading && <Loader />}\r\n            {error && <Redirect to=\"/error\" />}\r\n            {this.state.isTrip && <p>{this.state.isTrip}</p>}\r\n            {Object.keys(trips).length > 0 && (\r\n              <div className={styles.tripsBox}>\r\n                <h3 className={styles.title}>\r\n                  <FormattedMessage id=\"title\" />\r\n                  <br /> {getLocality(parsed.from, stops, lang)} -{\" \"}\r\n                  {getLocality(parsed.to, stops, lang)}\r\n                </h3>\r\n                <div className={styles.dateBox}>\r\n                  <button\r\n                    className={styles.dateButton}\r\n                    name=\"prev\"\r\n                    onClick={this.changeDate}\r\n                    disabled={this.getDisabled(parsed)}\r\n                  >\r\n                    {getYesterday(parsed, lang)}\r\n                  </button>\r\n                  <p className={styles.today}>{getTodayDate(parsed, lang)}</p>\r\n                  <button\r\n                    className={styles.dateButton}\r\n                    name=\"next\"\r\n                    onClick={this.changeDate}\r\n                  >\r\n                    {getTomorrow(parsed, lang)}\r\n                  </button>\r\n                </div>\r\n                <SortTrips\r\n                // onChangeValue={(val) => this.props.changeSortType( val)}\r\n                // value={this.state.value}\r\n                />\r\n                {tripsInfo.map((el, idx) => (\r\n                  <TripBox\r\n                    key={idx}\r\n                    trip={el[`${Object.keys(el)}`]}\r\n                    tripKey={Object.keys(el)}\r\n                    from={getLocality(parsed.from, stops, lang)}\r\n                    to={getLocality(parsed.to, stops, lang)}\r\n                    location={this.props.location}\r\n                  />\r\n                ))}\r\n                <pre>{JSON.stringify(trips, null, 4)}</pre>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </IntlProvider>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  stops: state.global.stops,\r\n  isLoading: state.global.isLoading,\r\n  error: state.global.error,\r\n  trips: state.trips.trips,\r\n  lang: state.language,\r\n  tripsInfo: state.trips.tripsInfo,\r\n  time: state.searchForm.time,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  getTripsInfo: (trips) => dispatch(getTripsInfo(trips)),\r\n  fetchTripsSuccess: (trips) => dispatch(fetchTripsSuccess(trips)),\r\n  startLoader: () => dispatch(startLoader()),\r\n  stopLoader: () => dispatch(stopLoader()),\r\n  getError: (error) => dispatch(getError(error)),\r\n  changeInputDate: (date) => dispatch(inputValueDate(date)),\r\n  setTime: (time) => dispatch(setTime(time)),\r\n  changeSortType: (val) => dispatch(changeSortType(val)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TripsPage);\r\n","import { fetchAllStops, getError } from \"./globalActions\";\r\nimport { getAllStops } from \"../../services/api\";\r\n\r\nexport const fetchStops = () => (dispatch) => {\r\n  getAllStops()\r\n    .then((res) => {\r\n      dispatch(fetchAllStops(res.data));\r\n    })\r\n    .catch((error) => dispatch(getError(error.message)));\r\n};\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\",\n  fillOpacity: 0.5\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z\"\n});\n\nfunction SvgMenuBlack48Dp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    width: \"48px\",\n    height: \"48px\",\n    fill: \"#febb02\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMenuBlack48Dp);\nexport default __webpack_public_path__ + \"static/media/menu-black-48dp.6bb38f26.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { changeLanguage } from \"../../redux/Language/LanguageAction\";\r\nimport { inputValueFrom, inputValueTo } from \"../../redux/searchForm/searchFormAction\";\r\nimport styles from \"./LanguageSelect.module.css\";\r\n\r\nconst LanguageSelect = () => {\r\n  const language = useSelector((state) => state.language);\r\n  const dispatch = useDispatch();\r\n  const changeInputFrom = (value) => dispatch(inputValueFrom(value));\r\n  const changeInputTo = (value) => dispatch(inputValueTo(value));\r\n  const onChangeLanguage = (value) => dispatch(changeLanguage(value));\r\n\r\n  const handleChange = ({ target }) => {\r\n    changeInputFrom(\"\");\r\n    changeInputTo(\"\");\r\n    onChangeLanguage(target.value);\r\n  };\r\n  return (\r\n    <div className={styles.selectBox}>\r\n      <select className={styles.select} value={language} onChange={handleChange}>\r\n        <option className={styles.option} value=\"RU\">\r\n          \r\n        </option>\r\n        <option className={styles.option} value=\"EN\">\r\n          English\r\n        </option>\r\n        <option className={styles.option} value=\"UA\">\r\n          \r\n        </option>\r\n        <option className={styles.option} value=\"PL\">\r\n          Polski\r\n        </option>\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LanguageSelect;\r\n","import { Types } from '../actionsTypes';\r\n\r\nexport const changeLanguage = value => ({\r\n  type: Types.CHANGE_LANGUAGE,\r\n  payload: value,\r\n});\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { ReactComponent as Menu } from \"../../images/menu-black-48dp.svg\";\r\nimport { getError } from \"../../redux/global/globalActions\";\r\nimport LanguageSelect from \"../Language/LanguageSelect\";\r\n\r\nimport styles from \"./Header.module.css\";\r\n\r\nconst Header = () => {\r\n  const dispatch = useDispatch();\r\n  const clearErorr = (val) => dispatch(getError(val));\r\n  const [isMenu, setIsMenu] = useState(false);\r\n\r\n  const windowWidth = window.innerWidth;\r\n  return (\r\n    <header className={styles.header}>\r\n      <div className={styles.container}>\r\n        <Link to=\"/\" className={styles.link} onClick={() => clearErorr(\"\")}></Link>\r\n        {windowWidth < 768 ? (\r\n          <button\r\n            className={styles.btnMenu}\r\n            type=\"button\"\r\n            onClick={() => setIsMenu(!isMenu)}\r\n          >\r\n            <Menu />\r\n          </button>\r\n        ) : (\r\n          <p className={styles.tel}>\r\n             c : <a href=\"tel: +1 111 111-11-11\">+1 111 111-11-11</a>\r\n          </p>\r\n        )}\r\n        {isMenu && (\r\n          <div className={styles.menuBox}>\r\n            <p>\r\n               c : <a href=\"tel: +1 111 111-11-11\">+1 111 111-11-11</a>\r\n            </p>\r\n            <button type=\"button\" onClick={() => setIsMenu(!isMenu)}>\r\n              close\r\n            </button>\r\n          </div>\r\n        )}\r\n        {/* <MyTicket /> */}\r\n        <LanguageSelect />\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { useEffect, useCallback } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport ErrorPage from \"../pages/ErrorPage\";\r\nimport HomePage from \"../pages/HomePage\";\r\nimport MyTicketPage from \"../pages/MyTicketPage\";\r\nimport OrderPage from \"../pages/OrderPage\";\r\nimport TicketPage from \"../pages/TicketPage\";\r\nimport TripsPage from \"../pages/TripsPage\";\r\nimport { fetchStops } from \"../redux/global/globalOperations\";\r\nimport Header from \"./Header/Header\";\r\n\r\nconst App = () => {\r\n  // ====redux===//\r\n  const dispatch = useDispatch();\r\n  const getStops = useCallback(() => {\r\n    dispatch(fetchStops());\r\n  }, [dispatch]);\r\n\r\n  //  ====        redux ==== //\r\n  useEffect(() => {\r\n    getStops();\r\n  }, [getStops]);\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <Header />\r\n        <Switch>\r\n          <Route path=\"/\" exact component={HomePage} />\r\n          <Route path=\"/trips\" component={TripsPage} />\r\n          <Route path=\"/order\" component={OrderPage} />\r\n          <Route path=\"/ticket/:id/:pay\" component={TicketPage} />\r\n          <Route path=\"/myTicket/:id\" component={MyTicketPage} />\r\n          <Route path=\"/error\" component={ErrorPage} />\r\n        </Switch>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HashRouter, Route } from \"react-router-dom\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"./stylesheet/main.css\";\nimport store from \"./redux/store\";\nimport { Provider } from \"react-redux\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    {/* <BrowserRouter> */}\n    <HashRouter>\n      <Provider store={store}>\n        <Route component={App} />\n      </Provider>\n    </HashRouter>\n    {/* </BrowserRouter> */}\n  </React.StrictMode>,\n  document.getElementById(\"trips\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"SearchForm_form__2N48Q\",\"datePicker\":\"SearchForm_datePicker__j9G9j\",\"inputBox\":\"SearchForm_inputBox__1LLcY\",\"searchBtn\":\"SearchForm_searchBtn__2c0Em\",\"arrow\":\"SearchForm_arrow__3msSa\",\"flex\":\"SearchForm_flex__2-iUa\",\"fromTo\":\"SearchForm_fromTo__3Lpht\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"orderBox\":\"TripInfo_orderBox__3vgLA\",\"subTitle\":\"TripInfo_subTitle__SobNd\",\"locality\":\"TripInfo_locality__gODHS\",\"arrow\":\"TripInfo_arrow__10R3M\",\"localityStop\":\"TripInfo_localityStop__19gVr\",\"date\":\"TripInfo_date__of34G\",\"passangersBox\":\"TripInfo_passangersBox__APhtP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"MyTicketPage_list__2gCSw\",\"link\":\"MyTicketPage_link__1L_5j\",\"text\":\"MyTicketPage_text__3c51f\",\"id\":\"MyTicketPage_id__25sjq\",\"main\":\"MyTicketPage_main__2UNEw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formBox\":\"TripsPage_formBox__3-6c5\",\"title\":\"TripsPage_title__wKis6\",\"dateBox\":\"TripsPage_dateBox__NDqTC\",\"dateButton\":\"TripsPage_dateButton__3KUvB\",\"today\":\"TripsPage_today__2bd5E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"time\":\"PaymentBox_time__3ZiR7\",\"warning\":\"PaymentBox_warning__3hpHn\",\"warningText\":\"PaymentBox_warningText__1Vuul\",\"payment\":\"PaymentBox_payment__-PDYU\",\"portmone\":\"PaymentBox_portmone__1X9IH\",\"total\":\"PaymentBox_total__1vfJn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectBox\":\"SortTrips_selectBox__3pZiV\",\"select\":\"SortTrips_select__3lhLX\",\"option\":\"SortTrips_option__1Ujcw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectBox\":\"LanguageSelect_selectBox__27rDG\",\"select\":\"LanguageSelect_select__2dcHR\",\"option\":\"LanguageSelect_option__2gioP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3t9wg\",\"container\":\"Header_container__14E23\",\"link\":\"Header_link__3CZcn\",\"tel\":\"Header_tel__1fGcm\",\"btnMenu\":\"Header_btnMenu__2dA1m\",\"menuBox\":\"Header_menuBox__2TOHz\"};"],"sourceRoot":""}