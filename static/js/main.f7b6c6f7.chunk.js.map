{"version":3,"sources":["components/SearchForm/AmountPassanger.module.css","components/TripsContainer/TripBox.module.css","pages/ErrorPage.module.css","components/PublickOffer/PublickOffer.module.css","pages/OrderPage.module.css","components/Modal/Modal.module.css","components/Loader/Loader.module.css","components/Order/FormForBuy.module.css","pages/HomePage.module.css","services/api.js","components/TicketContainer/PassengersData.module.css","components/Order/OrderInfo.module.css","reportWebVitals.js","redux/actionsTypes.js","redux/searchForm/searchFormReduser.js","redux/Language/languageReduser.js","redux/global/globalReduser.js","redux/trips/tripsReduser.js","redux/order/orderReduser.js","redux/store.js","redux/global/globalActions.js","pages/ErrorPage.js","intl/HomePageMessanges.js","redux/searchForm/searchFormAction.js","redux/trips/tripsActions.js","components/SearchForm/Autocomplete.js","images/add-black-18dp.svg","images/remove-black-18dp.svg","components/SearchForm/AmountPassanger.js","images/sync_alt-white-36dp.svg","components/SearchForm/SearchForm.js","pages/HomePage.js","redux/order/orderActions.js","redux/order/orderOperation.js","pages/MyTicketPage.js","intl/OrderPageMessanges.js","services/getInfo.js","components/Order/OrderInfo.js","images/person-24px.svg","components/PublickOffer/PublickOffer.js","components/Modal/Modal.js","components/Loader/Loader.js","components/Order/FormForBuy.js","pages/OrderPage.js","intl/TicketPageMessanges.js","components/TicketContainer/PaymentBox.js","components/TicketContainer/TripInfo.js","components/TicketContainer/PassengersData.js","pages/TicketPage.js","intl/TripsPageMessanges.js","components/TripsContainer/TripBox.js","components/TripsContainer/SortTrips.js","pages/TripsPage.js","redux/global/globalOperations.js","images/menu-black-48dp.svg","components/Language/LanguageSelect.js","redux/Language/LanguageAction.js","components/Header/Header.js","components/App.js","index.js","components/SearchForm/SearchForm.module.css","components/TicketContainer/TripInfo.module.css","pages/MyTicketPage.module.css","pages/TripsPage.module.css","components/TicketContainer/PaymentBox.module.css","components/TripsContainer/SortTrips.module.css","components/Language/LanguageSelect.module.css","components/Header/Header.module.css"],"names":["module","exports","baseURLcontrol","baseURLsale","AUTH_KEY2","Buffer","from","toString","getAllStops","axios","method","url","headers","Authorization","getInitialization","lang","idFrom","idWhereTo","date","data","id","localityPairs","dates","currency","searchTrips","getTicketInfo","toBookTicket","body","getTicketConfirm","getTicketPrint","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Types","searchFormReduser","combineReducers","state","type","payload","to","Date","amountPassanger","time","language","globalReduser","stops","error","isLoading","tripsReduser","trips","tripsInfo","sortType","orderReduser","order","ticket","rootRedusers","global","searchForm","enhancer","applyMiddleware","thunk","store","createStore","composeWithDevTools","getError","err","startLoader","stopLoader","ErrorPage","dispatch","useDispatch","className","styles","smile","link","onClick","messages","EN","title","subtitle","iconItem1","iconItem2","iconItem3","iconItem4","iconItem5","searchBtn","inputAmount","RU","UK","PL","inputValueFrom","value","inputValueTo","inputValueDate","setTime","fetchTripsSuccess","changeSortType","val","filterOptions","createFilterOptions","matchFrom","StyledTextField","styled","TextField","StyledAutocomplete","Autocomplete","AutocompleteComp","useSelector","changeInputFrom","useCallback","changeInputTo","useState","options","setOptions","setValue","useEffect","res","find","el","name","getFull","obj","parent","filter","result","getOptions","reduce","newArr","item","push","locale","freeSolo","onChange","event","split","handleChange","map","opt","renderOption","renderInput","params","label","onBlur","target","handleInputChange","margin","variant","helperText","_extends","Object","assign","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","d","fill","SvgAddBlack18Dp","_ref","svgRef","titleId","props","xmlns","viewBox","width","height","ref","ForwardRef","SvgRemoveBlack18Dp","AmountPassanger","amount","amountBox","flex","button","disabled","SvgSyncAltWhite36Dp","enableBackground","SearchForm","errorFrom","errorTo","changeButton","fromInp","dateLocale","en","ru","ua","pl","handleSubmit","e","preventDefault","history","fromId","getId","toId","dateQuery","format","getTime","toLowerCase","trim","setState","prevProps","changeInputDate","onSubmit","form","fromTo","inputBox","arrow","datePicker","dateFormat","selected","minDate","onClose","closeModal","Button","color","Component","connect","HomePage","useHistory","bgnd","container","formContainer","iconsBox","iconItem","fetchTicket","getTicket","catch","message","MyTicketPage","status","getURL","byteCharacters","atob","byteNumbers","Array","charCodeAt","byteArray","Uint8Array","pdf","Blob","base64","window","URL","createObjectURL","encryptId","match","CryptoJS","AES","decrypt","enc","Utf8","services","getConfirm","documents","console","log","text","href","rel","price","priceId","departure","arrival","buttonAdd","customer","offer","offerSpan","buy","myData","myDataSpan","requared","numTel","details","pay","getLang","lng","getLocality","getStop","localities","getAllLocalities","getDate","trip","toLocaleString","day","month","year","hour","minute","getTimeInWay","h","m","timeInWay","getYesterday","getTomorrow","getTodayDate","getExpireTime","OrderInfo","total","toStop","fromStop","arrivalDate","departureDate","orderBox","subTitle","locality","localityStop","toFixed","SvgPerson24Px","PublickOffer","box","Modal","backdropRef","createRef","handleKeyPress","code","handleBackdropClick","isGohome","current","addEventListener","removeEventListener","style","backdrop","role","component","Loader","loader","FormForBuy","values","email","resp","isOffer","isPersonal","isValidName","tripKey","requestBody","idx","segment","seat","tariff","customers","prev","replace","handleChangeEmail","handleAdd","slice","phone","surname","changeAmountPassanger","handleRemove","getValueName","getValueSurname","getValuePhone","openModal","isModal","amountPassangers","prevState","forEach","btoa","encrypt","orderId","payeeId","additionals","svgBox","svg","input","red","placeholder","autoComplete","required","buttonRemove","publicOfferBox","buttonBuy","JSON","stringify","totalPassanger","setTotalPassanger","path","parse","sessionStorage","getItem","formBox","main","passangersData","cost","passenger","endTime","PaymentBox","timeEnd","expire","timeStart","intervalId","setInterval","clearInterval","getTotalPrice","acc","warning","warningText","second","payment","action","portmone","TripInfo","segments","PassengersData","getPassengersData","passangersBox","header","number","passangerData","passangerTitle","passangerName","TicketPage","getLocalityId","stopId","choose","sort","fetchOrderInfo","location","isOpen","setIsOpen","arrayStops","setArrayStops","windowWidth","innerWidth","parsed","queryString","search","full","tripBox","info","infoLast","priceBox","pathname","setItem","freeSeatsCount","green","first","route","last","arr","additionalInfo","depArr","start","addLocality","stop","timeStop","departureTime","finish","sortTime","a","b","time_partsA","time_partsB","chLang","selectBox","select","option","TripsPage","startSerch","requestData","searchRouts","searchId","deltaTime","now","setTimeout","changeDate","newDay","passengers","getDisabled","yyyy","getFullYear","mm","getMonth","dd","getTripsInfo","entries","tripsBox","dateBox","dateButton","today","fetchStops","fillOpacity","SvgMenuBlack48Dp","onChangeLanguage","changeLanguage","Header","isMenu","setIsMenu","btnMenu","tel","menuBox","App","getStops","exact","OrderPage","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f7b6c6f7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"amountBox\":\"AmountPassanger_amountBox__ObSl1\",\"button\":\"AmountPassanger_button__1lr32\",\"flex\":\"AmountPassanger_flex__1B3BD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"full\":\"TripBox_full__1MYs3\",\"tripBox\":\"TripBox_tripBox__O2X7r\",\"timeInWay\":\"TripBox_timeInWay__1Br66\",\"time\":\"TripBox_time__2Ngoy\",\"date\":\"TripBox_date__2dNOs\",\"locality\":\"TripBox_locality__3kR1v\",\"localityStop\":\"TripBox_localityStop__2ta2o\",\"fromTo\":\"TripBox_fromTo__1uOtD\",\"additionals\":\"TripBox_additionals__1Gt9u\",\"price\":\"TripBox_price__3CUgI\",\"priceBox\":\"TripBox_priceBox__32bBL\",\"choose\":\"TripBox_choose__2o44a\",\"additionalInfo\":\"TripBox_additionalInfo__1feJO\",\"depArr\":\"TripBox_depArr__hEawj\",\"start\":\"TripBox_start__3W_wG\",\"stop\":\"TripBox_stop__7kDdb\",\"timeStop\":\"TripBox_timeStop__29Vu7\",\"departure\":\"TripBox_departure__3kCgP\",\"finish\":\"TripBox_finish__2S9Hg\",\"arrival\":\"TripBox_arrival__3Qg9j\",\"red\":\"TripBox_red__4HN73\",\"green\":\"TripBox_green__3n3AQ\",\"info\":\"TripBox_info__Oma29\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"smile\":\"ErrorPage_smile__zb7J7\",\"link\":\"ErrorPage_link__3e9HI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"PublickOffer_text__1N1Me\",\"box\":\"PublickOffer_box__imOz6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formBox\":\"OrderPage_formBox__2H6bX\",\"main\":\"OrderPage_main__2TB5j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__1sEBb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1hYLR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"FormForBuy_container__1_d-E\",\"title\":\"FormForBuy_title__3eLAm\",\"customer\":\"FormForBuy_customer__YyazU\",\"box\":\"FormForBuy_box__2SRYo\",\"svgBox\":\"FormForBuy_svgBox__4R6q9\",\"svg\":\"FormForBuy_svg__16-6z\",\"inputBox\":\"FormForBuy_inputBox__1PYeT\",\"input\":\"FormForBuy_input__3mB_j\",\"price\":\"FormForBuy_price__Al-Ey\",\"buttonRemove\":\"FormForBuy_buttonRemove__1fL_u\",\"buttonAdd\":\"FormForBuy_buttonAdd__3xucF\",\"buttonBuy\":\"FormForBuy_buttonBuy__2ZJFb\",\"text\":\"FormForBuy_text__1m7KC\",\"publicOfferBox\":\"FormForBuy_publicOfferBox__1la-4\",\"red\":\"FormForBuy_red__29ry0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bgnd\":\"HomePage_bgnd__2oUBB\",\"container\":\"HomePage_container__14k9f\",\"title\":\"HomePage_title__1cRh1\",\"subtitle\":\"HomePage_subtitle__3NU2M\",\"formContainer\":\"HomePage_formContainer__3ZBdz\",\"iconsBox\":\"HomePage_iconsBox__Dg2Kf\",\"iconItem\":\"HomePage_iconItem__18pE4\",\"iconItem1\":\"HomePage_iconItem1__2fU5X\",\"iconItem2\":\"HomePage_iconItem2__-mZq7\",\"iconItem3\":\"HomePage_iconItem3__jCaK3\",\"iconItem4\":\"HomePage_iconItem4__Mb-h-\",\"iconItem5\":\"HomePage_iconItem5__3mHEo\"};","import axios from \"axios\";\r\nconst baseURLcontrol = \"https://busis.eu/gds-control/api/v1\";\r\nconst baseURLsale = \"https://busis.eu/gds-sale/api/v1\";\r\n\r\nconst AUTH_KEY = `Basic ${Buffer.from(\"busfor_test:busfor_test\").toString(\"base64\")}`;\r\nconst AUTH_KEY2 = `Basic ${Buffer.from(\"380888888880:8111\").toString(\"base64\")}`;\r\n\r\n//  ==== получение всех остановок ==== //\r\nexport const getAllStops = () => {\r\n  return axios({\r\n    method: \"get\",\r\n    url: `${baseURLcontrol}/locality/all`,\r\n    headers: {\r\n      Authorization: AUTH_KEY2,\r\n    },\r\n  });\r\n};\r\n\r\n// ==== инициализация поиска ==== //\r\nexport const getInitialization = ({ idFrom, idWhereTo, date }, lang) => {\r\n  return axios({\r\n    method: \"post\",\r\n    url: `${baseURLcontrol}/search`,\r\n    headers: {\r\n      Authorization: AUTH_KEY2,\r\n    },\r\n    data: {\r\n      id: \"string\",\r\n      // lang: `${lang}`,\r\n      localityPairs: [[`${idFrom}`, `${idWhereTo}`]],\r\n      dates: [`${date}`],\r\n      currency: \"UAH\",\r\n      // maxConnections: 0,\r\n    },\r\n  });\r\n};\r\n\r\n//  ==== поиск поездок ==== //\r\nexport const searchTrips = (id) => {\r\n  return axios({\r\n    method: \"get\",\r\n    url: `${baseURLcontrol}/search/${id}`,\r\n    headers: {\r\n      Authorization: AUTH_KEY2,\r\n    },\r\n  });\r\n};\r\n// ==== список обезательных полей ==== //\r\nexport const getRequaredFields = (key) => {\r\n  return axios({\r\n    method: \"get\",\r\n    url: `${baseURLcontrol}/search/trip/${key}/required`,\r\n    headers: {\r\n      Authorization: AUTH_KEY,\r\n    },\r\n  });\r\n};\r\n\r\n//  ==== запрос на билет ==== //\r\n// export const toBook = (body) => {\r\n//   return axios({\r\n//     method: \"post\",\r\n//     url: `${baseURLcontrol}/order`,\r\n//     headers: {\r\n//       Authorization: AUTH_KEY,\r\n//     },\r\n//     data: body,\r\n//   });\r\n// };\r\n\r\n// ==== информация о билете ==== //\r\nexport const getTicketInfo = (id) => {\r\n  return axios({\r\n    method: \"get\",\r\n    url: `${baseURLcontrol}/order/${id}`,\r\n    headers: {\r\n      Authorization: AUTH_KEY2,\r\n    },\r\n  });\r\n};\r\n// ==== запрос на билет ==== //\r\nexport const toBookTicket = (body) => {\r\n  return axios({\r\n    method: \"post\",\r\n    url: `${baseURLsale}/order/with_payment_params/PORTMONE`,\r\n    headers: {\r\n      Authorization: AUTH_KEY2,\r\n    },\r\n    data: body,\r\n  });\r\n};\r\n\r\n// ==== подтверждение покупки билете ==== //\r\nexport const getTicketConfirm = (id) => {\r\n  return axios({\r\n    method: \"post\",\r\n    url: `${baseURLcontrol}/order/${id}/confirm/CASH`,\r\n    headers: {\r\n      Authorization: AUTH_KEY2,\r\n    },\r\n  });\r\n};\r\n\r\n// ==== получение билета для печати ==== //\r\nexport const getTicketPrint = (id, lang) => {\r\n  return axios({\r\n    method: \"get\",\r\n    url: `${baseURLsale}/order/${id}/document/${lang}`,\r\n    headers: {\r\n      Authorization: AUTH_KEY2,\r\n    },\r\n  });\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"passangersBox\":\"PassengersData_passangersBox__2vzCB\",\"subTitle\":\"PassengersData_subTitle__1Yzrn\",\"header\":\"PassengersData_header__1bXYK\",\"number\":\"PassengersData_number__LPGjY\",\"price\":\"PassengersData_price__3l4dv\",\"passangerData\":\"PassengersData_passangerData__3puIm\",\"passangerTitle\":\"PassengersData_passangerTitle__2zH-m\",\"passangerName\":\"PassengersData_passangerName__1Fcyp\",\"title\":\"PassengersData_title__217Xw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"OrderInfo_title__3ceH4\",\"orderBox\":\"OrderInfo_orderBox__2I8SS\",\"subTitle\":\"OrderInfo_subTitle__bgnKm\",\"locality\":\"OrderInfo_locality__1VNCL\",\"localityStop\":\"OrderInfo_localityStop__2e-Hn\",\"date\":\"OrderInfo_date__2l0Hy\",\"total\":\"OrderInfo_total__1QOpy\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export const Types = {\r\n  // global\r\n  FETCH_ALL_STOPS_SUCCESS: \"FETCH_ALL_STOPS_SUCCESS\",\r\n  START_LOADER: \"START_LOADER\",\r\n  GET_ERROR: \"GET_ERROR\",\r\n  FINISH_LOADER: \"FINISH_LOADER\",\r\n\r\n  // searchForm\r\n  INPUT_VALUE_FROM: \"INPUT_VALUE_FROM\",\r\n  INPUT_VALUE_TO: \"INPUT_VALUE_TO\",\r\n  INPUT_DATE: \"INPUT_DATE\",\r\n  DECREMENT_AMOUNT_PASSANGER: \"DECREMENT_AMOUNT_PASSANGER\",\r\n  INCREMENT_AMOUNT_PASSANGER: \"INCREMENT_AMOUNT_PASSANGER\",\r\n  TIME: \"TIME\",\r\n\r\n  //  language\r\n  CHANGE_LANGUAGE: \"CHANGE_LANGUAGE\",\r\n\r\n  //  trips\r\n  FETCH_TRIPS_SUCCESS: \"FETCH_TRIPS_SUCCESS\",\r\n  GET_TRIPS_INFO: \"GET_TRIPS_INFO\",\r\n  FETCH_TICKET: 'FETCH_TICKET',\r\n  GET_SORT_TYPE: 'GET_SORT_TYPE',\r\n\r\n  // order\r\n  FETCH_ORDER_INFO: \"FETCH_ORDER_INFO\",\r\n  AMOUNT_PASSANGER: \"AMOUNT_PASSANGER\",\r\n\r\n};\r\n","import { Types } from \"../actionsTypes\";\r\nimport { combineReducers } from \"redux\";\r\n\r\nconst getInputValueFrom = (state = \"Львів\", { type, payload }) => {\r\n  switch (type) {\r\n    case Types.INPUT_VALUE_FROM:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nconst getInputValueTo = (state = \"Київ\", { type, payload }) => {\r\n  switch (type) {\r\n    case Types.INPUT_VALUE_TO:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nconst getInputValueDate = (state = new Date(), { type, payload }) => {\r\n  switch (type) {\r\n    case Types.INPUT_DATE:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nconst getAmountPassanger = (state = 1, { type, payload }) => {\r\n  switch (type) {\r\n    case Types.INCREMENT_AMOUNT_PASSANGER:\r\n      return state + 1;\r\n    case Types.DECREMENT_AMOUNT_PASSANGER:\r\n      return state - 1;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nconst getTime = (state = '', { type, payload }) => {\r\n  switch (type) {\r\n    case Types.TIME:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const searchFormReduser = combineReducers({\r\n  from: getInputValueFrom,\r\n  to: getInputValueTo,\r\n  date: getInputValueDate,\r\n  amountPassanger: getAmountPassanger,\r\n  time: getTime\r\n});\r\n","import { Types } from '../actionsTypes';\r\n\r\nconst language = (state = 'UA', { type, payload }) => {\r\n  switch (type) {\r\n    case Types.CHANGE_LANGUAGE:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default language;\r\n\r\n","import { Types } from \"../actionsTypes\";\r\nimport { combineReducers } from \"redux\";\r\n\r\nconst getStops = (state = [], { type, payload }) => {\r\n  switch (type) {\r\n    case Types.FETCH_ALL_STOPS_SUCCESS:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst getError = (state = \"\", { type, payload }) => {\r\n  switch (type) {\r\n    case Types.GET_ERROR:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst getLoader = (state = false, { type, payload }) => {\r\n  switch (type) {\r\n    case Types.START_LOADER:\r\n      return true;\r\n    case Types.FINISH_LOADER:\r\n    case Types.GET_ERROR:\r\n    case Types.FETCH_TRIPS_SUCCESS:\r\n      //   case Types.FETCH_TRIPS_ERROR:\r\n      return false;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const globalReduser = combineReducers({\r\n  stops: getStops,\r\n  error: getError,\r\n  isLoading: getLoader,\r\n});\r\n","import { Types } from \"../actionsTypes\";\r\nimport { combineReducers } from \"redux\";\r\n\r\nconst getTrips = (state = {}, { type, payload }) => {\r\n  switch (type) {\r\n    case Types.FETCH_TRIPS_SUCCESS:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst getTripsInfo = (state = [], { type, payload }) => {\r\n  switch (type) {\r\n    case Types.GET_TRIPS_INFO:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst getSortType = (state = 'price', { type, payload }) => {\r\n  switch (type) {\r\n    case Types.GET_SORT_TYPE:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const tripsReduser = combineReducers({\r\n  trips: getTrips,\r\n  tripsInfo: getTripsInfo,\r\n  sortType: getSortType\r\n});\r\n","import { Types } from \"../actionsTypes\";\r\nimport { combineReducers } from \"redux\";\r\n\r\nconst getOrder = (state = {}, { type, payload }) => {\r\n  switch (type) {\r\n    case Types.FETCH_ORDER_INFO:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst getTicket = (state = {}, { type, payload }) => {\r\n  switch (type) {\r\n    case Types.FETCH_TICKET:\r\n      return payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const orderReduser = combineReducers({\r\n  order: getOrder,\r\n  ticket: getTicket\r\n});\r\n","import { createStore, combineReducers, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport { searchFormReduser } from \"./searchForm/searchFormReduser\";\r\nimport language from \"./Language/languageReduser\";\r\nimport { globalReduser } from \"./global/globalReduser\";\r\nimport { tripsReduser } from \"./trips/tripsReduser\";\r\nimport { orderReduser } from \"./order/orderReduser\";\r\n\r\nconst rootRedusers = combineReducers({\r\n  global: globalReduser,\r\n  searchForm: searchFormReduser,\r\n  language: language,\r\n  trips: tripsReduser,\r\n  order: orderReduser,\r\n});\r\nconst enhancer = applyMiddleware(thunk);\r\n\r\nconst store = createStore(rootRedusers, composeWithDevTools(enhancer));\r\n\r\nexport default store;\r\n","import { Types } from \"../actionsTypes\";\r\n\r\nexport const fetchAllStops = (stops) => ({\r\n  type: Types.FETCH_ALL_STOPS_SUCCESS,\r\n  payload: stops,\r\n});\r\n\r\nexport const getError = (err) => ({\r\n  type: Types.GET_ERROR,\r\n  payload: err,\r\n});\r\n\r\nexport const startLoader = () => ({\r\n  type: Types.START_LOADER,\r\n});\r\nexport const stopLoader = () => ({\r\n    type: Types.FINISH_LOADER,\r\n  });\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getError } from \"../redux/global/globalActions\";\r\nimport styles from \"./ErrorPage.module.css\";\r\n\r\nconst ErrorPage = () => {\r\n  const dispatch = useDispatch();\r\n  const clearErorr = (val) => dispatch(getError(val));\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <p className={styles.smile}>Oops..! something went wrong</p>\r\n      <Link to=\"/\" className={styles.link} onClick={() => clearErorr(\"\")}>\r\n        Вернутся на главную страницу\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ErrorPage;\r\n","export const messages = {\r\n  EN: {\r\n    title: \"Bus ticket\",\r\n    subtitle: \"in Ukraine, Poland, Europe\",\r\n    iconItem1: \"Low price guarantee\",\r\n    iconItem2: \"Safe card payment\",\r\n    iconItem3: \"24/7 customer support\",\r\n    iconItem4: \"Вiscounts and bonuses\",\r\n    iconItem5: \"SMS informing\",\r\n    searchBtn: \"Search\",\r\n    inputAmount: \"Passengers\",\r\n    from: \"from\",\r\n    to: \"to\",\r\n  },\r\n  RU: {\r\n    title: \"Билеты на автобус\",\r\n    subtitle: \"по Украине, Польше, Европе\",\r\n    iconItem1: \"Гарантия низкой цены\",\r\n    iconItem2: \"Безопасная оплата картой\",\r\n    iconItem3: \"Круглосуточная служба поддержки\",\r\n    iconItem4: \"Система скидок и бонусов\",\r\n    iconItem5: \"Смс информирование\",\r\n    searchBtn: \"Поиск\",\r\n    inputAmount: \"Пассажиры\",\r\n    from: \"Откуда\",\r\n    to: \"Куда\",\r\n  },\r\n  UK: {\r\n    title: \"Квитки на автобус\",\r\n    subtitle: \"по Україні, Польщі, Європі\",\r\n    iconItem1: \"Гарантія низької вартості\",\r\n    iconItem2: \"Безпечна оплата картою\",\r\n    iconItem3: \"Цілодобова служба підтримки\",\r\n    iconItem4: \"Система знижок і бонусів\",\r\n    iconItem5: \"смс інформування\",\r\n    searchBtn: \"Пошук\",\r\n    inputAmount: \"Пасажири\",\r\n    from: \"Звідки\",\r\n    to: \"Куди\",\r\n  },\r\n  PL: {\r\n    title: \"Bilety autobusowe\",\r\n    subtitle: \"na Ukrainie, w Polsce, Europie\",\r\n    iconItem1: \"Gwarancja niskiej ceny\",\r\n    iconItem2: \"Bezpieczna płatność kartą\",\r\n    iconItem3: \"Obsługa klienta 24/7\",\r\n    iconItem4: \"System rabatów i bonusów\",\r\n    iconItem5: \"Informowanie SMS\",\r\n    searchBtn: \"Szukaj\",\r\n    inputAmount: \"Pasażerowie\",\r\n    from: \"Skąd\",\r\n    to: \"Dokąd\",\r\n  },\r\n};\r\n","import { Types } from \"../actionsTypes\";\r\n\r\nexport const inputValueFrom = (value) => ({\r\n  type: Types.INPUT_VALUE_FROM,\r\n  payload: value,\r\n});\r\nexport const inputValueTo = (value) => ({\r\n  type: Types.INPUT_VALUE_TO,\r\n  payload: value,\r\n});\r\nexport const inputValueDate = (date) => ({\r\n  type: Types.INPUT_DATE,\r\n  payload: date,\r\n});\r\n\r\nexport const incrementAmountPassangers = () => ({\r\n  type: Types.INCREMENT_AMOUNT_PASSANGER,\r\n});\r\n\r\nexport const decrementAmountPassangers = () => ({\r\n  type: Types.DECREMENT_AMOUNT_PASSANGER,\r\n});\r\n\r\nexport const setTime = (time) => ({\r\n  type: Types.TIME,\r\n  payload: time\r\n});\r\n","import { Types } from \"../actionsTypes\";\r\n\r\nexport const fetchTripsSuccess = (trips) => ({\r\n  type: Types.FETCH_TRIPS_SUCCESS,\r\n  payload: trips,\r\n});\r\n\r\nexport const getTripsInfo = (trips) => ({\r\n  type: Types.GET_TRIPS_INFO,\r\n  payload: trips,\r\n});\r\n\r\nexport const changeSortType = (val) => ({\r\n  type: Types.GET_SORT_TYPE,\r\n  payload: val,\r\n});\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\n// import { connect } from \"react-redux\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\r\nimport { inputValueFrom, inputValueTo } from \"../../redux/searchForm/searchFormAction\";\r\nimport styled from \"styled-components\";\r\n\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport { messages } from \"../../intl/HomePageMessanges\";\r\n\r\nconst filterOptions = createFilterOptions({\r\n  matchFrom: \"start\",\r\n});\r\n\r\nconst StyledTextField = styled(TextField)`\r\n  label {\r\n    color: var(--color-secondary);\r\n  }\r\n  label.Mui-focused {\r\n    color: var(--color-secondary);\r\n  }\r\n  .MuiOutlinedInput-root {\r\n    fieldset {\r\n      border: 2px solid var(--color-secondary);\r\n    }\r\n    &:hover fieldset {\r\n      border: 3px solid var(--color-secondary);\r\n    }\r\n    &.Mui-focused fieldset {\r\n      border: 3px solid var(--color-secondary);\r\n    }\r\n  }\r\n  .MuiInputBase-input {\r\n    color: #ffffff;\r\n    font-family: \"HelveticaNeueCyr\";\r\n    font-size: 18px;\r\n    font-weight: 500;\r\n    cursor: pointer;\r\n  }\r\n  .MuiIconButton-root {\r\n    color: var(--color-secondary);\r\n  }\r\n  .MuiFormControl-marginNormal {\r\n    margin: 0;\r\n  }\r\n`;\r\nconst StyledAutocomplete = styled(Autocomplete)`\r\n  .MuiFormControl-marginNormal {\r\n    margin: 0;\r\n  }\r\n  .MuiAutocomplete-option[data-focus=\"true\"] {\r\n    background: \"blue\";\r\n  }\r\n`;\r\n\r\nconst AutocompleteComp = ({ id, error }) => {\r\n  // ====redux ====//\r\n  const stops = useSelector((state) => state.global.stops);\r\n  const lang = useSelector((state) => state.language);\r\n  const from = useSelector((state) => state.searchForm.from);\r\n  const to = useSelector((state) => state.searchForm.to);\r\n\r\n  const dispatch = useDispatch();\r\n  const changeInputFrom = useCallback(\r\n    (value) => {\r\n      dispatch(inputValueFrom(value));\r\n    },\r\n    [dispatch]\r\n  );\r\n  const changeInputTo = useCallback(\r\n    (value) => {\r\n      dispatch(inputValueTo(value));\r\n    },\r\n    [dispatch]\r\n  );\r\n  // === state ==== //\r\n  const [options, setOptions] = useState([]);\r\n  const [value, setValue] = useState(id === \"from\" ? from : to);\r\n\r\n  // ==== смена инпута при смене языка ==== //\r\n  useEffect(() => {\r\n    if (!value) return;\r\n    const res = stops.find(\r\n      (el) =>\r\n        el.name[\"RU\"] === value ||\r\n        el.name[\"EN\"] === value ||\r\n        el.name[\"PL\"] === value ||\r\n        el.name[\"UA\"] === value\r\n    );\r\n    if (res) {\r\n      setValue(res.name[`${lang}`]);\r\n      id === \"from\" ? changeInputFrom(value) : changeInputTo(value);\r\n    }\r\n  }, [lang, stops, value, changeInputFrom, changeInputTo, id]);\r\n\r\n  useEffect(() => {\r\n    id === \"from\" ? setValue(from) : setValue(to);\r\n  }, [id, from, to]);\r\n\r\n  const getFull = useCallback(\r\n    (obj, id) => {\r\n      if (!obj.parent.id) return;\r\n      const [result] = stops.filter((el) => el.id === id);\r\n      if (!result?.parent) {\r\n        return result.name[`${lang}`] || result.name[`EN`];\r\n      } else {\r\n        return (\r\n          (result.name[`${lang}`] || result.name[`EN`]) +\r\n          \"/\" +\r\n          getFull(result, result.parent.id)\r\n        );\r\n      }\r\n    },\r\n    [lang, stops]\r\n  );\r\n  const getOptions = useCallback(\r\n    (stops) => {\r\n      return stops.reduce((newArr, item) => {\r\n        if (item.type === \"LOCALITY\") {\r\n          newArr.push(\r\n            `${item.name[`${lang}`] || item.name[\"EN\"]} - ${getFull(\r\n              item,\r\n              item.parent.id\r\n            )} `\r\n          );\r\n        }\r\n        return newArr;\r\n      }, []);\r\n    },\r\n    [getFull, lang]\r\n  );\r\n\r\n  useEffect(() => {\r\n    setOptions(getOptions(stops, lang));\r\n  }, [getOptions, stops, lang]);\r\n\r\n  const handleChange = (value) => {\r\n    let val = value ? value.split(\" - \")[0] : null;\r\n    setValue(val);\r\n    id === \"from\" ? changeInputFrom(val) : changeInputTo(val);\r\n  };\r\n\r\n  const handleInputChange = ({ target }) => {\r\n    id === \"from\" ? changeInputFrom(target.value) : changeInputTo(target.value);\r\n  };\r\n  const locale = lang === \"UA\" ? \"UK\" : lang;\r\n\r\n  return (\r\n    <IntlProvider locale={locale} messages={messages[locale]}>\r\n      <div>\r\n        <StyledAutocomplete\r\n          id={id}\r\n          freeSolo\r\n          value={value}\r\n          filterOptions={filterOptions}\r\n          onChange={(event, value) => handleChange(value)}\r\n          options={options.map((opt) => opt)}\r\n          renderOption={(opt) => (\r\n            <div>\r\n              <span className=\"acMainOption\">{opt.split(\" - \")[0]}</span>\r\n              <span> - {opt.split(\" - \")[1]}</span>\r\n            </div>\r\n          )}\r\n          renderInput={(params) => (\r\n            <StyledTextField\r\n              {...params}\r\n              label={\r\n                id === \"from\" ? (\r\n                  <FormattedMessage id=\"from\" />\r\n                ) : (\r\n                  <FormattedMessage id=\"to\" />\r\n                )\r\n              }\r\n              onBlur={(event) => handleInputChange(event)}\r\n              margin=\"normal\"\r\n              variant=\"outlined\"\r\n              error={error}\r\n              helperText={error ? \"уточните параметры поиска\" : \"\"}\r\n            />\r\n          )}\r\n        />\r\n      </div>\r\n    </IntlProvider>\r\n  );\r\n};\r\n\r\nexport default AutocompleteComp;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n});\n\nfunction SvgAddBlack18Dp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"var(--color-secondary)\",\n    width: \"24px\",\n    height: \"24px\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAddBlack18Dp);\nexport default __webpack_public_path__ + \"static/media/add-black-18dp.aceff8ea.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13H5v-2h14v2z\"\n});\n\nfunction SvgRemoveBlack18Dp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"var(--color-secondary)\",\n    width: \"24px\",\n    height: \"24px\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRemoveBlack18Dp);\nexport default __webpack_public_path__ + \"static/media/remove-black-18dp.1befb1ac.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport {\r\n  decrementAmountPassangers,\r\n  incrementAmountPassangers,\r\n} from \"../../redux/searchForm/searchFormAction\";\r\nimport { messages } from \"../../intl/HomePageMessanges\";\r\nimport { ReactComponent as Plus } from \"../../images/add-black-18dp.svg\";\r\nimport { ReactComponent as Minus } from \"../../images/remove-black-18dp.svg\";\r\nimport styles from \"./AmountPassanger.module.css\";\r\n\r\nconst AmountPassanger = () => {\r\n  // ==== redux ==== //\r\n  const dispatch = useDispatch();\r\n  const amount = useSelector((state) => state.searchForm.amountPassanger);\r\n  const lang = useSelector((state) => state.language);\r\n\r\n  const locale = lang === \"UA\" ? \"UK\" : lang;\r\n\r\n  return (\r\n    <IntlProvider locale={locale} messages={messages[locale]}>\r\n      <div className={styles.amountBox}>\r\n        <p>\r\n          <FormattedMessage id=\"inputAmount\" />:{\" \"}\r\n        </p>\r\n        <div className={styles.flex}>\r\n          <button\r\n            type=\"button\"\r\n            className={styles.button}\r\n            name=\"decrement\"\r\n            disabled={amount <= 1}\r\n            onClick={() => dispatch(decrementAmountPassangers())}\r\n          >\r\n            {\" \"}\r\n            <Minus />{\" \"}\r\n          </button>\r\n          <span>{amount}</span>\r\n          <button\r\n            type=\"button\"\r\n            className={styles.button}\r\n            name=\"increment\"\r\n            disabled={amount >= 10}\r\n            onClick={() => dispatch(incrementAmountPassangers())}\r\n          >\r\n            <Plus />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </IntlProvider>\r\n  );\r\n};\r\n\r\nexport default AmountPassanger;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"rect\", {\n  fill: \"none\",\n  height: 24,\n  width: 24\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null), /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M22,8l-4-4v3H3v2h15v3L22,8z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M2,16l4,4v-3h15v-2H6v-3L2,16z\"\n})));\n\nfunction SvgSyncAltWhite36Dp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    enableBackground: \"new 0 0 24 24\",\n    viewBox: \"0 0 24 24\",\n    fill: \"var(--color-secondary)\",\n    width: \"36px\",\n    height: \"36px\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSyncAltWhite36Dp);\nexport default __webpack_public_path__ + \"static/media/sync_alt-white-36dp.c9deb1dc.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport ru from \"date-fns/locale/ru\";\r\nimport en from \"date-fns/locale/en-GB\";\r\nimport ua from \"date-fns/locale/uk\";\r\nimport pl from \"date-fns/locale/pl\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { format } from \"date-fns\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport { messages } from \"../../intl/HomePageMessanges\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport {\r\n  inputValueFrom,\r\n  inputValueTo,\r\n  inputValueDate,\r\n  setTime,\r\n} from \"../../redux/searchForm/searchFormAction\";\r\nimport { fetchTripsSuccess } from \"../../redux/trips/tripsActions\";\r\nimport { getError, startLoader } from \"../../redux/global/globalActions\";\r\nimport styles from \"./SearchForm.module.css\";\r\nimport AutocompleteComp from \"./Autocomplete\";\r\nimport AmountPassanger from \"./AmountPassanger\";\r\nimport { ReactComponent as Arrow } from \"../../images/sync_alt-white-36dp.svg\";\r\n\r\nclass SearchForm extends Component {\r\n  state = {\r\n    errorFrom: false,\r\n    errorTo: false,\r\n  };\r\n\r\n  // ====\r\n  componentDidUpdate(prevProps) {\r\n    const { from, to } = this.props;\r\n    if (prevProps.from !== from) {\r\n      if (from) {\r\n        this.setState({ errorFrom: false });\r\n      }\r\n    }\r\n    if (prevProps.to !== to) {\r\n      if (to) {\r\n        this.setState({ errorTo: false });\r\n      }\r\n    }\r\n  }\r\n\r\n  // ==== поменять отправку и прибытие местами ==== //\r\n  changeButton = () => {\r\n    const { changeInputFrom, changeInputTo, from, to } = this.props;\r\n    const fromInp = from;\r\n    const toInp = to;\r\n    changeInputFrom(toInp);\r\n    changeInputTo(fromInp);\r\n  };\r\n\r\n  // ==== данные для отображения календаря на языке пользователя ==== //\r\n  dateLocale = () => {\r\n    const { lang } = this.props;\r\n    if (lang === \"EN\") return en;\r\n    if (lang === \"RU\") return ru;\r\n    if (lang === \"UA\") return ua;\r\n    if (lang === \"PL\") return pl;\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const {\r\n      to,\r\n      from,\r\n      date,\r\n      amount,\r\n      history,\r\n      setTime,\r\n      getError,\r\n      startLoader,\r\n      fetchTripsSuccess,\r\n    } = this.props;\r\n\r\n    // ==== формируем данные для запроса ==== //\r\n    const fromId = this.getId(from, \"from\");\r\n    const toId = this.getId(to, \"to\");\r\n    const dateQuery = format(new Date(date), \"yyyy-MM-dd\");\r\n    // ==== проверяем есть ли введенные города в списке остановок ==== //\r\n    if (fromId && toId) {\r\n      // ==== запускаем лоадер, очищаем ошибки и данные предыдущего запроса ==== //\r\n      getError(\"\");\r\n      fetchTripsSuccess({});\r\n      startLoader();\r\n      setTime(new Date().getTime());\r\n      //  ==== переход на страницу поездок ==== //\r\n      history.push(\r\n        `/trips?from=${fromId}&to=${toId}&date=${dateQuery}&passengers=${amount}`\r\n      );\r\n    }\r\n  };\r\n\r\n  getId = (val, type) => {\r\n    const { lang, stops } = this.props;\r\n    const result = stops.find((item) =>\r\n      item.type === \"LOCALITY\"\r\n        ? (item.name[`${lang}`] || item.name[\"EN\"]).toLowerCase() ===\r\n          val.toLowerCase().trim()\r\n        : null\r\n    );\r\n    if (result) {\r\n      return result.id;\r\n    } else {\r\n      type === \"from\"\r\n        ? this.setState({ errorFrom: true })\r\n        : this.setState({ errorTo: true });\r\n      return;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { date, changeInputDate, lang } = this.props;\r\n    const locale = lang === \"UA\" ? \"UK\" : lang;\r\n    return (\r\n      <form onSubmit={this.handleSubmit} className={`${styles.form} `}>\r\n        <div className={styles.fromTo}>\r\n          <div className={styles.inputBox}>\r\n            <AutocompleteComp id=\"from\" error={this.state.errorFrom} />\r\n          </div>\r\n          <Arrow className={styles.arrow} onClick={this.changeButton} />\r\n          <div className={styles.inputBox}>\r\n            <AutocompleteComp id=\"to\" error={this.state.errorTo} />\r\n          </div>\r\n        </div>\r\n        <div className={styles.flex}>\r\n          <div className={styles.inputBox}>\r\n            <DatePicker\r\n              className={styles.datePicker}\r\n              dateFormat=\"dd MMMM yyyy\"\r\n              selected={date}\r\n              minDate={new Date()}\r\n              locale={this.dateLocale()}\r\n              onChange={(date) => changeInputDate(date)}\r\n            />\r\n          </div>\r\n          <div className={styles.inputBox}>\r\n            <AmountPassanger onClose={this.closeModal} />\r\n          </div>\r\n        </div>\r\n        <IntlProvider locale={locale} messages={messages[locale]}>\r\n          <Button\r\n            className={styles.searchBtn}\r\n            type=\"submit\"\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n          >\r\n            <FormattedMessage id=\"searchBtn\" />\r\n          </Button>\r\n        </IntlProvider>\r\n      </form>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n  lang: state.language,\r\n  from: state.searchForm.from,\r\n  to: state.searchForm.to,\r\n  date: state.searchForm.date,\r\n  amount: state.searchForm.amountPassanger,\r\n  stops: state.global.stops,\r\n});\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  changeInputFrom: (value) => dispatch(inputValueFrom(value)),\r\n  changeInputTo: (value) => dispatch(inputValueTo(value)),\r\n  changeInputDate: (date) => dispatch(inputValueDate(date)),\r\n  fetchTripsSuccess: (trips) => dispatch(fetchTripsSuccess(trips)),\r\n  getError: (err) => dispatch(getError(err)),\r\n  startLoader: () => dispatch(startLoader()),\r\n  setTime: (time) => dispatch(setTime(time)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchForm);\r\n","import React from \"react\";\r\nimport styles from \"./HomePage.module.css\";\r\nimport SearchForm from \"../components/SearchForm/SearchForm\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport { messages } from \"../intl/HomePageMessanges\";\r\nimport { Redirect, useHistory } from \"react-router-dom\";\r\n\r\nconst HomePage = () => {\r\n  const lang = useSelector((state) => state.language);\r\n  const error = useSelector((state) => state.global.error);\r\n  const history = useHistory();\r\n  const locale = lang === \"UA\" ? \"UK\" : lang;\r\n\r\n  return (\r\n    <>\r\n      {error && <Redirect to=\"/error\" />}\r\n      <IntlProvider locale={locale} messages={messages[locale]}>\r\n        <div className={styles.bgnd}>\r\n          <div className={styles.container}>\r\n            <h1 className={styles.title}>\r\n              <FormattedMessage id=\"title\" />\r\n            </h1>\r\n            <p className={styles.subtitle}>\r\n              <FormattedMessage id=\"subtitle\" />\r\n            </p>\r\n            <div className={styles.formContainer}>\r\n              <SearchForm history={history} />\r\n            </div>\r\n            <ul className={styles.iconsBox}>\r\n              <li className={`${styles.iconItem} ${styles.iconItem1}`}>\r\n                <p>\r\n                  <FormattedMessage id=\"iconItem1\" />\r\n                </p>\r\n              </li>\r\n              <li className={`${styles.iconItem} ${styles.iconItem2}`}>\r\n                <p>\r\n                  <FormattedMessage id=\"iconItem2\" />\r\n                </p>\r\n              </li>\r\n              <li className={`${styles.iconItem} ${styles.iconItem3}`}>\r\n                <p>\r\n                  <FormattedMessage id=\"iconItem3\" />\r\n                </p>\r\n              </li>\r\n              <li className={`${styles.iconItem} ${styles.iconItem4}`}>\r\n                <p>\r\n                  <FormattedMessage id=\"iconItem4\" />\r\n                </p>\r\n              </li>\r\n              <li className={`${styles.iconItem} ${styles.iconItem5}`}>\r\n                <p>\r\n                  <FormattedMessage id=\"iconItem5\" />\r\n                </p>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </IntlProvider>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n","import { Types } from \"../actionsTypes\";\r\n\r\nexport const fetchOrderInfo = (obj) => ({\r\n  type: Types.FETCH_ORDER_INFO,\r\n  payload: obj,\r\n});\r\n\r\nexport const fetchTicket = (ticket) => ({\r\n  type: Types.FETCH_TICKET,\r\n  payload: ticket,\r\n});","import { getError } from \"../global/globalActions\";\r\nimport { fetchTicket } from \"./orderActions\";\r\nimport { getTicketConfirm, getTicketInfo } from \"../../services/api\";\r\n\r\nexport const getTicket = (id) => (dispatch) => {\r\n  getTicketInfo(id)\r\n    .then(({ data }) => dispatch(fetchTicket(data)))\r\n    .catch((error) => dispatch(getError(error.message)));\r\n};\r\nexport const getConfirm = (id) => (dispatch) => {\r\n  getTicketConfirm(id)\r\n    .then(({ data }) => dispatch(fetchTicket(data)))\r\n    .catch((error) => dispatch(getError(error.message)));\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport CryptoJS from \"crypto-js\";\r\nimport { getConfirm, getTicket } from \"../redux/order/orderOperation\";\r\nimport { getTicketPrint } from \"../services/api\";\r\nimport styles from \"./MyTicketPage.module.css\";\r\nclass MyTicketPage extends Component {\r\n  state = {\r\n    status: \"NEW\",\r\n    id: \"\",\r\n    url: [],\r\n  };\r\n\r\n  //  ==== получаем информацию о билете ==== //\r\n  componentDidMount() {\r\n    // ==== получаем зашифрованый id === //\r\n    const encryptId = atob(this.props.match.params.id);\r\n    // ==== расшифровуем id ==== //\r\n    const id = CryptoJS.AES.decrypt(encryptId, \"KeyVezu\").toString(CryptoJS.enc.Utf8);\r\n    this.setState({ id: id });\r\n\r\n    //  ==== получаем информацию о билете === //\r\n    this.props.getTicket(id);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { id } = this.state;\r\n\r\n    if (prevProps.ticket !== this.props.ticket) {\r\n      if (this.props.ticket.services[0].status === \"NEW\") {\r\n        this.props.getConfirm(id);\r\n      }\r\n      if (this.props.ticket.services[0].status === \"CONFIRM\") {\r\n        this.setState({ status: \"CONFIRM\" });\r\n        // ==== получаем билеты для печати ==== //\r\n        getTicketPrint(id, this.props.lang)\r\n          .then(({ data }) => {\r\n            this.getURL(data.documents[0].base64);\r\n          })\r\n          .catch((err) => console.log(err));\r\n      }\r\n      if (\r\n        this.props.ticket.services[0].status !== \"CONFIRM\" &&\r\n        this.props.ticket.services[0].status !== \"NEW\"\r\n      ) {\r\n        this.setState({ status: \"ERROR\" });\r\n      }\r\n    }\r\n  }\r\n  // ==== получаем ссылку на билет ==== //\r\n  getURL = (data) => {\r\n    const byteCharacters = atob(data);\r\n    const byteNumbers = new Array(byteCharacters.length);\r\n    for (let i = 0; i < byteCharacters.length; i++) {\r\n      byteNumbers[i] = byteCharacters.charCodeAt(i);\r\n    }\r\n    const byteArray = new Uint8Array(byteNumbers);\r\n    const pdf = new Blob([byteArray], { type: \"application/pdf\" });\r\n    const base64 = window.URL.createObjectURL(pdf);\r\n    this.setState({ url: base64 });\r\n  };\r\n\r\n  render() {\r\n    const { status, id, url } = this.state;\r\n    return (\r\n      <div className=\"bgnd\">\r\n        \r\n        {status === \"CONFIRM\" && (\r\n          <div className=\"container\">\r\n            <h1 className={styles.title}>Оплата прошла Успешно!!!</h1>\r\n            <p className={styles.text}>Hомер вашего заказа</p>\r\n            <p className={styles.id}>{id}</p>\r\n            <a className={styles.link} href={url} target=\"_blank\" rel=\"noreferrer\">\r\n              Cкачать билет\r\n            </a>\r\n          </div>\r\n        )}\r\n        {status === \"ERROR\" && (\r\n          <>\r\n            <h1>При офрормлении билета произошла ошибка!!!</h1>\r\n            <p className={styles.text}>\r\n              Свяжитесь со службой поддержки по телефону:{\" \"}\r\n              <a href=\"tel: +1 111 111-11-11\">+1 111 111-11-11</a>\r\n            </p>\r\n            <p className={styles.text}>Hомер вашего заказа</p>\r\n            <p className={styles.id}>{id}</p>\r\n          </>\r\n        )}\r\n\r\n        {/* <pre>{JSON.stringify(this.props.data, null, 4)}</pre> */}\r\n        {/* <pre>{JSON.stringify(this.props.ticket, null, 4)}</pre> */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n  ticket: state.order.ticket,\r\n  lang: state.language,\r\n  price: state.order.order.priceId,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  getTicket: (id) => dispatch(getTicket(id)),\r\n  getConfirm: (id) => dispatch(getConfirm(id)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MyTicketPage);\r\n","export const messages = {\r\n  EN: {\r\n    title: \"Passenger data\",\r\n    departure: \"Departure\",\r\n    arrival: \"Arrival\",\r\n    buttonAdd: \"Add passenger\",\r\n    customer: \"Customer details*:\",\r\n    offer: \"I accept the terms \",\r\n    offerSpan: \"of the public offer\",\r\n    buy: \"To the payment\",\r\n    myData: \"I consent to the processing of \",\r\n    myDataSpan: \"personal data\",\r\n    requared: \"*All fields are required\",\r\n    numTel: \"** Indicate the current phone number for communication in case of flight changes\",\r\n    details: \"Order details\",\r\n    pay: \"Payable: \",\r\n  },\r\n  RU: {\r\n    title: \"Данные о пассажирах*:\",\r\n    departure: \"Отправление\",\r\n    arrival: \"Прибытие\",\r\n    buttonAdd: \"Добавить пассажира\",\r\n    customer: \"Данные о покупателе*:\",\r\n    offer: \"Я принимаю условия \",\r\n    offerSpan: \"публичной оферты\",\r\n    buy: \"Перейти к оплате\",\r\n    myData: \"Я даю согласие на обработку \",\r\n    myDataSpan: \"персональных данных\",\r\n    requared: \"*Все поля обязательны к заполнению\",\r\n    numTel: \"**Укажите актуальный номер телефона для связи в случае изменений рейса\",\r\n    details: \"Детали заказа\",\r\n    pay: \"К оплате: \",\r\n  },\r\n  UK: {\r\n    title: \"Відомості про пасажирів*:\",\r\n    departure: \"Відправлення\",\r\n    arrival: \"Прибуття\",\r\n    buttonAdd: \"Додати пасажира\",\r\n    customer: \"Відомості про покупця *:\",\r\n    offer: \"Я приймаю умови \",\r\n    offerSpan: \"публічної оферти\",\r\n    buy: \"Перейти до оплати\",\r\n    myData: \"Я даю згоду на обробку \",\r\n    myDataSpan: \"персональних даних\",\r\n    requared: \"*Всі поля обов'язкові до заповнення\",\r\n    numTel: \"**Вкажіть актуальний номер телефону для зв'язку в разі змін рейсу\",\r\n    details: \"Деталі замовлення\",\r\n    pay: \"До сплати: \",\r\n  },\r\n  PL: {\r\n    title: \"Dane pasażera*:\",\r\n    departure: \"Wyjazd\",\r\n    arrival: \"Przyjazd\",\r\n    buttonAdd: \"Dodaj pasażera\",\r\n    customer: \"Dane kupującego *:\",\r\n    offer: \"Akceptuję warunki \",\r\n    offerSpan: \"oferty publicznej\",\r\n    buy: \"Przejdź do płatności\",\r\n    myData: \"Wyrażam zgodę na przetwarzanie \",\r\n    myDataSpan: \"danych osobowych\",\r\n    requared: \"*Wszystkie pola są wymagane\",\r\n    numTel: \"**Podaj aktualny numer telefonu do komunikacji w przypadku zmiany lotu\",\r\n    details: \"Szczegóły zamówienia\",\r\n    pay: \"Do zapłaty: \",\r\n  },\r\n};\r\n","export const getLang = (lang) => {\r\n  let lng;\r\n  switch (lang) {\r\n    case \"RU\":\r\n      lng = \"ru\";\r\n      break;\r\n    case \"UA\":\r\n      lng = \"uk\";\r\n      break;\r\n    case \"EN\":\r\n      lng = \"en\";\r\n      break;\r\n    case \"PL\":\r\n      lng = \"pl\";\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  return lng;\r\n};\r\n// ==== получаем наcелённый пункт отправки/прибытия ==== //\r\nexport const getLocality = (id, stops, lang) => {\r\n  const result = stops.find((el) => el.id === id);\r\n  return result ? result.name[`${lang}`] || result.name[`EN`] : null;\r\n};\r\n\r\n// ==== получаем остановку отправки/прибытия === //\r\nexport const getStop = (key, trips, lang) =>\r\n  Object.keys(trips).length > 0 ? trips.localities[`${key}`].name[`${lang}`] : null;\r\n\r\n// ==== получаем промежуточную остановку ==== //\r\nexport const getAllLocalities = (key, trips, lang) => {\r\n  return Object.keys(trips).length > 0\r\n    ? trips.localities[`${key}`].name[`${lang}`] || trips.localities[`${key}`].name[`RU`]\r\n    : null;\r\n};\r\n\r\n// ==== получаем дату отправки/прибытия ==== //\r\nexport const getDate = (key, trip, lang) => {\r\n  return new Date(trip[`${key}`]).toLocaleString(getLang(lang), {\r\n    day: \"2-digit\",\r\n    month: \"short\",\r\n    year: \"2-digit\",\r\n  });\r\n};\r\n\r\n// ==== получаем время отправки/прибытия ==== //\r\nexport const getTime = (key, trip, lang) => {\r\n  return new Date(trip[`${key}`]).toLocaleString(getLang(lang), {\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n  });\r\n};\r\n\r\n// ==== получаем время в дороге маршрута ==== //\r\nexport const getTimeInWay = (trip, lang) => {\r\n  let h, m;\r\n  switch (lang) {\r\n    case \"RU\":\r\n      h = \"ч\";\r\n      m = \"мин\";\r\n      break;\r\n    case \"UA\":\r\n      h = \"г\";\r\n      m = \"хв\";\r\n      break;\r\n    case \"EN\":\r\n      h = \"h\";\r\n      m = \"min\";\r\n      break;\r\n    case \"PL\":\r\n      h = \"g\";\r\n      m = \"min\";\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  return `${+trip.timeInWay.split(\":\")[0]}${h} ${trip.timeInWay.split(\":\")[1]}${m}`;\r\n};\r\nexport const getYesterday = ({ date }, lang) => {\r\n  return new Date(new Date(date).getTime() - 24 * 60 * 60 * 1000).toLocaleString(\r\n    getLang(lang),\r\n    {\r\n      day: \"2-digit\",\r\n      month: \"long\",\r\n      year: \"2-digit\",\r\n    }\r\n  );\r\n};\r\nexport const getTomorrow = ({ date }, lang) => {\r\n  return new Date(new Date(date).getTime() + 24 * 60 * 60 * 1000).toLocaleString(\r\n    getLang(lang),\r\n    {\r\n      day: \"2-digit\",\r\n      month: \"long\",\r\n      year: \"2-digit\",\r\n    }\r\n  );\r\n};\r\nexport const getTodayDate = ({ date }, lang) => {\r\n  return new Date(date).toLocaleString(getLang(lang), {\r\n    day: \"2-digit\",\r\n    month: \"long\",\r\n    year: \"2-digit\",\r\n  });\r\n};\r\n\r\nexport const getExpireTime = (date, lang) => {\r\n  return new Date(date).toLocaleString(getLang(lang), {\r\n    day: \"2-digit\",\r\n    month: \"long\",\r\n    year: \"2-digit\",\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n  });\r\n};\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport styles from \"./OrderInfo.module.css\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport { messages } from \"../../intl/OrderPageMessanges\";\r\nimport { getLocality, getStop } from \"../../services/getInfo\";\r\n\r\nconst OrderInfo = ({ total }) => {\r\n  const lang = useSelector((state) => state.language);\r\n  const trips = useSelector((state) => state.trips.trips);\r\n  const to = useSelector((state) => state.order.order.to);\r\n  const stops = useSelector((state) => state.global.stops);\r\n  const from = useSelector((state) => state.order.order.from);\r\n  const price = useSelector((state) => state.order.order.price);\r\n  const toStop = useSelector((state) => state.order.order.toStop);\r\n  const fromStop = useSelector((state) => state.order.order.fromStop);\r\n  const arrivalDate = useSelector((state) => state.order.order.arrivalDate);\r\n  const departureDate = useSelector((state) => state.order.order.departureDate);\r\n  const locale = lang === \"UA\" ? \"UK\" : lang;\r\n  \r\n  const getTotalPrice = () => {\r\n    return (total * price).toFixed(2);\r\n  };\r\n  return (\r\n    <IntlProvider locale={locale} messages={messages[locale]}>\r\n      <div>\r\n        <h3 className={styles.title}>\r\n          <FormattedMessage id=\"details\" />\r\n        </h3>\r\n        <div className={styles.orderBox}>\r\n          <h4 className={styles.subTitle}>\r\n            <FormattedMessage id=\"departure\" />\r\n          </h4>\r\n          <p className={styles.locality}>{getLocality(from, stops, lang)}</p>\r\n          <p className={styles.localityStop}>{getStop(fromStop, trips, lang)}</p>\r\n          <p className={styles.date}>{departureDate}</p>\r\n          <h4 className={styles.subTitle}>\r\n            <FormattedMessage id=\"arrival\" />\r\n          </h4>\r\n          <p className={styles.locality}>{getLocality(to, stops, lang)}</p>\r\n          <p className={styles.localityStop}>{getStop(toStop, trips, lang)}</p>\r\n          <p className={styles.date}>{arrivalDate}</p>\r\n          <p className={styles.total}>\r\n            <FormattedMessage id=\"pay\" />\r\n            {getTotalPrice()} грн\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </IntlProvider>\r\n  );\r\n};\r\n\r\nexport default OrderInfo;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"\n});\n\nfunction SvgPerson24Px(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: 36,\n    viewBox: \"0 0 24 24\",\n    width: 36,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPerson24Px);\nexport default __webpack_public_path__ + \"static/media/person-24px.65cae4d9.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\r\nimport styles from './PublickOffer.module.css'\r\n\r\nconst PublickOffer = () => {\r\n  return (\r\n    <div className={styles.box}>\r\n      <p className={styles.text}>\r\n        Будь ласка, уважно прочитайте Договір публічної оферти, правила і умови\r\n        використання сайту та правила конфіденційності, перед тим, як користуватися\r\n        послугами сайту busfor.ua. Якщо Ви не згодні з Договором публічної оферти,\r\n        правилами та умовами, будь ласка, не використовуйте сайт busfor.ua. Зауважте, що\r\n        Договір публічної оферти, правила і умови можуть змінюватися без попередження.\r\n        Зміни в Договорі публічної оферти, правилах і умовах набирають чинності з моменту\r\n        їх публікації на сайті busfor.ua. Здійснення вами оплати є свідченням вашого\r\n        безумовного акцепту договору публічної оферти та погодження з правилами й умовами,\r\n        визначеними власником сайту busfor.ua. Текст від 24 травня 2018 року. ДОГОВІР\r\n        ПУБЛІЧНОЇ ОФЕРТИ Товариство з обмеженою відповідальністю «І-Тревелс» (далі\r\n        Busfor), ЄДРПОУ 35389109, адреса: 03056, Україна, Київ, вулиця Польова 21,\r\n        керуючись ст. 633. Цивільного кодексу України, пропонує необмеженому колу осіб\r\n        (далі Користувач) укласти Договір публічної оферти (далі Договір), з метою пошуку\r\n        та/або придбання квитків за допомогою сайту busfor.ua, та/або додаткових сервісів\r\n        Busfor. Користувач може діяти в межах Договору від свого імені та на свою користь\r\n        та/або від імені третьої сторони та на її користь, у такому випадку Користувач діє\r\n        виключно в межах повноважень наданих третьою стороною. Busfor є інтегрованим\r\n        дистриб'ютором послуг перевезення, що поставляються перевізниками, автостанціями,\r\n        консолідаторами ресурсів перевізника та третіми особами, далі званими\r\n        «Постачальник». Квиток (у тому числі і електронний квиток) - проїзний документ\r\n        встановленої форми, який дає право пасажиру на одержання транспортних послуг\r\n        автобусного перевезення, створений в автоматизованій системі Busfor, надсилається\r\n        на електронну адресу вказану при замовленні або іншим чином видається Користувачу.\r\n        Номер квитка є номером договору публічної оферти і номером договору пасажирського\r\n        перевезення. Користувач і Busfor обізнані із загальними вимогами укладання\r\n        Договорів, додержання яких є необхідним для чинності правочину, володіючи повним\r\n        обсягом цивільної дієздатності та цивільної правоздатності, мають відповідні\r\n        повноваження на укладання такого правочину, повністю усвідомлюючи значення своїх\r\n        дій та згідно з вільним волевиявленням, яке відповідає внутрішній волі учасників\r\n        цього правочину, маючи на меті реальне настання правових наслідків, розуміючи\r\n        правову природу цього правочину, а також свої права та обов’язки за Договором, у\r\n        відповідності до чинного законодавства уклали цей Договір про нижчевикладене:\r\n        ПРЕДМЕТ ДОГОВОРУ. За Договором, Busfor надає послуги з пошуку відповідного\r\n        Постачальника, у відповідності до дати, часу та напрямку обраного Користувачем,\r\n        формування стиковок різних Постачальників, укладення договору перевезення (шляхом\r\n        продажу/придбання Квитка), оформлення квитків різних Постачальників одним\r\n        замовленням, попереднього продажу квитків, бронювання місць, замовлення квитка по\r\n        телефону, переоформлення квитка, пошук оптимального розкладу за запитом\r\n        Користувача, сервісне обслуговування користувача, у тому числі і цілодобову\r\n        підтримку Користувача Центром сервісного обслуговування, додаткові послуги за\r\n        запитами Користувача, а також попередньої оплати Квитка коштами отриманими від\r\n        Користувача (далі Послуги). За Послуги, що надаються, Busfor отримує винагороду,\r\n        що складається із суми коштів, що входять до вартості Квитка та визначені, як\r\n        Агентська винагорода (оплачується Постачальником) та Сервісний збір (оплачується\r\n        Користувачем). Busfor, діючи як агент, від імені, за рахунок в інтересах\r\n        Постачальника, за допомогою сайту, продає автобусне пасажирське перевезення (далі\r\n        Квиток), спеціальні пропозиції, знижки та надає інформацію Постачальника. Кожне\r\n        придбання Квитка окремо взятого Постачальника, підпорядковується правилам та\r\n        умовам саме цього Постачальника і є невід’ємною частиною Договору. У випадку\r\n        придбання декількох Квитків одним замовленням, правила і умови одного чи іншого\r\n        Постачальника можуть відрізнятись. Недотримання правил і умов Постачальника та/або\r\n        Busfor може призвести до скасування замовлень і відмову у доступі до Сайту та/або\r\n        придбаних послуг, у тому і числі і можливістю скористатись Квитком, без повернення\r\n        витрачених на його придання коштів. Придбання Квитка Користувачем на пільгових\r\n        умовах (безкоштовне перевезення і т.п.) відповідно до законодавства України,\r\n        здійснюється виключно в касі/офісі відповідного Постачальника, або за дозволом\r\n        відповідного Постачальника. ПРАВА І ОБОВ’ЯЗКИ СТОРІН. Користувач має право:\r\n        Отримати послуги за Договором; Скористатись Квитком, у відповідності до обраної\r\n        дати, часу, місця відправлення та обраного Постачальника; Повернути Квиток, на\r\n        умовах визначених Постачальником та/або Busfor; Вимагати компенсації завданих\r\n        збитків, що виникає з умов Договору, шляхом направлення відповідного звернення на\r\n        адресу Busfor. У випадку завдання моральної шкоди Користувачу, діями або\r\n        бездіяльністю Busfor, сума відшкодування, при її доведенні та обґрунтуванні не\r\n        може перевищувати суму більшу чим вартість Квитка. ЗАУВАЖТЕ, що деякі\r\n        Постачальники, зобов’язують здійснити обмін та/або повернення квитка виключно у\r\n        касі автостанції без можливості повернення коштів, через сайт або в офісі партнера\r\n        Busfor, де проводилась оплата. Умови такого обміну та/або повернення наведені у\r\n        Квитку. Користувач зобов’язаний: Здійснити попередню оплату Квитка, у 100 %\r\n        вартості вказаній на сайті; Перевірити дату, час, місто/місце відправлення,\r\n        місто/місце прибуття одразу після придбання Квитка; Завчасно прибути до місця\r\n        відправлення; Повідомити Busfor про неможливість використання Квитка з тієї чи\r\n        іншої причини; Ознайомитись з умовами повернення Квитка; Зв’язатись з Busfor до\r\n        моменту оплати Квитка, у випадку відсутності, умов повернення придбаного Квитка\r\n        обраного Постачальника на Сайті. Купуючи Квиток на двох або більше Постачальників\r\n        або до пункту здійснення пересадки, за допомогою Сайту, Користувач зобов’язаний\r\n        самостійно визначити достатню кількість часу для здійснення пересадки, у тому\r\n        числі якщо така посадка запропонована на Сайті. Рекомендована кількість годин\r\n        очікування в пункті пересадки становить, для внутрішньо державних рейсів 4 години,\r\n        для міждержавних 8 годин від моменту прибуття за розкладом. ЗАУВАЖТЕ, що\r\n        Користувач зобов’язаний ознайомитись з правилами і умовами обраного Постачальника\r\n        до придбання квитка обраного Постачальника, тим самим надає згоду виконувати і\r\n        діяти відповідно до правил та умов Постачальника. Деякі Постачальники надають\r\n        можливість визначити умови повернення певного квитка тільки після його придбання.\r\n        Виходячи з такої специфіки Користувач погоджується, з тим що утримання при\r\n        поверненні такого квитка, може дорівнювати 100% вартості квитка, навіть при умові\r\n        оформлення повернення квитка через 15 хвилин після його оплати. Busfor має право:\r\n        Діяти від імені Постачальника, в межах повноважень визначених договірними\r\n        відносинами; Укласти договір перевезення між Користувачем та Постачальником, на\r\n        умовах та в спосіб визначений Постачальником; Встановити та отримати додаткову\r\n        винагороду з Користувача, за додатково надані сервіси та/або послуги. Busfor має\r\n        право записувати телефонні розмови з Користувачем та/або Пасажиром, у випадку\r\n        звернення до сервісного центру та/або у випадку обслуговування\r\n        Користувача/Пасажира та/або необхідності повідомити Користувача/Пасажира та/або\r\n        отримати додаткові відомості у відношенню будь якого Квитка, здійсненого за\r\n        допомогою сервісу Busfor та/або Сайту. Busfor зобов’язаний: Вчасно повідомити\r\n        Постачальника про придбаний Квиток, і додаткові послуги оплачені Користувачем;\r\n        Надіслати Користувачу Квиток відповідно до форми встановленої і прийнятої\r\n        Постачальником; Переказати кошти отримані від Користувача, в якості оплати Квитка,\r\n        на розрахунковий рахунок Постачальника; Повідомити Користувача, про зміни в умовах\r\n        надання послуг (за умови повідомлення про такі зміни Постачальником); Повідомити\r\n        Користувача, про зміну або скасування рейсу (у випадку надходження такої\r\n        інформації від Постачальника); Прийняти звернення від Користувача, розглянути його\r\n        самостійно або направити для розгляду відповідному Постачальнику; Своєчасно\r\n        повідомити Користувача про розгляд звернення, а у випадку надсилання звернення\r\n        Постачальнику про результати його розгляду (у випадку надходження такої відповіді\r\n        на адресу Busfor). ЗАУВАЖТЕ, Busfor, надає відповідь на звернення, способом\r\n        аналогічним до його надходження. Надсилання відповіді третій стороні (у тому числі\r\n        і за проханням Користувача) здійснюватися не буде. ВЗАЄМОРОЗРАХУНКИ. Кошти\r\n        отримані від Користувача, в рахунок придбання Квитка належать Постачальнику (за\r\n        виключенням Сервісного збору Busfor (у випадку, якщо такий входив до вартості\r\n        Квитка). Busfor проводить розрахунок за придбаний Користувачем Квиток на у мовах і\r\n        в строки визначені Постачальником. Користувач одноосібно відповідальний за всі\r\n        комісійні витрати та інші визначені банком витрати, які можуть бути додані до ціни\r\n        Квитка або додаткових послуг, емітентом кредитної або дебетної картки, крім\r\n        випадків, в яких витрати приписані до відповідальності Busfor. Банківські послуги,\r\n        пов’язані з переказом коштів в межах Договору, оплачуються Стороною, яка їх\r\n        здійснює. ІДЕНТИФІКАЦІЯ КОРИСТУВАЧА. У якості ідентифікатора Користувача\r\n        використовується e-mail адреса та/або номер телефону, що вказується при придбанні\r\n        Квитка. Зверненням з номера телефона/e-mail адреси залишеної при придбанні Квитка,\r\n        дозволяє Busfor ідентифікувати Користувача, як належну Сторону Договору з\r\n        відповідними правами та обов’язками, і дозволяє здійснювати дії по відношенню, як\r\n        до Договору загалом, так і до конкретно придбаного Квитка. Звернення Користувача з\r\n        іншого номера телефона та/або e-mail адреси наданого при придбанні Квитка, дає\r\n        право Busfor вимагати від Користувача додатково ідентифікувати себе, як належну\r\n        сторону Договору. У випадку неможливості ідентифікувати Користувача, як сторону\r\n        Договору Busfor залишає за собою право відмовити у розгляді звернення.\r\n        Відповідальність за збереження та/або доступ до номера телефона та/або e-mail\r\n        адреси покладається на Користувача. УМОВИ ПОВЕРНЕННЯ КВИТКА. Примусове повернення\r\n        коштів за Квиток: У випадку повідомлення Постачальником про скасування рейсу, з\r\n        тієї чи іншої причини, Busfor здійснює повернення Коштів отриманих в якості оплати\r\n        Квитка, шляхом яким вони надійшли у 100% розмірі до вартості Квитка, або за\r\n        наявності, пропонує придбати інший Квиток на рейс того самого або іншого\r\n        Постачальника. ЗАУВАЖТЕ, вартість Квитка на рейс іншого постачальника може\r\n        відрізнятись. Добровільне повернення: У разі оформлення повернення Квитка, за\r\n        власної ініціативи Користувача, Busfor повертає кошти користувачу керуючись даними\r\n        автоматизованих розрахунків повернення грошових коштів наданих Постачальником;\r\n        Умови повернення Квитка кожного Постачальника відрізняється у відповідності до\r\n        внутрішніх правил; Агентська винагорода та Сервісний збір Busfor, у випадку\r\n        добровільного повернення Квитка, поверненню не підлягає; Квиток придбаний\r\n        Користувачем за акційними та/або зниженими тарифами, у тому числі і при\r\n        використанні коду, що надає право на знижку, повертаються на умовах 100 %\r\n        утримання від вартості Квитка. Кошти або частина Коштів, при умові вирахування\r\n        обов’язкових утримань, при поверненні Квитка безпосередньо через Сайт,\r\n        перераховуються на Користувачу протягом 10 днів після відправлення останнього\r\n        рейсу з замовлення та/або прийнятого Постачальником та/або Busfor рішення, щодо\r\n        повернення Користувачу коштів, шляхом аналогічним надходженню коштів. У випадку\r\n        незгоди Користувача, з сумою що повернута або підлягає поверненню, рішення щодо\r\n        суми такого повернення, приймає виключно Постачальник. ЗАУВАЖТЕ, що Постанова\r\n        Кабінету Міністрів України № 176 від 18 лютого 1997 р. «Про затвердження правил\r\n        надання послуг пасажирського автомобільного транспорту», регулює питання\r\n        повернення Квитка виключно у касу Автостанції, а також не охоплює поняття\r\n        Постачальник, у відповідності до умов Договору. Процедура повернення квитка:\r\n        Користувач, подає запит на повернення виключно через особистий кабінет на Сайті,\r\n        детально описуючи ситуацію або надаючи супровідну інформацію (докази) при подачі\r\n        запиту на повернення через особистий кабінет. Шляхи оформлення/подання запиту на\r\n        повернення Квитка Користувачем: - варіант А. Користувач авторизується на Сайті за\r\n        допомогою номеру телефону, який вказував при замовленні; - варіант Б. Користувач\r\n        Переходить за посиланням на повернення яке надається разом з Квитком, отриманим на\r\n        email (вказаний при замовленні) відразу після оплати замовлення; ЗАУВАЖТЕ, у\r\n        випадку коли користувач немає можливості скористатися одним з варіантів звернення\r\n        передбачених п.5, тим самим надати Busfor можливість ідентифікувати себе, як\r\n        належного користувача, Busfor залишає за собою право відмовити в розгляді такого\r\n        звернення в цілях безпеки наших Користувачів/Пасажирів. У випадку якщо звернення\r\n        Користувача полягає не тільки в поверненні коштів за замовлення, то це\r\n        розцінюється, як претензія і подається клієнтом в офіційній формі згідно закону\r\n        України \"Про звернення громадян\". КОМПЕНСАЦІЇ. У виключних ситуаціях Busfor, має\r\n        право повернути повну вартість або частину вартості Квитка Користувачу, без\r\n        погодження суми повернення з Постачальником. Таке повернення здійснюється за\r\n        рахунок власних коштів Busfor. Busfor, не компенсує вартість або частину вартості\r\n        Квитка придбаного Користувачем, з метою дістатись до пункту пересадки або\r\n        кінцевого пункту, придбаному, як на Сайті на іншому веб-сайті. УМОВИ НАДАННЯ\r\n        ІНФОРМАЦІЇ. Для здійснення оформлення та придбання Квитка на Сайті необхідно\r\n        надати певну інформацію, а саме: Ім’я і Прізвище пасажира (номер документу за яким\r\n        його можна ідентифікувати (встановлюється опційно Постачальником)), діючу е-mail\r\n        адресу та номер телефону. Також при покупці необхідно вказати платіжну інформацію,\r\n        пов'язану з банківськими картками - тобто їх номери і терміни дії. Вводити дану\r\n        інформацію необхідно при кожній покупці на захищеному сервісі обраної платіжної\r\n        системи. ГАРАНТІЇ СТОРІН. Здійснюючи покупку через Сайт Користувач підтверджує,\r\n        свою дієздатність та дає згоду на обробку своїх персональних даних. Користувач\r\n        погоджуєтеся сплатити ціну Квитка і відповідні податки для всіх зроблених покупок,\r\n        оплачених кредитними або дебітними картками або іншим дозволеним методом оплати.\r\n        Користувач погоджується сплатити всі визначені Busfor кошти у разі якщо платіж не\r\n        здійснено, повернуто або відхиллено банком Корисувача. Busfor, здійснюючи продаж\r\n        Квитка за допомогою Сайту, підтверджує наявне у нього право на продаж даного\r\n        Квитка, у відповідності до умов і обов’язків, визначених Постачальником. Busfor\r\n        зберігає за собою право на свій розсуд блокувати кредитні та дебетні картки за\r\n        підозрілу активність. КОНФІДЕНЦІЙНА ІНФОРМАЦІЯ. Користувач підтверджує згоду з\r\n        тим, що несе особисту відповідальність за надану для збереження конфіденційної\r\n        інформації. Busfor не несе відповідальності за будь-які збитки, завдані внаслідок\r\n        несанкціонованого використання конфіденційної інформації залишеної Користувачем.\r\n        Вся особиста інформація, отримана Busfor в результаті здійснення замовлень через\r\n        Сайт зберігається згідно з правилами та положеннями про конфіденційність, які є\r\n        невід'ємною частиною Договору. Busfor залишає за собою право використовувати та\r\n        розкривати інформацію про Користувача або про замовлення здійсненні Користувачем,\r\n        на умовах дотримання Конфіденційності. З метою захисту ділових інтересів, Busfor\r\n        надає відповідь на письмовий запит «Про надання інформації про Постачальника», що\r\n        надійшов на нашу адресу з обов’язковим попередженням та отриманням дозволу Сторони\r\n        по відношенні до якої здійснюється запит, у тому числі і за запитами відповідних\r\n        державних чи інших органів уповноважених законом на отримання такої інформації.\r\n        Busfor зберігає за собою право змінювати правила Конфіденційності в будь-який час,\r\n        виключно в сторону покращення, з подальшим розширенням умов збереження\r\n        конфіденційної інформації. ЗГОДА НА ОБРОБКУ ПЕРСОНАЛЬНИХ ДАНИХ. Користувач надає\r\n        згоду та підтверджує, що дані вказані ним при приданні Квитка правдиві, і\r\n        Користувач має право вказати їх при купівлі Квитка та залишити для подальшої\r\n        обробки та збереження, у тому числі, але не обмежуючись, для: передачі їх третій\r\n        стороні, яка тим чи іншим чином пов’язана з цим Договором, або з метою його\r\n        повного виконання; додаткового інформування Користувача, про статус виконання\r\n        рейсу, зміни в його умовах; подальшої обробки замовлень Користувача; отриманні\r\n        сервісних повідомлень, у тому числі щодо акцій, бонусних програм і знижок, що\r\n        проводяться Busfor. АВТОРСЬКІ ТА МАЙНОВІ ПРАВА, ТОВАРНІ ЗНАКИ. Всі матеріали на\r\n        Сайті включаючи, але не обмежуючись назвами, логотипами, торговими знаками,\r\n        знаками обслуговування, торговими іменами, фотографіями, текстами, колонками,\r\n        малюнками, кліпами і іншими елементами змісту сайту (далі згадується, як «Зміст»)\r\n        захищені авторськими правами та правами інтелектуальної власності. Зміст\r\n        контролюється і належить Busfor, а також третім особам, які дали дозвіл на\r\n        розміщення Змісту або забезпечили Busfor матеріалами у інший спосіб. Зміст\r\n        охороняється законами, включаючи міжнародні угоди та інші закони щодо захисту\r\n        інтелектуальних прав. Сайт зареєстрований, як спільна робота, згідно з чинними\r\n        законами з авторського права, координація, розташування і оновлення Змісту\r\n        захищені авторським правом. Користувачу слід виходити з того, що весь Зміст Сайту\r\n        захищено авторським правом, якщо інше не обумовлено, і користувач на може\r\n        використовувати Сайт у спосіб, відмінний від зазначеного в Договорі та Правилах,\r\n        або без отримання на те згоди Busfor. Busfor не дає гарантій і запевнень в тому,\r\n        що використання Користувачем матеріалів, представлених на Сайті не складе\r\n        порушення прав третіх сторін. Всі товари, послуги, програми та технології, опис\r\n        яких наведено на Сайті можуть бути об'єктом інших прав власності (включаючи, але\r\n        не обмежуючись, авторські права, права на торговельні знаки і патентні права), що\r\n        належать Busfor. Busfor залишає за собою право докладно не обумовлювати їх в\r\n        даному Договорі. Користувач визнає і погоджуєтеся, що не одержує жодних прав\r\n        інтелектуальної власності, коли користуєтеся, завантажує або роздруковує захищений\r\n        авторськими правами матеріал. Будь-яка спроба несанкціонованого порушення права\r\n        Busfor у зв'язку із Змістом сайту, як і будь-яка спроба нашкодити системі безпеки\r\n        сайту, або використовувати Зміст сайту в цілях, не передбачених правовласником є\r\n        порушенням законодавства про авторські права, товарні знаки, нормативних актів про\r\n        конфіденційну і відкриту інформацію, а також інших правових норм і положень.\r\n        Будь-які продукти, послуги, програми та технології, які описуються в будь-якому\r\n        документі, розміщеному цьому сайті, можуть служити предметом інших прав\r\n        інтелектуальної власності, що належать Busfor. Жоден елемент змісту Сайту не\r\n        повинен розумітися, як надання ліцензії або права, в порядку презумпції,\r\n        позбавлення права, заперечення або інше, у тому числі, але не обмежуючись, права\r\n        на використання яких-небудь товарних знаків, показаних на Сайті, без виданого в\r\n        письмовій формі дозволу Busfor або третьої сторони, яка є власником зазначених\r\n        товарних знаків. Неналежне використання будь-яких товарних знаків або будь-якого\r\n        іншого матеріалу, розміщеного на Сайті не допускається. ВІДПОВІДАЛЬНІСТЬ СТОРІН. У\r\n        разі невиконання або неналежного виконання однією із Сторін зобов’язань за\r\n        Договором, винна Сторона зобов’язана відшкодувати протилежній Стороні заподіяні і\r\n        доведені такими діями збитки. Користувач особисто несе відповідальність за\r\n        дотримання умов і правил обраного Постачальника та Договору і правил використання\r\n        Сайту. Користувач несе одноосібну відповідальність, у зв'язку з не здатністю\r\n        надати достовірну інформацію, у тому числі і про особу від імені якої він діє в\r\n        межах даного Договору, включно, але не обмежуючись, за неможливість використання\r\n        персональної інформації на Сайті, без будь-яких виключень, у тому числі, але не\r\n        обмежуючись і у випадку відсутності у Користувача достовірної персональної\r\n        інформації. Користувач згоден відшкодовувати збитки завдані Busfor, а випадку\r\n        необхідності, захищати інтереси Busfor (у тому числі, але не обмежуючись\r\n        засновників, дочірні підприємства, пов'язані компанії, кожного з працівників,\r\n        директорів, співробітників, агентів, підрядників і представників від будь-яких\r\n        претензій, збитків, витрат і зобов'язань (включаючи відповідні витрати на юридичну\r\n        допомогу)), пов’язаних із виконанням умов цього Договору. ЗАУВАЖТЕ, даний Договір\r\n        регулює виключно умови придбання обраного Користувачем Квитка, який в свою чергу є\r\n        свідченням укладення договору Перевезення. ЗВІЛЬНЕННЯ ВІД ВІДПОВІДАЛЬНОСТІ СТОРІН.\r\n        Сторона звільняється від відповідальності за порушення умов Договору, якщо вона\r\n        доведе, що це порушення сталося внаслідок дії або бездіяльності третьої сторони.\r\n        Користувач розуміє і погоджуєтесь з тим, що Busfor не несе жодної відповідальності\r\n        за будь-які прямі, непрямі, побічні та штрафні збитки; а також за незручності\r\n        пов’язанні з виконанням перевезення (у тому числі, але не обмежуючись, затримки\r\n        рейсів, скасування рейсів, пропущені стикування рейсів) або інші можливі проблеми,\r\n        що мали місце у зв'язку з Вашим відвідуванням або використанням Сайту. Busfor не\r\n        несе відповідальність за помилки або неточності в умовах і цінах з продажу\r\n        автобусних Квитків та інших товарів і послуг, якщо такі надані Постачальником.\r\n        Busfor не несе відповідальності за втрати і збитки, понесені Користувачем в\r\n        процесі поїздок в різні точки світу. Користувач погоджується з тим, що отримуєте\r\n        доступ до товарів і послуг, і інформації про автобусні перевезення, доступні на\r\n        Сайті під свою відповідальність. Busfor не несе відповідальність за дії,\r\n        недбалість, помилки представників і гарантії будь-якого Постачальника, та/або\r\n        будь-які травми, смерть, шкоду майну або інший збиток або витрати, отримані в\r\n        результаті використання або доступу до послуг та/або товарів Постачальника. Busfor\r\n        не несе відповідальності за незручності і втрати, отримані користувачем в\r\n        результаті ненадання достовірної інформації при використанні Сайту, якщо така\r\n        інформація надана Постачальником. Busfor не несе відповідальності за збитки та/або\r\n        втрату квитка на той чи інший вид транспорту, за збитки отримані Користувачем в\r\n        результаті запізнення автобусу до пункту де Користувач мав здійснити пересадку, у\r\n        тому числі придбаним одним замовленням через Сайт. ПРЕТЕНЗІЇ І ПІДСУДНІСТЬ.\r\n        Претензійний порядок розгляду звернень не є обов’язковим. При порушення умов\r\n        Договору однією із Сторін протилежна Сторона має право звернутись до суду. Місце\r\n        знаходження суду обирається у відповідності до чинного законодавства України.\r\n        Спори з приводу Договору, Правил і Умов що є його частиною повинні вирішуватися в\r\n        індивідуальному порядку. Якщо відповідний спір неможливо вирішити шляхом\r\n        переговорів, він вирішується в судовому порядку за встановленою підвідомчістю та\r\n        підсудністю такого спору відповідно до чинного законодавства України. Усі питання\r\n        щодо відносин між Сторонами, які не врегульовані цим Договором, регулюються чинним\r\n        законодавством України. ЗАУВАЖТЕ, що при порушення умов Договору перевезення,\r\n        умови якого (дата, час відправлення/прибуття, місце посадки/висадки) наведені у\r\n        Квитку несе Перевізник, що фактично виконував рейс. Позови до перевізника у\r\n        відповідності до частини 4 статті 114. Цивільного Кодексу України підпадають під\r\n        поняття «Виключна підсудність» і подаються до суду за місцем знаходження\r\n        перевізника. ПРИКІНЦЕВІ ПОЛОЖЕННЯ. Номер Договору відповідає номеру придбаного\r\n        Користувачем Квитка. Датою укладення Договору, є дата здійснення платежу, в\r\n        рахунок обраного Квитка. У всьому іншому, що не передбачене Договором, Сторони\r\n        керуються чинним законодавством України. Договір Правила та Умови є цілісним\r\n        документом призначеним для користувача і мають переважаючу юридичну силу, в\r\n        порівнянні з раніше укладеними письмовими або усними угодами між сторонами.\r\n        Роздрукована версія даних Правил і Умов або будь-якого іншого повідомлення,\r\n        створеного спочатку в електронній формі, може розглядатися в судових процесах,\r\n        пов'язаних з даним Договором. Правилами і Умовами, з тієї ж вагомістю і на тих же\r\n        умовах, як інші бізнес-документи, спочатку створені не в електронній, а у фізичній\r\n        формі. ЛЕГІТИМНІСТЬ ЕЛЕКТРОННИХ ПОВІДОМЛЕНЬ Основний канал комунікації між Busfor\r\n        і Користувачем - повідомлення електронними листами або публікації на сайті.\r\n        Користувач погоджуєтеся з тим, що всі повідомлення, новини та інші комунікації в\r\n        електронній формі Відповідають тим же юридичним вимогам, що і у паперовому\r\n        вигляді. ПРАВИЛА ВИКОРИСТАННЯ САЙТУ busfor.ua Дані правила є невід’ємною частиною\r\n        Договору публічної оферти і поширюються на всіх відвідувачів і користувачів Сайту\r\n        busfor.ua (далі Сайт), по відношенню, як справжніх, так і майбутніх.\r\n        Використовуючи Сайт або матеріали Сайту, Користувач висловлює свою безумовну згоду\r\n        з даними Правилами. Примітка, щодо користування цим сайтом дітьми. Даний сайт не\r\n        призначений для дітей, тож просимо, щоб діти не надавали та/або залишали особисту\r\n        інформацію на цьому сайті. Мета правил Правила створені з метою визначення межі,\r\n        дотримання якої є необхідним для використання Сайту. Правила сформульовані з\r\n        урахуванням чинного законодавства України. Загальні положення Busfor визначає\r\n        правила поведінки на Сайті і залишає за собою право вимагати їх виконання від\r\n        Користувачів. Незнання правил не звільняє від необхідності їх виконання. ЗАХИСТ\r\n        АВТОРСЬКИХ ПРАВ. Всі права на інформацію, розміщену на даному сайті, належать\r\n        Busfor. Зміна матеріалів або використання їх за іншим призначенням є порушенням\r\n        авторських прав. У разі порушення правил користування цим сайтом Busfor залишає за\r\n        собою право застосувати до порушників всі допустимі законом запобіжні заходи, щодо\r\n        захисту та відновленню своїх прав. На інших сторінках цього сайту можуть міститися\r\n        інші зауваження про права власності та інформація про авторські права; положення,\r\n        що містяться в таких зауваженнях, також повинні бути враховані і дотримані при\r\n        користуванні. Користувач обізнаний і підтверджує, що Сайт і його зміст\r\n        використовується для особистої і не комерційної вигоди. Користувач підтверджує, що\r\n        не будете: втручатися або намагатися втручатися в штатну роботу Сайту, у тому\r\n        числі, але не обмежуючись, із застосуванням вірусних атак, зміни пакетів TCP/IP\r\n        або надсилання великої інформації, або діями, які можуть спричинити надмірне або\r\n        непропорційно велике навантаження на інфраструктуру, яка підтримує Сайт;\r\n        намагатися розшифрувати, декомпілювати, розібрати, і змінювати будь-яким іншим\r\n        способом, будь-яку частину програмного забезпечення, яке становить і підтримує\r\n        сайт і його зміст; видаляти або змінювати будь-які повідомлення про право\r\n        власності, торгові знаки, будь-які рекламні матеріали зі змісту; включати рекламні\r\n        та промо матеріали Свої або третіх осіб в зміст сайту, у тому числі але не\r\n        обмежуючись, додаткові матеріали або функції Сайту; видавати себе за іншу фізичну\r\n        або юридичну особу; вводити в оману з приводу приналежності до тої чи іншої\r\n        фізичної чи юридичної особи; використовувати, вставляти та/або давати посилання на\r\n        будь-які матеріали та інформацію з Сайту; використовувати Сайт не так, як\r\n        дозволено в цих Правила та Умовах; та/або використовувати Сайт або будь-який його\r\n        зміст, порушуючи відповідні закони. Busfor залишає за собою право забезпечувати\r\n        дотримання цих Правил та Умов без повідомлень, а також на власний розсуд,\r\n        припинити дію цих Правил і Умов, та/або припинити або призупинити доступ\r\n        Користувача до використання Сайту в будь-який час без попереднього повідомлення у\r\n        разі, якщо Користувач не дотримується (або є підстави підозрювати, що Користувач\r\n        порушив) будь-який пункт даних Правил і умов. У разі, якщо Busfor в межах цих\r\n        Правил і умов, обмежує та/або припиняє доступ Користувача до сайту, то Busfor не\r\n        несе відповідальності і не покриває збитки Користувача, що виникли під час\r\n        використання Сайту. ЗВІЛЬНЕННЯ ВІД ВІДПОВІДАЛЬНОСТІ. У тій мірі, в якій це\r\n        дозволено законодавством, Busfor і пов'язані з ними компанії, директори,\r\n        відповідальні керівники, співробітники, агенти, підрядники, наступники або\r\n        довірені особи не несуть відповідальність за будь-які збитки, що випливають прямо\r\n        або побічно з використання даного Сайту або будь якого іншого сайту, пов'язаного з\r\n        даним Сайтом. За жодних обставин, відповідальність за наслідки, які прямо або\r\n        побічно призвело використання інформації, розміщеної на цьому Сайті, не може\r\n        покладатися на Busfor і бути підставою для їх судового переслідування. Busfor не\r\n        заявляє і не гарантує, що який-небудь файл або програма, які можна завантажити з\r\n        даного сайту та/або використовувати за його допомогою, не містить помилок,\r\n        вірусів, дефектів та інших факторів, які можуть завдати шкоди даними, а також\r\n        апаратному або програмному забезпеченню Користувача. Послуги Сайту надаються за\r\n        принципом «як є» без гарантій будь-якого роду, як прямих, так і непрямих.\r\n        Користувач в добровільному порядку відмовляється від судового переслідування\r\n        Busfor і відшкодування можливої або заподіяної шкоди Користувачеві. Ні\r\n        адміністрація Сайту, ні її партнери або співробітники не гарантують безперебійної\r\n        та безпомилкової роботи Сайту; також вони не гарантують, що такими будуть як\r\n        результати, отримані в ході використання Сайту, так і точність і застосовність\r\n        його матеріалів. Busfor не несе ніякої відповідальності перед Користувачем або\r\n        третіми особами за можливий збиток, пов'язаний з використанням інформації або\r\n        матеріалів, розміщених на даному сайті. ТОЧНІСТЬ ІНФОРМАЦІЇ. Busfor докладатиме\r\n        всіх зусиль, щоб забезпечити точність і актуальність даних, отриманих від\r\n        відповідного Постачальника, що містяться на цьому сайті. У представленій\r\n        інформації на цьому Сайті, можуть зустрітися технічні неточності або друкарські\r\n        помилки. Busfor не бере на себе ніякої відповідальності за точність інформації,\r\n        наданої на сайті, і весь ризик використання такої інформації покладається на\r\n        Користувача. ПОСИЛАННЯ НА САЙТИ ТРЕТІХ ОСІБ. Даний сайт може містити інформацію\r\n        про сайти третіх осіб. Перехід на будь-який інший Інтернет-ресурс, пов'язаний з\r\n        даним сайтом, здійснюється на страх і ризик Користувача. Busfor не несе\r\n        відповідальності за точність інформації, даних, поглядів, порад або заяв,\r\n        зроблених на сторінках Сайту. Посилання на продукцію та послуги третіх осіб\r\n        робиться в інформаційних цілях і не має на увазі, що Busfor їх підтримує або\r\n        рекомендує або несе за це відповідальність. ЗМІНА УМОВ. Busfor час від часу може\r\n        вносити зміни до Правил користування Сайтом. Проглядаючи даний сайт, Користувач\r\n        зобов’язаний дотримуватися цих Правил, тому користувач зобов’язаний перевіряти їх\r\n        зміст при кожному новому відвідуванні Сайту. Busfor залишає за собою право\r\n        змінювати дані про послуги та продукцію в будь-який час без попереднього\r\n        повідомлення Користувача. ПРИЙОМ І РОЗГЛЯД ЗВЕРНЕНЬ. Прийом звернень здійснюється\r\n        ТОВ «І-Тревелс». Адреса для надсилання звернень: 03056, Київ, вулиця Польова 21,\r\n        Діловий центр «Лагода» (для електронних звернень). Розгляд звернень. Розгляд\r\n        звернень за послуги надані в межах договору публічної оферти здійснюється\r\n        безпосередньо ТОВ «І-Тревелс». Розгляд звернень стосовно договору перевезення,\r\n        обслуговування пасажира(ів), здійснюється відповідним перевізником, що надає такі\r\n        послуги. У такому випадку ТОВ «І-Тревелс» надсилає отримане від пасажира звернення\r\n        на адресу відповідного перевізника. Відповідь на звернення. Відповідь, за\r\n        результатами розгляду звернень, надається користувачу шляхом аналогічним до їх\r\n        надходження.\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PublickOffer;\r\n","import React, { Component, createRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport style from \"./Modal.module.css\";\r\n\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    onClose: PropTypes.func,\r\n  };\r\n\r\n  backdropRef = createRef();\r\n\r\n  componentDidMount() {\r\n    if (this.props.isGohome) return\r\n    window.addEventListener(\"keydown\", this.handleKeyPress);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyPress);\r\n  }\r\n\r\n  handleKeyPress = (e) => {\r\n    if (e.code !== \"Escape\") {\r\n      return;\r\n    }\r\n    this.props.onClose();\r\n  };\r\n\r\n  handleBackdropClick = (event) => {\r\n    if (this.props.isGohome) return\r\n    const { current } = this.backdropRef;\r\n    if (current && event.target !== current) return;\r\n    this.props.onClose();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div\r\n          className={style.backdrop}\r\n          ref={this.backdropRef}\r\n          onClick={this.handleBackdropClick}\r\n          role=\"presentation\"\r\n        >\r\n          {this.props.component}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport LoaderFromLibrary from 'react-loader-spinner';\r\nimport styles from './Loader.module.css';\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className={styles.loader}>\r\n      <LoaderFromLibrary\r\n        type=\"BallTriangle\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport styles from \"./FormForBuy.module.css\";\r\nimport { ReactComponent as Person } from \"../../images/person-24px.svg\";\r\nimport { toBookTicket } from \"../../services/api\";\r\nimport { getError, startLoader, stopLoader } from \"../../redux/global/globalActions\";\r\nimport PublickOffer from \"../PublickOffer/PublickOffer\";\r\nimport Modal from \"../Modal/Modal\";\r\nimport Loader from \"../Loader/Loader\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport { messages } from \"../../intl/OrderPageMessanges\";\r\nimport CryptoJS from \"crypto-js\";\r\n// import * as Yup from \"yup\";\r\n\r\n// const schema = Yup.object().shape({\r\n//   name: Yup.string().min(2, \"too short\").required(\"Required\"), // these constraints take precedence\r\n// });\r\n\r\nclass FormForBuy extends Component {\r\n  state = {\r\n    values: [],\r\n    email: \"\",\r\n    resp: {},\r\n    isOffer: false,\r\n    isPersonal: false,\r\n    isValidName: true,\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { amountPassangers } = this.props;\r\n    for (let i = 0; i <= amountPassangers - 1; i++) {\r\n      this.setState((prev) => ({\r\n        values: [\r\n          ...prev.values,\r\n          { name: \"M\", phone: \"3\", id: `${i}`, surname: \"surname1\", email: \"\" },\r\n        ],\r\n      }));\r\n    }\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.resp !== this.state.resp) {\r\n      // this.props.stopLoader();\r\n      this.state.resp.services.forEach((el) => {\r\n        // ==== проверяем на ошибки в статусе ==== //\r\n        if (el.status !== \"NEW\") {\r\n          this.props.getError(el.error.message);\r\n          return;\r\n        } else {\r\n          const id = btoa(CryptoJS.AES.encrypt(this.state.resp.orderId, \"KeyVezu\").toString())\r\n          const payeeId = btoa(CryptoJS.AES.encrypt(this.state.resp.additionals.payeeId, \"KeyVezu\").toString())\r\n          this.props.history.push(`/ticket/${id}/${payeeId}`);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    // this.props.startLoader();\r\n    const { tripKey, priceId, getError } = this.props;\r\n    const { values } = this.state;\r\n    // console.log(this.state.isValidName)\r\n    // console.log(schema.isValidSync(values[0]))\r\n    // this.setState({isValidName: schema.isValidSync(values[0])});\r\n    const requestBody = {};\r\n    requestBody.lang = this.props.lang;\r\n    requestBody.services = values.map((el, idx) => ({\r\n      customer: { id: idx },\r\n      segment: { id: tripKey },\r\n      seat: { id: `0:${idx + 1}` },\r\n      price: { tariff: { id: priceId } },\r\n    }));\r\n    requestBody.customers = { ...values };\r\n    requestBody.currency = \"UAH\";\r\n    toBookTicket(requestBody)\r\n    .then(({data}) => this.setState({ resp: data }))\r\n    .catch((err) => (err) => getError(err.message));\r\n\r\n    // toBook(requestBody)\r\n    //   .then(({ data }) => {\r\n    //     console.log(data)\r\n    //     // this.setState({ resp: data })\r\n    //   })\r\n    //   .catch((err) => getError(err.message));\r\n  };\r\n\r\n  handleChange = (idx, { target }) => {\r\n    target.name === \"phone\"\r\n      ? this.setState((prev) =>\r\n          // eslint-disable-next-line array-callback-return\r\n          prev.values.map((el) => {\r\n            if (el.id === idx) el[`${target.name}`] = target.value.replace(/\\D/, \"\");\r\n          })\r\n        )\r\n      : this.setState((prev) =>\r\n          // eslint-disable-next-line array-callback-return\r\n          prev.values.map((el) => {\r\n            if (el.id === idx) el[`${target.name}`] = target.value;\r\n          })\r\n        );\r\n  };\r\n\r\n  handleChangeEmail = ({ target }) => {\r\n    this.setState({ [target.name]: target.value });\r\n    this.setState((prev) =>\r\n      // eslint-disable-next-line array-callback-return\r\n      prev.values.map((el) => {\r\n        el[`${target.name}`] = target.value;\r\n      })\r\n    );\r\n  };\r\n\r\n  handleAdd = () => {\r\n    const id = +this.state.values.slice(-1)[0].id + 1;\r\n    this.setState((prev) => ({\r\n      values: [\r\n        ...prev.values,\r\n        { name: \"\", phone: \"\", id: `${id}`, surname: \"\", email: this.state.email },\r\n      ],\r\n    }));\r\n    this.props.changeAmountPassanger(this.props.total + 1);\r\n  };\r\n\r\n  handleRemove = ({ target }) => {\r\n    this.setState((prev) => ({\r\n      values: prev.values.filter((el) => el.id !== target.name),\r\n    }));\r\n    this.props.changeAmountPassanger(this.props.total - 1);\r\n  };\r\n  getValueName = (id) => {\r\n    return this.state.values.find((el) => el.id === id).name;\r\n  };\r\n  getValueSurname = (id) => {\r\n    return this.state.values.find((el) => el.id === id).surname;\r\n  };\r\n  getValuePhone = (id) => {\r\n    return this.state.values.find((el) => el.id === id).phone;\r\n  };\r\n  openModal = () => {\r\n    this.setState({ isModal: true });\r\n  };\r\n\r\n  closeModal = () => {\r\n    this.setState({ isModal: false });\r\n  };\r\n\r\n  render() {\r\n    const { values, email, isModal, isPersonal, isOffer } = this.state;\r\n    const { isLoading, lang } = this.props;\r\n    const locale = lang === \"UA\" ? \"UK\" : lang;\r\n\r\n    return (\r\n      <IntlProvider locale={locale} messages={messages[locale]}>\r\n        <div className={styles.container}>\r\n          {/* <pre>{JSON.stringify(this.state, null, 4)}</pre> */}\r\n\r\n          <h3 className={styles.title}>\r\n            <FormattedMessage id=\"title\" />\r\n          </h3>\r\n\r\n          <form onSubmit={this.handleSubmit}>\r\n            {values.length > 0 &&\r\n              values.map((el, idx) => {\r\n                return (\r\n                  <div className={styles.box} key={idx}>\r\n                    <div className={styles.svgBox}>\r\n                      {\" \"}\r\n                      <Person className={styles.svg} fill=\"var(--color-secondary)\" />\r\n                      <span>{idx + 1}</span>\r\n                    </div>\r\n                    <div className={styles.inputBox}>\r\n                      <input\r\n                        className={`${styles.input} ${this.state.isValidName ? null : styles.red }`}\r\n                        name=\"name\"\r\n                        type=\"text\"\r\n                        value={this.getValueName(el.id)}\r\n                        onChange={(e) => this.handleChange(el.id, e)}\r\n                        placeholder=\"name\"\r\n                        autoComplete=\"off\"\r\n                        required={true}\r\n                      />\r\n\r\n                      <input\r\n                        className={styles.input}\r\n                        name=\"surname\"\r\n                        type=\"text\"\r\n                        value={this.getValueSurname(el.id)}\r\n                        onChange={(e) => this.handleChange(el.id, e)}\r\n                        placeholder=\"surname\"\r\n                        autoComplete=\"off\"\r\n                        required={true}\r\n                      />\r\n                      <input\r\n                        className={styles.input}\r\n                        name=\"phone\"\r\n                        type=\"tel\"\r\n                        value={this.getValuePhone(el.id)}\r\n                        onChange={(e) => this.handleChange(el.id, e)}\r\n                        placeholder=\"phone**\"\r\n                        autoComplete=\"nope\"\r\n                        required={true}\r\n                      />\r\n                      <p className={styles.price}>{this.props.price} грн</p>\r\n                      <button\r\n                        className={styles.buttonRemove}\r\n                        type=\"button\"\r\n                        name={el.id}\r\n                        onClick={this.handleRemove}\r\n                        disabled={values.length <= 1 ? true : false}\r\n                      ></button>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n\r\n            <button\r\n              className={styles.buttonAdd}\r\n              type=\"button\"\r\n              onClick={this.handleAdd}\r\n              disabled={values.length >= 10 ? true : false}\r\n            >\r\n              <FormattedMessage id=\"buttonAdd\" />\r\n            </button>\r\n            <h3 className={styles.customer}>\r\n              <FormattedMessage id=\"customer\" />\r\n            </h3>\r\n            <input\r\n              className={styles.input}\r\n              type=\"email\"\r\n              name=\"email\"\r\n              value={email}\r\n              placeholder=\"email\"\r\n              autoComplete=\"nope\"\r\n              onChange={this.handleChangeEmail}\r\n              required={true}\r\n            />\r\n            <div className={styles.publicOfferBox}>\r\n              <input\r\n                name=\"publicOffer\"\r\n                type=\"checkbox\"\r\n                onChange={() => this.setState({ isOffer: !this.state.isOffer })}\r\n              />{\" \"}\r\n              <p>\r\n                <FormattedMessage id=\"offer\" />\r\n                <span onClick={this.openModal}>\r\n                  <FormattedMessage id=\"offerSpan\" />\r\n                </span>\r\n              </p>\r\n            </div>\r\n            <div className={styles.publicOfferBox}>\r\n              <input\r\n                name=\"personalData\"\r\n                type=\"checkbox\"\r\n                onChange={() => this.setState({ isPersonal: !this.state.isPersonal })}\r\n              />{\" \"}\r\n              <p>\r\n                <FormattedMessage id=\"myData\" />\r\n                <span onClick={this.openModal}>\r\n                  <FormattedMessage id=\"myDataSpan\" />\r\n                </span>\r\n              </p>\r\n            </div>\r\n            <button\r\n              className={styles.buttonBuy}\r\n              type=\"submit\"\r\n              disabled={isOffer || isPersonal}\r\n            >\r\n              {isLoading ? <Loader /> : <FormattedMessage id=\"buy\" />}\r\n            </button>\r\n          </form>\r\n\r\n          <p className={styles.text}>\r\n            <FormattedMessage id=\"requared\" />\r\n          </p>\r\n          <p className={styles.text}>\r\n            <FormattedMessage id=\"numTel\" />\r\n          </p>\r\n          {isModal && <Modal onClose={this.closeModal} component={<PublickOffer />} />}\r\n          <pre>{JSON.stringify(this.state.resp, null, 4)}</pre>\r\n        </div>\r\n      </IntlProvider>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  amountPassangers: state.searchForm.amountPassanger,\r\n  priceId: state.order.order.priceId,\r\n  price: state.order.order.price,\r\n  lang: state.language,\r\n  tripKey: state.order.order.tripKey,\r\n  isLoading: state.global.isLoading,\r\n});\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  getError: (error) => dispatch(getError(error)),\r\n  startLoader: () => dispatch(startLoader()),\r\n  stopLoader: () => dispatch(stopLoader()),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FormForBuy);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport OrderInfo from \"../components/Order/OrderInfo\";\r\nimport SearchForm from \"../components/SearchForm/SearchForm\";\r\nimport FormForBuy from \"../components/Order/FormForBuy\";\r\n// import { useSelector } from \"react-redux\";\r\n// import FormForBuyMap from \"../components/Order/FormForBuyMap\";\r\n\r\nimport styles from \"./OrderPage.module.css\";\r\nimport { startLoader } from \"../redux/global/globalActions\";\r\n// import { getRequaredFields } from \"../services/api\";\r\n\r\nconst OrderPage = ({\r\n  history,\r\n  amountPassangers,\r\n  order,\r\n  startLoader,\r\n  tripKey,\r\n}) => {\r\n  const [totalPassanger, setTotalPassanger] = useState(amountPassangers);\r\n\r\n  // useEffect(() => {\r\n  //   getRequaredFields(tripKey).then(({data}) => console.log(data))\r\n\r\n  // }, [tripKey])\r\n\r\n  // ==== при перезагрузке страницы попадаем на предыдущую\r\n  // ==== при переходе по ссылке перенаправление на главную\r\n  useEffect(() => {\r\n    if (Object.keys(order).length <= 0) {\r\n      const path = JSON.parse(sessionStorage.getItem(\"path\")) || \"/\";\r\n      history.replace(path);\r\n      startLoader();\r\n    }\r\n  }, [order, history, startLoader]);\r\n\r\n  return (\r\n    <div className=\"bgnd\">\r\n      <div className=\"container\">\r\n        <div className={styles.formBox}>\r\n          <SearchForm history={history} />\r\n        </div>\r\n        <div className={styles.main}>\r\n          <FormForBuy\r\n            changeAmountPassanger={(val) => setTotalPassanger(val)}\r\n            total={totalPassanger}\r\n            history={history}\r\n          />\r\n          <OrderInfo total={totalPassanger} />\r\n\r\n          {/* {pass.pass.length > 0 && (\r\n            <FormForBuyMap\r\n              changeAmountPassanger={changeAmountPassanger}\r\n              total={totalPassanger}\r\n              history={history}\r\n              array={[\r\n                \"NAME\",\r\n                \"PATRONYMIC\",\r\n                \"SURNAME\",\r\n                \"ONLY_LATIN\",\r\n                \"EMAIL\",\r\n                \"PHONE\",\r\n                \"GENDER\",\r\n                \"CITIZENSHIP\",\r\n                \"DOCUMENT_TYPE\",\r\n                \"DOCUMENT_NUMBER\",\r\n                \"DOCUMENT_SERIES\",\r\n                \"BIRTHDAY\",\r\n                \"SEAT\",\r\n                \"TARIFF\",\r\n              ]}\r\n              pass={pass}\r\n            />\r\n          )} */}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  amountPassangers: state.searchForm.amountPassanger,\r\n  order: state.order.order,\r\n  tripKey: state.order.order.tripKey,\r\n});\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  startLoader: (obj) => dispatch(startLoader(obj)),\r\n});\r\nexport default connect(mapStateToProps, mapDispatchToProps)(OrderPage);\r\n","export const messages = {\r\n    EN: {\r\n      trip: \"Route:\",\r\n      passangersData: \"Passenger data:\",\r\n      cost: \" Cost:\",\r\n      passenger: \"Passenger №:\",\r\n      name: \"Name\",\r\n      surname: \"Surname\",\r\n      phone: \"Phone\",\r\n      endTime: \"To place an order, pay for it before:\",\r\n    },\r\n    RU: {\r\n      trip: \"Маршрут:\",\r\n      passangersData: \"Данные о пассажирах:\",\r\n      cost: \"Стоимость: \",\r\n      passenger: \"Пассажир №:\",\r\n      name: \"Имя\",\r\n      surname: \"Фамилия\",\r\n      phone: \"Телефон\",\r\n      endTime: \"Для оформления заказа оплатите его до:\",\r\n    },\r\n    UK: {\r\n      trip: \"Маршрут:\",\r\n      passangersData: \"Відомості про пасажирів\",\r\n      cost: \"Вартість: \",\r\n      passenger: \"Пасажир №:\",\r\n      name: \"Ім'я\",\r\n      surname: \"Прізвище\",\r\n      phone: \"Телефон\",\r\n      endTime: \"Для оформлення замовлення оплатіть його до:\",\r\n    },\r\n    PL: {\r\n      trip: \"Trasa:\",\r\n      passangersData: \"Dane pasażera:\",\r\n      cost: \"Koszt: \",\r\n      passenger: \"Pasażera №:\",\r\n      name: \"Nazwa\",\r\n      surname: \"Nazwisko\",\r\n      phone: \"Telefon\",\r\n      endTime: \"Aby złożyć zamówienie, opłać je wcześniej:\",\r\n    },\r\n  };\r\n  ","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport CryptoJS from \"crypto-js\";\r\nimport styles from \"./PaymentBox.module.css\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport { messages } from \"../../intl/TicketPageMessanges\";\r\nimport { getExpireTime, getLocality } from \"../../services/getInfo\";\r\n// import { fetchPayeeId } from \"../../services/api\";\r\n// import Modal from \"../Modal/Modal\";\r\n// import GoHome from \"../GoHome/GoHome\";\r\n\r\nconst PaymentBox = ({ id, fromId, toId, getDate, payeeId }) => {\r\n  const lang = useSelector((state) => state.language);\r\n  const ticket = useSelector((state) => state.order.ticket);\r\n  const stops = useSelector((state) => state.global.stops);\r\n  const locale = lang === \"UA\" ? \"UK\" : lang;\r\n  const [time, setTime] = useState(0);\r\n  // const [isModal, setIsModal] = useState(false);\r\n\r\n  // ==== определяем время до конца оплаты ==== //\r\n  useEffect(() => {\r\n    const timeEnd = new Date(ticket.services[0].expire).getTime();\r\n    const timeStart = new Date().getTime();\r\n    setTime(timeEnd - timeStart);\r\n  }, [ticket.services]);\r\n\r\n  useEffect(() => {\r\n    if (time < 0) {\r\n      // setIsModal(true);\r\n      setTime(0);\r\n      return;\r\n    }\r\n    const intervalId = setInterval(() => {\r\n      setTime(time - 1000);\r\n    }, 1000);\r\n\r\n    return () => clearInterval(intervalId);\r\n  }, [time]);\r\n\r\n  const getTotalPrice = () =>\r\n    ticket.services.reduce((acc, el) => {\r\n      return acc + el.price.amount;\r\n    }, 0);\r\n\r\n  // useEffect(() => {\r\n  //   fetchPayeeId(\"PORTMONE\")\r\n  //     .then((data) => console.log(data))\r\n  //     .catch((err) => console.log(err));\r\n  // }, []);\r\n  // const getPayeeID = (val) => {\r\n\r\n  // };\r\n  return (\r\n    <IntlProvider locale={locale} messages={messages[locale]}>\r\n      <div className={styles.warning}>\r\n        <p className={styles.warningText}>\r\n          <FormattedMessage id=\"endTime\" />\r\n          <span>{getExpireTime(ticket.services[0].expire, lang)}</span>\r\n        </p>\r\n        <p className={styles.time}>\r\n          {new Date(time).toLocaleString(\"uk\", {\r\n            minute: \"2-digit\",\r\n            second: \"2-digit\",\r\n          })}\r\n        </p>\r\n      </div>\r\n      <p>Выберите способ оплаты:</p>\r\n      <br></br>\r\n      <div className={styles.payment}>\r\n        <form action=\"https://www.portmone.com.ua/gateway/\" method=\"post\">\r\n          <input type=\"hidden\" name=\"payee_id\" value={CryptoJS.AES.decrypt(atob(payeeId), \"KeyVezu\").toString(CryptoJS.enc.Utf8)\r\n} />\r\n          <input type=\"hidden\" name=\"shop_order_number\" value={ticket.orderId} />\r\n          <input type=\"hidden\" name=\"bill_amount\" value={getTotalPrice()} />\r\n          <input\r\n            type=\"hidden\"\r\n            name=\"description\"\r\n            value={`${getLocality(fromId, stops, lang)} -\r\n                     ${getLocality(toId, stops, lang)} ${getDate(\"departureDate\")}`}\r\n          />\r\n          <input\r\n            type=\"hidden\"\r\n            name=\"success_url\"\r\n            value={`http://localhost:3000/#/myTicket/${id}`}\r\n            // value={`https://gill-soft.github.io/www/#/MyTicket/${id}`}\r\n          />\r\n          <input\r\n            type=\"hidden\"\r\n            name=\"failure_url\"\r\n            value={`http://localhost:3000/#/ticket/${id}`}\r\n            // value={`https://gill-soft.github.io/www/#/ticket/${id}`}\r\n          />\r\n          <input type=\"hidden\" name=\"lang\" value={locale.toLowerCase()} />\r\n          <input type=\"hidden\" name=\"encoding\" value=\"UTF-8\" />\r\n          <input type=\"hidden\" name=\"exp_time\" value={(time / 1000).toFixed()} />\r\n          <button className={styles.portmone} type=\"submit\"></button>\r\n        </form>\r\n\r\n        <p className={styles.total}>\r\n          Сума до сплати:{\" \"}\r\n          <span>\r\n            {getTotalPrice()}\r\n            <small>uah</small>\r\n          </span>{\" \"}\r\n        </p>\r\n      </div>\r\n      {/* {!!isModal && <Modal component={<GoHome />} isGohome={true} />} */}\r\n    </IntlProvider>\r\n  );\r\n};\r\n\r\nexport default PaymentBox;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport styles from \"./TripInfo.module.css\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport { messages } from \"../../intl/TicketPageMessanges\";\r\nimport { getLocality } from \"../../services/getInfo\";\r\n\r\nconst TripInfo = ({ fromId, toId, getDate }) => {\r\n  const lang = useSelector((state) => state.language);\r\n  const stops = useSelector((state) => state.global.stops);\r\n  const ticket = useSelector((state) => state.order.ticket);\r\n\r\n  const locale = lang === \"UA\" ? \"UK\" : lang;\r\n\r\n  // ==== получаем название остановки отправки/прибытия ====//\r\n  const getStop = (type) => {\r\n    const tripKey = Object.keys(ticket.segments)[0];\r\n    const id = ticket.segments[`${tripKey}`][`${type}`].id;\r\n    return ticket.localities[`${id}`].name[`${lang}`];\r\n  };\r\n  return (\r\n    <IntlProvider locale={locale} messages={messages[locale]}>\r\n      <div className={styles.orderBox}>\r\n        <h4 className={styles.subTitle}>\r\n          <FormattedMessage id=\"trip\" />\r\n        </h4>\r\n        <div className={styles.arrow}>\r\n          {getLocality(fromId, stops, lang) && (\r\n            <p className={styles.locality}>{getLocality(fromId, stops, lang)}</p>\r\n          )}\r\n          <p className={styles.localityStop}>{getStop(\"departure\")}</p>\r\n          <p className={styles.date}>{getDate(\"departureDate\")}</p>\r\n        </div>\r\n        <div>\r\n          {getLocality(toId, stops, lang) && <p className={styles.locality}>{getLocality(toId, stops, lang)}</p>}\r\n          <p className={styles.localityStop}>{getStop(\"arrival\")}</p>\r\n          <p className={styles.date}>{getDate(\"arrivalDate\")}</p>\r\n        </div>\r\n      </div>\r\n    </IntlProvider>\r\n  );\r\n};\r\n\r\nexport default TripInfo;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport styles from \"./PassengersData.module.css\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport { messages } from \"../../intl/TicketPageMessanges\";\r\n\r\nconst PassengersData = () => {\r\n  const lang = useSelector((state) => state.language);\r\n  const ticket = useSelector((state) => state.order.ticket)\r\n  const locale = lang === \"UA\" ? \"UK\" : lang;\r\n  const getPassengersData = (id, type) => {\r\n    return ticket.customers[`${id}`][`${type}`];\r\n  };\r\n  return (\r\n    <IntlProvider locale={locale} messages={messages[locale]}>\r\n      <div className={styles.passangersBox}>\r\n        <h4 className={styles.subTitle}>\r\n          <FormattedMessage id=\"passangersData\" />\r\n        </h4>\r\n        <ul>\r\n          {ticket.services.map((el, idx) => (\r\n            <li key={idx}>\r\n              <div className={styles.header}>\r\n                <p className={styles.number}>\r\n                  <FormattedMessage id=\"passenger\" />\r\n                  {idx + 1}\r\n                </p>\r\n                <p className={styles.price}>\r\n                  <span>\r\n                    <FormattedMessage id=\"cost\" />\r\n                  </span>\r\n                  {el.price.amount} UAH\r\n                </p>\r\n              </div>\r\n              <div className={styles.passangerData}>\r\n                <div>\r\n                  <p className={styles.passangerTitle}>\r\n                    <FormattedMessage id=\"name\" />\r\n                  </p>\r\n                  <p className={styles.passangerName}>\r\n                    {getPassengersData(el.customer.id, \"name\")}\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <p className={styles.passangerTitle}>\r\n                    <FormattedMessage id=\"surname\" />\r\n                  </p>\r\n                  <p className={styles.passangerName}>\r\n                    {getPassengersData(el.customer.id, \"surname\")}\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <p className={styles.passangerTitle}>\r\n                    <FormattedMessage id=\"phone\" />\r\n                  </p>\r\n                  <p className={styles.passangerName}>\r\n                    {getPassengersData(el.customer.id, \"phone\")}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </IntlProvider>\r\n  );\r\n};\r\n\r\nexport default PassengersData;\r\n","import React, { useEffect} from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getTicket } from \"../redux/order/orderOperation\";\r\n// import styles from \"./TicketPage.module.css\";\r\nimport PaymentBox from \"../components/TicketContainer/PaymentBox\";\r\nimport TripInfo from \"../components/TicketContainer/TripInfo\";\r\nimport PassengersData from \"../components/TicketContainer/PassengersData\";\r\nimport CryptoJS from \"crypto-js\";\r\n\r\nconst TicketPage = ({ match }) => {\r\n  const dispatch = useDispatch();\r\n  const ticket = useSelector((state) => state.order.ticket);\r\n  // ==== получаем информацию о билете ==== //\r\n  useEffect(() => {\r\n    // ==== получаем зашифрованый id === //\r\n    const encryptId = atob(match.params.id);\r\n    // ==== расшифровуем id ==== //\r\n    const id = CryptoJS.AES.decrypt(encryptId, \"KeyVezu\").toString(CryptoJS.enc.Utf8);\r\n    // ==== самовызывающяяся функция redux====\r\n    ((id) => dispatch(getTicket(id)))(id);\r\n  }, [dispatch, match.params]);\r\n\r\n  // ==== получаем id населенного пункта отправки/прибытия ====//\r\n  const getLocalityId = (type) => {\r\n    const tripKey = Object.keys(ticket.segments)[0];\r\n    const stopId = ticket.segments[`${tripKey}`][`${type}`].id;\r\n    return ticket.localities[`${stopId}`].parent.id;\r\n  };\r\n\r\n  // ==== получаем время отправки/прибытия ====//\r\n  const getDate = (type) => {\r\n    const tripKey = Object.keys(ticket.segments)[0];\r\n    return ticket.segments[`${tripKey}`][`${type}`];\r\n  };\r\n\r\n  return (\r\n    <div className=\"bgnd\">\r\n      {Object.keys(ticket).length > 0 && (\r\n        <div className=\"container\">\r\n          <TripInfo\r\n            ticket={ticket}\r\n            fromId={getLocalityId(\"departure\")}\r\n            toId={getLocalityId(\"arrival\")}\r\n            getDate={getDate}\r\n          />\r\n          <PassengersData />\r\n          <PaymentBox\r\n            fromId={getLocalityId(\"departure\")}\r\n            toId={getLocalityId(\"arrival\")}\r\n            getDate={getDate}\r\n            id={match.params.id}\r\n            payeeId={match.params.pay}\r\n          />\r\n        </div>\r\n      )}\r\n      <pre>{JSON.stringify(ticket, null, 4)} </pre>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TicketPage;\r\n","export const messages = {\r\n  EN: {\r\n    title: \"Bus schedule\",\r\n    timeInWay: \"on the way\",\r\n    choose: \"Choose\",\r\n    additionals: \"More details\",\r\n    departure: \"Departure\",\r\n    arrival: \"Arrival\",\r\n    sort: \"Sort by:\",\r\n    \r\n  },\r\n  RU: {\r\n    title: \"Расписание автобусов\",\r\n    timeInWay: \"в пути\",\r\n    choose: \"Выбрать\",\r\n    additionals: \"Подробнее\",\r\n    departure: \"Отправление\",\r\n    arrival: \"Прибытие\",\r\n    sort: \"Cортировать по:\",\r\n    \r\n  },\r\n  UK: {\r\n    title: \"Розклад автобусів\",\r\n    timeInWay: \"в дорозі\",\r\n    choose: \"Вибрати\",\r\n    additionals: \"Детальніше\",\r\n    departure: \"Відправлення\",\r\n    arrival: \"Прибуття\",\r\n    sort: \"Сортувати за:\",\r\n    \r\n  },\r\n  PL: {\r\n    title: \"Rozkład jazdy autobusów\",\r\n    timeInWay: \"jestem w drodze\",\r\n    choose: \"Wybierz\",\r\n    additionals: \"Więcej szczegółów\",\r\n    departure: \"Wyjazd\",\r\n    arrival: \"Przyjazd\",\r\n    sort: \"Sortuj według:\",\r\n    \r\n  },\r\n};\r\n\r\n   ","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport queryString from \"query-string\";\r\nimport styles from \"./TripBox.module.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { fetchOrderInfo } from \"../../redux/order/orderActions\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport { messages } from \"../../intl/TripsPageMessanges\";\r\nimport {\r\n  getLocality,\r\n  getStop,\r\n  getDate,\r\n  getTime,\r\n  getTimeInWay,\r\n  getAllLocalities,\r\n} from \"../../services/getInfo\";\r\n\r\nconst TripBox = ({ tripKey, trip, trips, fetchOrderInfo, lang, location, stops }) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [arrayStops, setArrayStops] = useState([]);\r\n  const windowWidth = window.innerWidth;\r\n  const locale = lang === \"UA\" ? \"UK\" : lang;\r\n  const parsed = queryString.parse(location.search);\r\n\r\n  const handleClick = () => {\r\n    const obj = {\r\n      from: parsed.from,\r\n      fromStop: trip.departure.id,\r\n      toStop: trip.arrival.id,\r\n      to: parsed.to,\r\n      departureDate: trip.departureDate,\r\n      arrivalDate: trip.arrivalDate,\r\n      price: trip.price.amount,\r\n      priceId: trip.price.tariff.id,\r\n      tripKey: tripKey[0],\r\n    };\r\n    // localStorage.setItem(\"tripKey\", JSON.stringify(tripKey[0]));\r\n    fetchOrderInfo(obj);\r\n    sessionStorage.setItem(\r\n      \"path\",\r\n      JSON.stringify(`${location.pathname}${location.search}`)\r\n    );\r\n  };\r\n\r\n  const handleAdditionals = () => {\r\n    // ==== определяем индекс первой остановки ====//\r\n    const first =\r\n      1 +\r\n      trip.route.path.indexOf(\r\n        trip.route.path.find((el) => el.locality.id === trip.departure.id)\r\n      );\r\n    //  ==== определяем индекс последней остановки ==== //\r\n    const last = trip.route.path.indexOf(\r\n      trip.route.path.find((el) => el.locality.id === trip.arrival.id)\r\n    );\r\n\r\n    // ==== обрезаем массив всех остановок ==== //\r\n    const arr = trip.route.path.slice(first, last);\r\n    // ==== записываем  в state обрезаный масив ==== //\r\n    setArrayStops(arr);\r\n    // ==== переключаем видимость дополнительной информации ==== //\r\n    setIsOpen(!isOpen);\r\n  };\r\n  return (\r\n    <IntlProvider locale={locale} messages={messages[locale]}>\r\n      <div className={styles.full}>\r\n        <div className={styles.tripBox}>\r\n          <p className={styles.timeInWay}>\r\n            {getTimeInWay(trip, lang)} <FormattedMessage id=\"timeInWay\" />\r\n          </p>\r\n          <div className={styles.fromTo}>\r\n            <div className={styles.info}>\r\n              <div>\r\n                <p className={styles.time}>{getTime(\"departureDate\", trip, lang)}</p>\r\n                <p className={styles.date}>{getDate(\"departureDate\", trip, lang)}</p>\r\n              </div>\r\n              <p className={styles.locality}>{getLocality(parsed.from, stops, lang)}</p>\r\n              <p className={styles.localityStop}>\r\n                {getStop(trip.departure.id, trips, lang)}\r\n              </p>\r\n            </div>\r\n            <div className={`${styles.info} ${styles.infoLast}`}>\r\n              <div>\r\n                <p className={styles.time}> {getTime(\"arrivalDate\", trip, lang)}</p>\r\n                <p className={styles.date}>{getDate(\"arrivalDate\", trip, lang)}</p>\r\n              </div>\r\n              <p className={styles.locality}>{getLocality(parsed.to, stops, lang)}</p>\r\n              <p className={styles.localityStop}>\r\n                {getStop(trip.arrival.id, trips, lang)}\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          <div className={styles.priceBox}>\r\n            <p className={styles.price}>\r\n              {trip.price.amount} <span>{trip.price.currency}</span>{\" \"}\r\n            </p>\r\n            <Link\r\n              className={styles.choose}\r\n              to={{\r\n                pathname: `/order`,\r\n                state: { from: location },\r\n              }}\r\n              onClick={handleClick}\r\n            >\r\n              <FormattedMessage id=\"choose\" />\r\n            </Link>\r\n            <p className={trip.freeSeatsCount > 10 ? styles.green : styles.red}>\r\n              {\" \"}\r\n              мест {trip.freeSeatsCount > 10 ? \"10+\" : trip.freeSeatsCount}\r\n            </p>\r\n          </div>\r\n          {windowWidth >= 576 ? (\r\n            <button className={styles.additionals} onClick={handleAdditionals}>\r\n              <FormattedMessage id=\"additionals\" />\r\n            </button>\r\n          ) : null}\r\n        </div>\r\n        {isOpen && (\r\n          <>\r\n            <h5>{trip.route.name.EN}</h5>\r\n            <div className={styles.additionalInfo}>\r\n              <div className={styles.depArr}>\r\n                <p className={styles.departure}>\r\n                  <FormattedMessage id=\"departure\" />\r\n                </p>\r\n                <p className={styles.arrival}>\r\n                  <FormattedMessage id=\"arrival\" />\r\n                </p>\r\n              </div>\r\n              <div>\r\n                <div className={styles.start}>\r\n                  <p className={`${styles.locality} ${styles.addLocality} `}>\r\n                    {getLocality(parsed.from, stops, lang)}\r\n                  </p>\r\n                  <p>{getStop(trip.departure.id, trips, lang)}</p>\r\n                </div>\r\n                <div>\r\n                  {arrayStops.map((el, idx) => (\r\n                    <div className={styles.stop} key={idx}>\r\n                      <p className={styles.timeStop}>{el.departureTime}</p>\r\n                      <p>\r\n                        {getLocality(\r\n                          trips.localities[`${el.locality.id}`].parent.id,\r\n                          stops,\r\n                          lang\r\n                        )}\r\n                      </p>\r\n                      <p>{getAllLocalities(el.locality.id, trips, lang)}</p>\r\n                    </div>\r\n                  ))}{\" \"}\r\n                </div>\r\n                <div className={`${styles.start} ${styles.finish}`}>\r\n                  <p className={`${styles.locality} ${styles.addLocality} `}>\r\n                    {getLocality(parsed.to, stops, lang)}\r\n                  </p>\r\n                  <p>{getStop(trip.arrival.id, trips, lang)}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </IntlProvider>\r\n  );\r\n};\r\nconst mapStateToProps = (state) => ({\r\n  trips: state.trips.trips,\r\n  lang: state.language,\r\n  stops: state.global.stops,\r\n});\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  fetchOrderInfo: (obj) => dispatch(fetchOrderInfo(obj)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TripBox);\r\n","import React from \"react\";\r\nimport styles from \"./SortTrips.module.css\";\r\nimport { connect } from \"react-redux\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport { messages } from \"../../intl/TripsPageMessanges\";\r\nimport { changeSortType } from \"../../redux/trips/tripsActions\";\r\n\r\nconst SortTrips = ({ tripsInfo, changeSortType, sortType, lang }) => {\r\n  const locale = lang === \"UA\" ? \"UK\" : lang;\r\n\r\n  const sortTimeInWay = () => {\r\n    tripsInfo.sort((a, b) => {\r\n      const time_partsA = a[`${Object.keys(a)}`].timeInWay.split(\":\");\r\n      const time_partsB = b[`${Object.keys(b)}`].timeInWay.split(\":\");\r\n      const A = time_partsA[0] + time_partsA[1];\r\n      const B = time_partsB[0] + time_partsB[1];\r\n      return A - B;\r\n    });\r\n  };\r\n  const sortTime = (key) => {\r\n    tripsInfo.sort((a, b) => {\r\n      const time_partsA = a[`${Object.keys(a)}`][`${key}`].split(\" \")[1].split(\":\");\r\n      const time_partsB = b[`${Object.keys(b)}`][`${key}`].split(\" \")[1].split(\":\");\r\n      const A = time_partsA[0] + time_partsA[1];\r\n      const B = time_partsB[0] + time_partsB[1];\r\n      return A - B;\r\n    });\r\n  };\r\n  const sortPrice = () => {\r\n    tripsInfo.sort((a, b) => {\r\n      const A = a[`${Object.keys(a)}`].price.amount;\r\n      const B = b[`${Object.keys(b)}`].price.amount;\r\n      return A - B;\r\n    });\r\n  };\r\n  const handleSort = ({ target }) => {\r\n    if (target.value === \"departure\") sortTime(\"departureDate\");\r\n    if (target.value === \"arrival\") sortTime(\"arrivalDate\");\r\n    if (target.value === \"timeInWay\") sortTimeInWay();\r\n    if (target.value === \"price\") sortPrice();\r\n    changeSortType(target.value);\r\n  };\r\n  const chLang = (name) => {\r\n    let price, arrival, departure, time;\r\n    switch (lang) {\r\n      case \"RU\":\r\n        price = \"цене\";\r\n        arrival = \"времени прибытия\";\r\n        departure = \"времени отправления\";\r\n        time = \"времени в пути\";\r\n        break;\r\n      case \"UA\":\r\n        price = \"ціною\";\r\n        arrival = \"часом прибуття\";\r\n        departure = \"часом відправлення\";\r\n        time = \"часом в дорозі\";\r\n        break;\r\n      case \"EN\":\r\n        price = \"price\";\r\n        arrival = \"arrival time\";\r\n        departure = \"departure time\";\r\n        time = \"travel time\";\r\n        break;\r\n      case \"PL\":\r\n        price = \"ceny\";\r\n        arrival = \"czasu przybycia\";\r\n        departure = \"czasu odjazdu\";\r\n        time = \"czasu podróży\";\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    if (name === \"price\") return price;\r\n    if (name === \"arrival\") return arrival;\r\n    if (name === \"departure\") return departure;\r\n    if (name === \"time\") return time;\r\n  };\r\n  return (\r\n    <IntlProvider locale={locale} messages={messages[locale]}>\r\n      <div className={styles.selectBox}>\r\n        <label>\r\n          <FormattedMessage id=\"sort\" />{\" \"}\r\n          <select\r\n            className={styles.select}\r\n            name=\"sort\"\r\n            value={sortType}\r\n            onChange={handleSort}\r\n          >\r\n            <option className={styles.option} value=\"price\">\r\n              {chLang(\"price\")}\r\n            </option>\r\n            <option className={styles.option} value=\"departure\">\r\n              {chLang(\"departure\")}\r\n            </option>\r\n            <option className={styles.option} value=\"arrival\">\r\n              {chLang(\"arrival\")}\r\n            </option>\r\n            <option className={styles.option} value=\"timeInWay\">\r\n              {chLang(\"time\")}\r\n            </option>\r\n          </select>\r\n        </label>\r\n      </div>\r\n    </IntlProvider>\r\n  );\r\n};\r\nconst mapStateToProps = (state) => ({\r\n  tripsInfo: state.trips.tripsInfo,\r\n  lang: state.language,\r\n  sortType: state.trips.sortType,\r\n});\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  changeSortType: (val) => dispatch(changeSortType(val)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SortTrips);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport queryString from \"query-string\";\r\nimport { format } from \"date-fns\";\r\nimport styles from \"./TripsPage.module.css\";\r\nimport {\r\n  getLocality,\r\n  getTodayDate,\r\n  getTomorrow,\r\n  getYesterday,\r\n} from \"../services/getInfo\";\r\nimport { getInitialization, searchTrips } from \"../services/api\";\r\nimport Loader from \"../components/Loader/Loader\";\r\nimport {\r\n  changeSortType,\r\n  fetchTripsSuccess,\r\n  getTripsInfo,\r\n} from \"../redux/trips/tripsActions\";\r\nimport { stopLoader, getError, startLoader } from \"../redux/global/globalActions\";\r\nimport TripBox from \"../components/TripsContainer/TripBox\";\r\nimport SearchForm from \"../components/SearchForm/SearchForm\";\r\nimport SortTrips from \"../components/TripsContainer/SortTrips\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport { messages } from \"../intl/TripsPageMessanges\";\r\nimport { inputValueDate, setTime } from \"../redux/searchForm/searchFormAction\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass TripsPage extends Component {\r\n  state = {\r\n    value: \"price\",\r\n  };\r\n  componentDidMount() {\r\n    const parsed = queryString.parse(this.props.location.search);\r\n    // ==== формируем обьект для запроса ====\r\n    const requestData = {\r\n      idFrom: parsed.from,\r\n      idWhereTo: parsed.to,\r\n      date: parsed.date,\r\n    };\r\n    //  ====  начинаем поиск ==== //\r\n    const time = Date.now();\r\n    this.startSerch(time, requestData);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { trips, getTripsInfo, time, location, changeSortType } = this.props;\r\n    const parsed = queryString.parse(location.search);\r\n\r\n    // ==== если меняеться время или строка запроса  ====//\r\n    if (prevProps.time !== time) {\r\n      // ==== формируем обьект для запроса ====\r\n      const requestData = {\r\n        idFrom: parsed.from,\r\n        idWhereTo: parsed.to,\r\n        date: parsed.date,\r\n      };\r\n      const time = Date.now();\r\n      this.startSerch(time, requestData);\r\n    }\r\n    // ==== сортируем по цене и записываем в redux ==== //\r\n    if (prevProps.trips !== trips) {\r\n      changeSortType(\"price\");\r\n      if (Object.keys(trips).length > 0) {\r\n        const arr = [];\r\n        for (let [key, values] of Object.entries(trips.segments)) {\r\n          arr.push({ [key]: values });\r\n        }\r\n        getTripsInfo(\r\n          arr.sort(\r\n            (a, b) =>\r\n              a[`${Object.keys(a)}`].price.amount - b[`${Object.keys(b)}`].price.amount\r\n          )\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  //  ==== инициализация поиска ==== //\r\n  startSerch = (time, requestData) => {\r\n    getInitialization(requestData, this.props.lang)\r\n      .then(({ data }) => this.searchRouts(data.searchId, time, requestData))\r\n      .catch((err) => {\r\n        this.props.getError(err.message);\r\n      });\r\n  };\r\n  // ==== цикл поиска результатов поездки ==== //\r\n  searchRouts = (id, time, requestData) => {\r\n    let deltaTime = Date.now() - time;\r\n    if (deltaTime <= 100) {\r\n      searchTrips(id)\r\n        .then(({ data }) => {\r\n          if (data.searchId) {\r\n            this.searchRouts(data.searchId, time, requestData);\r\n          } else {\r\n            if (data.segments) {\r\n              this.props.fetchTripsSuccess(data);\r\n            } else {\r\n              this.startSerch(time, requestData);\r\n            }\r\n          }\r\n        })\r\n        .catch((err) => this.props.getError(err.message));\r\n    } else if (deltaTime <= 3000) {\r\n      setTimeout(() => {\r\n        searchTrips(id)\r\n          .then(({ data }) => {\r\n            if (data.searchId) {\r\n              this.searchRouts(data.searchId, time, requestData);\r\n            } else {\r\n              if (data.segments) {\r\n                this.props.fetchTripsSuccess(data);\r\n              } else {\r\n                this.startSerch(time, requestData);\r\n              }\r\n            }\r\n          })\r\n          .catch(({ err }) => this.props.getError(err));\r\n      }, 300);\r\n    } else if (deltaTime > 3000 && deltaTime < 5000) {\r\n      setTimeout(() => {\r\n        searchTrips(id)\r\n          .then(({ data }) => {\r\n            if (data.searchId) {\r\n              this.searchRouts(data.searchId, time, requestData);\r\n            } else {\r\n              if (data.segments) {\r\n                this.props.fetchTripsSuccess(data);\r\n              } else {\r\n                this.startSerch(time, requestData);\r\n              }\r\n            }\r\n          })\r\n          .catch(({ err }) => this.props.getError(err));\r\n      }, 2000);\r\n    } else {\r\n      this.props.stopLoader();\r\n      this.props.getError(\"По вашему запросу поездок нет. Попробуйте другую дату\");\r\n    }\r\n  };\r\n\r\n  // ==== управление изменением даты на следующюю/предыдущую ==== //\r\n  changeDate = ({ target }) => {\r\n    const { startLoader, history, location } = this.props;\r\n    const parsed = queryString.parse(location.search);\r\n\r\n    startLoader();\r\n    const newDay =\r\n      target.name === \"prev\"\r\n        ? format(\r\n            new Date(new Date(parsed.date).getTime() - 24 * 60 * 60 * 1000),\r\n            \"yyyy-MM-dd\"\r\n          )\r\n        : format(\r\n            new Date(new Date(parsed.date).getTime() + 24 * 60 * 60 * 1000),\r\n            \"yyyy-MM-dd\"\r\n          );\r\n    this.props.changeInputDate(new Date(newDay));\r\n    this.props.setTime(new Date().getTime());\r\n    history.push(\r\n      `/trips?from=${parsed.from}&to=${parsed.to}&date=${newDay}&passengers=${parsed.passengers}`\r\n    );\r\n  };\r\n  // ==== делаем кпопку предыдущей даты неактивной при сегодняшней дате ==== //\r\n  getDisabled = ({ date }) => {\r\n    const yyyy = new Date().getFullYear();\r\n    const mm = new Date().getMonth();\r\n    const dd = new Date().getDate();\r\n    if (new Date(date).getTime() - 7200000 <= new Date(yyyy, mm, dd).getTime()) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { error, isLoading, tripsInfo, trips, history, stops, lang } = this.props;\r\n    const parsed = queryString.parse(this.props.location.search);\r\n    const locale = lang === \"UA\" ? \"UK\" : lang;\r\n    return (\r\n      <IntlProvider locale={locale} messages={messages[locale]}>\r\n        <div className=\"bgnd\">\r\n          <div className=\"container\">\r\n            <div className={styles.formBox}>\r\n              <SearchForm history={history} />\r\n            </div>\r\n            {isLoading && <Loader />}\r\n            {error && <Redirect to=\"/error\" />}\r\n            {Object.keys(trips).length > 0 && (\r\n              <div className={styles.tripsBox}>\r\n                <h3 className={styles.title}>\r\n                  <FormattedMessage id=\"title\" />\r\n                  <br /> {getLocality(parsed.from, stops, lang)} -{\" \"}\r\n                  {getLocality(parsed.to, stops, lang)}\r\n                </h3>\r\n                <div className={styles.dateBox}>\r\n                  <button\r\n                    className={styles.dateButton}\r\n                    name=\"prev\"\r\n                    onClick={this.changeDate}\r\n                    disabled={this.getDisabled(parsed)}\r\n                  >\r\n                    {getYesterday(parsed, lang)}\r\n                  </button>\r\n                  <p className={styles.today}>{getTodayDate(parsed, lang)}</p>\r\n                  <button\r\n                    className={styles.dateButton}\r\n                    name=\"next\"\r\n                    onClick={this.changeDate}\r\n                  >\r\n                    {getTomorrow(parsed, lang)}\r\n                  </button>\r\n                </div>\r\n                <SortTrips\r\n                // onChangeValue={(val) => this.props.changeSortType( val)}\r\n                // value={this.state.value}\r\n                />\r\n                {tripsInfo.map((el, idx) => (\r\n                  <TripBox\r\n                    key={idx}\r\n                    trip={el[`${Object.keys(el)}`]}\r\n                    tripKey={Object.keys(el)}\r\n                    from={getLocality(parsed.from, stops, lang)}\r\n                    to={getLocality(parsed.to, stops, lang)}\r\n                    location={this.props.location}\r\n                  />\r\n                ))}\r\n                <pre>{JSON.stringify(trips, null, 4)}</pre>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </IntlProvider>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  stops: state.global.stops,\r\n  isLoading: state.global.isLoading,\r\n  error: state.global.error,\r\n  trips: state.trips.trips,\r\n  lang: state.language,\r\n  tripsInfo: state.trips.tripsInfo,\r\n  time: state.searchForm.time,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  getTripsInfo: (trips) => dispatch(getTripsInfo(trips)),\r\n  fetchTripsSuccess: (trips) => dispatch(fetchTripsSuccess(trips)),\r\n  startLoader: () => dispatch(startLoader()),\r\n  stopLoader: () => dispatch(stopLoader()),\r\n  getError: (error) => dispatch(getError(error)),\r\n  changeInputDate: (date) => dispatch(inputValueDate(date)),\r\n  setTime: (time) => dispatch(setTime(time)),\r\n  changeSortType: (val) => dispatch(changeSortType(val)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TripsPage);\r\n","import { fetchAllStops, getError } from \"./globalActions\";\r\nimport { getAllStops } from \"../../services/api\";\r\n\r\nexport const fetchStops = () => (dispatch) => {\r\n  getAllStops()\r\n    .then((res) => {\r\n      dispatch(fetchAllStops(res.data));\r\n    })\r\n    .catch((error) => dispatch(getError(error.message)));\r\n};\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\",\n  fillOpacity: 0.5\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z\"\n});\n\nfunction SvgMenuBlack48Dp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    width: \"48px\",\n    height: \"48px\",\n    fill: \"#febb02\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMenuBlack48Dp);\nexport default __webpack_public_path__ + \"static/media/menu-black-48dp.6bb38f26.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { changeLanguage } from \"../../redux/Language/LanguageAction\";\r\nimport styles from \"./LanguageSelect.module.css\";\r\n\r\nconst LanguageSelect = ({ onChangeLanguage, language }) => {\r\n  const handleChange = ({ target }) => {\r\n    onChangeLanguage(target.value);\r\n  };\r\n  return (\r\n    <div className={styles.selectBox}>\r\n      <select className={styles.select} value={language} onChange={handleChange}>\r\n        <option className={styles.option} value=\"RU\">\r\n          Руский\r\n        </option>\r\n        <option className={styles.option} value=\"EN\">\r\n          English\r\n        </option>\r\n        <option className={styles.option} value=\"UA\">\r\n          Українська\r\n        </option>\r\n        <option className={styles.option} value=\"PL\">\r\n          Polski\r\n        </option>\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\nconst mapStateToProps = (state) => ({\r\n  language: state.language,\r\n});\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  onChangeLanguage: (value) => dispatch(changeLanguage(value)),\r\n});\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LanguageSelect);\r\n","import { Types } from '../actionsTypes';\r\n\r\nexport const changeLanguage = value => ({\r\n  type: Types.CHANGE_LANGUAGE,\r\n  payload: value,\r\n});\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { ReactComponent as Menu } from \"../../images/menu-black-48dp.svg\";\r\nimport { getError } from \"../../redux/global/globalActions\";\r\nimport LanguageSelect from \"../Language/LanguageSelect\";\r\n\r\nimport styles from \"./Header.module.css\";\r\n\r\nconst Header = () => {\r\n  const dispatch = useDispatch();\r\n  const clearErorr = (val) => dispatch(getError(val));\r\n  const [isMenu, setIsMenu] = useState(false);\r\n\r\n  const windowWidth = window.innerWidth;\r\n  return (\r\n    <header className={styles.header}>\r\n      <div className={styles.container}>\r\n        <Link to=\"/\" className={styles.link} onClick={() => clearErorr(\"\")}></Link>\r\n        {windowWidth < 768 ? (\r\n          <button\r\n            className={styles.btnMenu}\r\n            type=\"button\"\r\n            onClick={() => setIsMenu(!isMenu)}\r\n          >\r\n            <Menu />\r\n          </button>\r\n        ) : (\r\n          <p className={styles.tel}>\r\n            Связь c оператором: <a href=\"tel: +1 111 111-11-11\">+1 111 111-11-11</a>\r\n          </p>\r\n        )}\r\n        {isMenu && (\r\n          <div className={styles.menuBox}>\r\n            <p>\r\n              Связь c оператором: <a href=\"tel: +1 111 111-11-11\">+1 111 111-11-11</a>\r\n            </p>\r\n            <button type=\"button\" onClick={() => setIsMenu(!isMenu)}>\r\n              close\r\n            </button>\r\n          </div>\r\n        )}\r\n        {/* <MyTicket /> */}\r\n        <LanguageSelect />\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { useEffect, useCallback } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport ErrorPage from \"../pages/ErrorPage\";\r\nimport HomePage from \"../pages/HomePage\";\r\nimport MyTicketPage from \"../pages/MyTicketPage\";\r\nimport OrderPage from \"../pages/OrderPage\";\r\nimport TicketPage from \"../pages/TicketPage\";\r\nimport TripsPage from \"../pages/TripsPage\";\r\nimport { fetchStops } from \"../redux/global/globalOperations\";\r\nimport Header from \"./Header/Header\";\r\n\r\nconst App = () => {\r\n  // ====redux===//\r\n  const dispatch = useDispatch();\r\n  const getStops = useCallback(() => {\r\n    dispatch(fetchStops());\r\n  }, [dispatch]);\r\n\r\n  //  ==== очищаем ошибки и получаем все остановки через redux ==== //\r\n  useEffect(() => {\r\n    getStops();\r\n  }, [getStops]);\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <Header />\r\n        <Switch>\r\n          <Route path=\"/\" exact component={HomePage} />\r\n          <Route path=\"/trips\" component={TripsPage} />\r\n          <Route path=\"/order\" component={OrderPage} />\r\n          <Route path=\"/ticket/:id/:pay\" component={TicketPage} />\r\n          <Route path=\"/myTicket/:id\" component={MyTicketPage} />\r\n          <Route path=\"/error\" component={ErrorPage} />\r\n        </Switch>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HashRouter, Route } from \"react-router-dom\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"./stylesheet/main.css\";\nimport store from \"./redux/store\";\nimport { Provider } from \"react-redux\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    {/* <BrowserRouter> */}\n    <HashRouter>\n      <Provider store={store}>\n        <Route component={App} />\n      </Provider>\n    </HashRouter>\n    {/* </BrowserRouter> */}\n  </React.StrictMode>,\n  document.getElementById(\"trips\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"SearchForm_form__2N48Q\",\"datePicker\":\"SearchForm_datePicker__j9G9j\",\"inputBox\":\"SearchForm_inputBox__1LLcY\",\"searchBtn\":\"SearchForm_searchBtn__2c0Em\",\"arrow\":\"SearchForm_arrow__3msSa\",\"flex\":\"SearchForm_flex__2-iUa\",\"fromTo\":\"SearchForm_fromTo__3Lpht\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"orderBox\":\"TripInfo_orderBox__3vgLA\",\"subTitle\":\"TripInfo_subTitle__SobNd\",\"locality\":\"TripInfo_locality__gODHS\",\"arrow\":\"TripInfo_arrow__10R3M\",\"localityStop\":\"TripInfo_localityStop__19gVr\",\"date\":\"TripInfo_date__of34G\",\"passangersBox\":\"TripInfo_passangersBox__APhtP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"MyTicketPage_list__2gCSw\",\"link\":\"MyTicketPage_link__1L_5j\",\"text\":\"MyTicketPage_text__3c51f\",\"id\":\"MyTicketPage_id__25sjq\",\"main\":\"MyTicketPage_main__2UNEw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formBox\":\"TripsPage_formBox__3-6c5\",\"title\":\"TripsPage_title__wKis6\",\"dateBox\":\"TripsPage_dateBox__NDqTC\",\"dateButton\":\"TripsPage_dateButton__3KUvB\",\"today\":\"TripsPage_today__2bd5E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"time\":\"PaymentBox_time__3ZiR7\",\"warning\":\"PaymentBox_warning__3hpHn\",\"warningText\":\"PaymentBox_warningText__1Vuul\",\"payment\":\"PaymentBox_payment__-PDYU\",\"portmone\":\"PaymentBox_portmone__1X9IH\",\"total\":\"PaymentBox_total__1vfJn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectBox\":\"SortTrips_selectBox__3pZiV\",\"select\":\"SortTrips_select__3lhLX\",\"option\":\"SortTrips_option__1Ujcw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectBox\":\"LanguageSelect_selectBox__27rDG\",\"select\":\"LanguageSelect_select__2dcHR\",\"option\":\"LanguageSelect_option__2gioP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3t9wg\",\"container\":\"Header_container__14E23\",\"link\":\"Header_link__3CZcn\",\"tel\":\"Header_tel__1fGcm\",\"btnMenu\":\"Header_btnMenu__2dA1m\",\"menuBox\":\"Header_menuBox__2TOHz\"};"],"sourceRoot":""}