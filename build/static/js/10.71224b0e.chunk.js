/*! For license information please see 10.71224b0e.chunk.js.LICENSE.txt */
(this.webpackJsonpfirst=this.webpackJsonpfirst||[]).push([[10],{159:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"h",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"i",(function(){return o})),n.d(t,"j",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"m",(function(){return d})),n.d(t,"l",(function(){return f})),n.d(t,"k",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return b}));var a=function(e,t,n){var a=t.localities[e].parent.id,r=t.localities[a]?t.localities[a].name:"";return r?r[n]||r.EN||r.UA||r.RU||r.PL:""},r=function(e,t,n){var a=t.localities[e].name?t.localities[e].name:"";return a?a[n]||a.EN||a.UA||a.RU||a.PL:""},i=function(e,t,n){var a=t.localities[e].address?t.localities[e].address:"";return a?a[n]||a.EN||a.UA||a.RU||a.PL:""},c=function(e,t){var n=t.segments[e].route?t.segments[e].route.name:"";return n?n.EN||n.UA||n.RU||n.PL:""},s=function(e,t,n){var a=t[e].split(" ")[0];return new Date(new Date(a).getTime()).toLocaleString(n,{day:"2-digit",month:"short",year:"2-digit"})},o=function(e,t,n){return t[e].split(" ")[1]},u=function(e,t,n){var a,r;switch(n){case"RU":a="\u0447",r="\u043c\u0438\u043d";break;case"UA":a="\u0433",r="\u0445\u0432";break;case"EN":a="h",r="min";break;case"PL":a="g",r="min"}var i=t.segments[e[0]].departureDate.split(" "),c=t.segments[e[0]].arrivalDate.split(" "),s=60*i[1].split(":")[0]*60*1e3+60*i[1].split(":")[1]*1e3,o=60*c[1].split(":")[0]*60*1e3+60*c[1].split(":")[1]*1e3,u=new Date(i[0]).getTime()+s,l=new Date(c[0]).getTime()+o-u,d=Math.floor(l/36e5),f=Math.floor(l/6e4%60);return"".concat(d).concat(a," ").concat(f).concat(r)},l=function(e,t){return e.reduce((function(e,n){return e+=Number(t.segments[n].price.amount)}),0)},d=function(e,t){var n=e.date;return new Date(new Date(n).getTime()-864e5).toLocaleString(t,{day:"2-digit",month:"long",year:"2-digit"})},f=function(e,t){var n=e.date;return new Date(new Date(n).getTime()+864e5).toLocaleString(t,{day:"2-digit",month:"long",year:"2-digit"})},m=function(e,t){var n=e.date;return new Date(n).toLocaleString(t,{day:"2-digit",month:"long",year:"2-digit"})},p=function(e,t){var n=e.split(" ")[0];return new Date(n).toLocaleString(t,{day:"2-digit",month:"long",year:"2-digit"})},b=function(e){return" ".concat(e.split(" ")[1])}},162:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={UK:{trip:"\u041c\u0430\u0440\u0448\u0440\u0443\u0442:",passangersData:"\u0412\u0456\u0434\u043e\u043c\u043e\u0441\u0442\u0456 \u043f\u0440\u043e \u043f\u0430\u0441\u0430\u0436\u0438\u0440\u0456\u0432",cost:"\u0412\u0430\u0440\u0442\u0456\u0441\u0442\u044c: ",passenger:"\u041f\u0430\u0441\u0430\u0436\u0438\u0440 \u2116:",name:"\u0406\u043c'\u044f",surname:"\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435",phone:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",endTime:"\u0414\u043b\u044f \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u043d\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043e\u043f\u043b\u0430\u0442\u0456\u0442\u044c \u0439\u043e\u0433\u043e \u0434\u043e: ",securityStandart:"\u0412\u0430\u0448\u0456 \u043f\u043b\u0430\u0442\u0456\u0436\u043d\u0456 \u0442\u0430 \u043e\u0441\u043e\u0431\u0438\u0441\u0442\u0456 \u0434\u0430\u043d\u0456 \u043d\u0430\u0434\u0456\u0439\u043d\u043e \u0437\u0430\u0445\u0438\u0449\u0435\u043d\u0456 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u043e \u0434\u043e \u043c\u0456\u0436\u043d\u0430\u0440\u043e\u0434\u043d\u0438\u0445 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u0456\u0432 \u0431\u0435\u0437\u043f\u0435\u043a\u0438",addservices:"\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0456 \u043f\u043e\u0441\u043b\u0443\u0433\u0438",summ:"\u0421\u0443\u043c\u0430 \u0434\u043e \u0441\u043f\u043b\u0430\u0442\u0438: ",pay:"\u0441\u043f\u043b\u0430\u0442\u0438\u0442\u0438 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e:",return:"\u0423\u043c\u043e\u0432\u0438 \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f",booking:"\u0427\u0430\u0441 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0431\u0440\u043e\u043d\u044e\u0432\u0430\u043d\u043d\u044f \u0437\u0430\u043a\u0456\u043d\u0447\u0438\u0432\u0441\u044f",goHome:"\u041f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u0438\u0441\u044f \u043d\u0430 \u0433\u043e\u043b\u043e\u0432\u043d\u0443 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443",uah:"\u0433\u0440\u043d",success:"\u041e\u043f\u043b\u0430\u0442\u0430 \u043f\u0440\u043e\u0439\u0448\u043b\u0430 \u0443\u0441\u043f\u0456\u0448\u043d\u043e!!!",fail:"\u041f\u0440\u0438 \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u043d\u0456 \u043a\u0432\u0438\u0442\u043a\u0430 \u0432\u0438\u043d\u0438\u043a\u043b\u0430 \u043f\u043e\u043c\u0438\u043b\u043a\u0430",number:"\u041d\u043e\u043c\u0435\u0440 \u0412\u0430\u0448\u043e\u0433\u043e \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f ",call:"\u0417\u0432\u044f\u0436\u0456\u0442\u044c\u0441\u044f \u0437 \u0441\u043b\u0443\u0436\u0431\u043e\u044e \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u043a\u0438 \u0437\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u043e\u043c: ",download:"\u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u043a\u0432\u0438\u0442\u043e\u043a",addBtn:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0434\u043e \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f",status:"\u0421\u0442\u0430\u0442\u0443\u0441",order:"\u041d\u043e\u043c\u0435\u0440 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f: "},RU:{trip:"\u041c\u0430\u0440\u0448\u0440\u0443\u0442:",passangersData:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043e \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u0430\u0445:",cost:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c: ",passenger:"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440 \u2116:",name:"\u0418\u043c\u044f",surname:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",phone:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",endTime:"\u0414\u043b\u044f \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u0430 \u043e\u043f\u043b\u0430\u0442\u0438\u0442\u0435 \u0435\u0433\u043e \u0434\u043e: ",securityStandart:"\u0412\u0430\u0448\u0438 \u043f\u043b\u0430\u0442\u0435\u0436\u043d\u044b\u0435 \u0438 \u043b\u0438\u0447\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0430\u0434\u0435\u0436\u043d\u043e \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u044b \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u043c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u043c\u0438 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u0430\u043c\u0438 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438.",addservices:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0443\u0441\u043b\u0443\u0433\u0438",summ:"\u0421\u0443\u043c\u043c\u0430 \u043a \u043e\u043f\u043b\u0430\u0442\u0435: ",pay:"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e",return:"\u0423\u0441\u043b\u043e\u0432\u0438\u044f \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u0430",booking:"\u0412\u0440\u0435\u043c\u044f \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438\u0441\u0442\u0435\u043a\u043b\u043e",goHome:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 ",uah:"\u0433\u0440\u043d",success:"\u041e\u043f\u043b\u0430\u0442\u0430 \u043f\u0440\u043e\u0448\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e !!!",fail:"\u041f\u0440\u0438 \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0438 \u0431\u0438\u043b\u0435\u0442\u0430 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430",number:"\u041d\u043e\u043c\u0435\u0440 \u0432\u0430\u0448\u0435\u0433\u043e \u0437\u0430\u043a\u0430\u0437\u0430",call:"\u0421\u0432\u044f\u0436\u0438\u0442\u0435\u0441\u044c \u0441\u043e \u0441\u043b\u0443\u0436\u0431\u043e\u0439 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 \u043f\u043e \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443: ",download:"\u0441\u043a\u0430\u0447\u0430\u0442\u044c \u0431\u0438\u043b\u0435\u0442",addBtn:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a \u0437\u0430\u043a\u0430\u0437\u0443",status:"\u0421\u0442\u0430\u0442\u0443\u0441",order:"\u041d\u043e\u043c\u0435\u0440 \u0437\u0430\u043a\u0430\u0437\u0430: "},EN:{trip:"Route:",passangersData:"Passenger data:",cost:" Cost:",passenger:"Passenger \u2116:",name:"Name",surname:"Surname",phone:"Phone",endTime:"To place an order, pay for it before: ",securityStandart:"Your payment and personal data are reliably protected in accordance with international security standards.",addservices:"Additional services",summ:"Amount to pay",pay:"Pay with help",return:"Return conditions",booking:"Current booking time has expired",goHome:"Return to the homepage",uah:"uah",success:"The payment was successful !!!",fail:"An error occurred while issuing a ticket",number:"Your order number",call:"Contact support by phone: ",download:"download your ticket",addBtn:"Add to order",status:"Status",order:"Order number: "},PL:{trip:"Trasa:",passangersData:"Dane pasa\u017cera:",cost:"Koszt: ",passenger:"Pasa\u017cera \u2116:",name:"Nazwa",surname:"Nazwisko",phone:"Telefon",endTime:"Aby z\u0142o\u017cy\u0107 zam\xf3wienie, op\u0142a\u0107 je wcze\u015bniej: ",securityStandart:"Twoje p\u0142atno\u015bci i dane osobowe s\u0105 bezpiecznie chronione zgodnie z mi\u0119dzynarodowymi standardami bezpiecze\u0144stwa.",addservices:"Dodatkowe us\u0142ugi",summ:"Kwota do zap\u0142aty",pay:"P\u0142aci\u0107 z pomoc\u0105",return:"Warunki zwrotu",booking:"Aktualny czas rezerwacji up\u0142yn\u0105\u0142",goHome:"Wr\xf3\u0107 do strony g\u0142\xf3wnej",uah:"uah",success:"P\u0142atno\u015b\u0107 si\u0119 powiod\u0142a !!!",fail:"Wyst\u0105pi\u0142 b\u0142\u0105d podczas wystawiania biletu",number:"Numer Twojego zam\xf3wienia",call:"Skontaktuj si\u0119 z obs\u0142ug\u0105 klienta telefonicznie:",download:"pobierz bilet",addBtn:"Doda\u0107 do zam\xf3wienia",status:"Status",order:"Order number: "}}},169:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var a=n(3),r=function(e){return{type:a.a.FETCH_TRIP_KEYS,payload:e}},i=function(e){return{type:a.a.FETCH_TICKET,payload:e}},c=function(e){return{type:a.a.ADDITIONAL_SERVICES,payload:e}}},170:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a,r,i=n(0);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function o(e,t){var n=e.title,o=e.titleId,u=s(e,["title","titleId"]);return i.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",fill:"var(--color-secondary)",width:24,height:24,ref:t,"aria-labelledby":o},u),n?i.createElement("title",{id:o},n):null,a||(a=i.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),r||(r=i.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})))}var u=i.forwardRef(o);n.p},171:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a,r,i=n(0);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function o(e,t){var n=e.title,o=e.titleId,u=s(e,["title","titleId"]);return i.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",fill:"var(--color-secondary)",width:24,height:24,ref:t,"aria-labelledby":o},u),n?i.createElement("title",{id:o},n):null,a||(a=i.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),r||(r=i.createElement("path",{d:"M19 13H5v-2h14v2z"})))}var u=i.forwardRef(o);n.p},177:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return a}))},208:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s}));var a=n(42),r=n(169),i=n(33),c=function(e){return function(t){Object(i.j)(e).then((function(e){var n=e.data;return t(Object(r.a)(n))})).catch((function(e){return t(Object(a.a)(e.message))}))}},s=function(e,t){return function(n){Object(i.n)(e,t).then((function(e){var t=e.data;return n(Object(r.a)(t))})).catch((function(e){return n(Object(a.a)(e.message))}))}}},225:function(e,t,n){"use strict";var a=n(41),r=n(0),i=n(14),c=n(226),s=n.n(c),o=n(147),u=n(149),l=n(162),d=n(1);t.a=function(){var e=Object(i.d)((function(e){return e.language})),t=Object(i.d)((function(e){return e.order.ticket})),n="UA"===e?"UK":e,c=Object(r.useState)([]),f=Object(a.a)(c,2),m=f[0],p=f[1];Object(r.useEffect)((function(){if(Object.keys(t).length>0)for(var e=[],n=0,a=Object.values(t.customers);n<a.length;n++){var r=a[n];e.push({values:r}),p(e)}}),[t]);return Object(d.jsx)(o.a,{locale:n,messages:l.a[n],children:Object(d.jsxs)("div",{className:s.a.passangersBox,children:[Object(d.jsx)("h4",{className:s.a.subTitle,children:Object(d.jsx)(u.a,{id:"passangersData"})}),Object(d.jsx)("ul",{children:m.map((function(e,n){return Object(d.jsxs)("li",{children:[Object(d.jsxs)("div",{className:s.a.header,children:[Object(d.jsxs)("p",{className:s.a.number,children:[Object(d.jsx)(u.a,{id:"passenger"}),n+1]}),Object(d.jsxs)("p",{className:s.a.price,children:[Object(d.jsx)("span",{children:Object(d.jsx)(u.a,{id:"cost"})})," ",(t.services.filter((function(e){return e.hasOwnProperty("segment")})).reduce((function(e,t){return e+t.price.amount}),0)/m.length).toFixed(2)," ",Object(d.jsx)("small",{children:Object(d.jsx)(u.a,{id:"uah"})})]})]}),Object(d.jsxs)("div",{className:s.a.passangerData,children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{className:s.a.passangerTitle,children:Object(d.jsx)(u.a,{id:"name"})}),Object(d.jsx)("p",{className:s.a.passangerName,children:e.values.name})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{className:s.a.passangerTitle,children:Object(d.jsx)(u.a,{id:"surname"})}),Object(d.jsx)("p",{className:s.a.passangerName,children:e.values.surname})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{className:s.a.passangerTitle,children:Object(d.jsx)(u.a,{id:"phone"})}),Object(d.jsx)("p",{className:s.a.passangerName,children:e.values.phone})]})]})]},n)}))})]})})}},226:function(e,t,n){e.exports={passangersBox:"PassengersData_passangersBox__2OOgk",subTitle:"PassengersData_subTitle__29wG9",header:"PassengersData_header__NVGzD",number:"PassengersData_number__IHxg_",price:"PassengersData_price__3JM-K",passangerData:"PassengersData_passangerData__2wmc0",passangerTitle:"PassengersData_passangerTitle__IB--I",passangerName:"PassengersData_passangerName__1M8Og",title:"PassengersData_title__6l9lO"}},227:function(e,t,n){"use strict";n(0);var a=n(14),r=n(228),i=n.n(r),c=n(147),s=n(149),o=n(162),u=n(159),l=n(1);t.a=function(e){var t=e.routs,n=Object(a.d)((function(e){return e.language})),r=Object(a.d)((function(e){return e.order.ticket})),d="UA"===n?"UK":n;return Object(l.jsx)(c.a,{locale:d,messages:o.a[d],children:Object(l.jsxs)("div",{className:i.a.orderBox,children:[Object(l.jsx)("h4",{className:i.a.subTitle,children:Object(l.jsx)(s.a,{id:"trip"})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{className:i.a.locality,children:Object(u.b)(r.segments[Object.keys(t[0])[0]].departure.id,r,n)}),Object(l.jsx)("p",{className:i.a.localityStop,children:Object(u.h)(r.segments[Object.keys(t[0])[0]].departure.id,r,n)}),Object(l.jsxs)("p",{className:i.a.date,children:[Object(u.c)("departureDate",r.segments[Object.keys(t[0])[0]],n)," ",Object(u.i)("departureDate",r.segments[Object.keys(t[0])[0]],n)]})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{className:i.a.locality,children:Object(u.b)(r.segments[Object.keys(t[t.length-1])[0]].arrival.id,r,n)}),Object(l.jsx)("p",{className:i.a.localityStop,children:Object(u.h)(r.segments[Object.keys(t[t.length-1])[0]].arrival.id,r,n)}),Object(l.jsxs)("p",{className:i.a.date,children:[Object(u.c)("arrivalDate",r.segments[Object.keys(t[t.length-1])[0]],n)," ",Object(u.i)("arrivalDate",r.segments[Object.keys(t[t.length-1])[0]],n)]})]})]})})}},228:function(e,t,n){e.exports={orderBox:"TripInfo_orderBox__1dSE3",locality:"TripInfo_locality__2IGqX",subTitle:"TripInfo_subTitle__3-9Jl",arrow:"TripInfo_arrow__1L1Je",localityStop:"TripInfo_localityStop__1HLg_",date:"TripInfo_date__2Ya6B",passangersBox:"TripInfo_passangersBox__Ddz0_"}},229:function(e,t,n){"use strict";n(0);var a=n(14),r=n(162),i=n(147),c=n(149),s=n(230),o=n.n(s),u=n(1);t.a=function(e){var t=e.addServ,n=Object(a.d)((function(e){return e.order.ticket})),s=Object(a.d)((function(e){return e.language})),l="UA"===s?"UK":s;return Object(u.jsx)(i.a,{locale:l,messages:r.a[l],children:Object(u.jsxs)("div",{className:o.a.box,children:[Object(u.jsx)("h4",{className:o.a.title,children:Object(u.jsx)(c.a,{id:"addservices"})}),Object(u.jsx)("div",{className:o.a.flex,children:t.map((function(e){return Object(u.jsx)("div",{className:o.a.item,children:Object(u.jsxs)("p",{children:[n.additionalServices[e].name[s],":",Object(u.jsxs)("span",{children:[" ",(t=e,n.services.filter((function(e){var n;return(null===e||void 0===e||null===(n=e.additionalService)||void 0===n?void 0:n.id)===t})).reduce((function(e,t){return e+=t.price.amount}),0)).toFixed(2),Object(u.jsx)("small",{children:Object(u.jsx)(c.a,{id:"uah"})})]})]})},e);var t}))})]})})}},230:function(e,t,n){e.exports={box:"AdditionalServicesData_box__E2rGd",title:"AdditionalServicesData_title__3NowY",item:"AdditionalServicesData_item__36O0i",flex:"AdditionalServicesData_flex__2Y38e"}},250:function(e,t,n){"use strict";n(0);var a=n(313),r=n.n(a),i=n(314),c=n.n(i),s=n(1);t.a=function(){return Object(s.jsx)("div",{className:c.a.loader,children:Object(s.jsx)(r.a,{type:"BallTriangle",color:"#00BFFF",height:100,width:100})})}},279:function(e,t){},280:function(e,t){},285:function(e,t){},286:function(e,t){},291:function(e,t){},292:function(e,t){},294:function(e,t){},298:function(e,t){},300:function(e,t){},303:function(e,t){},308:function(e,t){},310:function(e,t){},314:function(e,t,n){e.exports={loader:"Loader_loader__rbNku"}},704:function(e,t,n){e.exports={data:"TicketPage_data__1m1Cf"}},705:function(e,t,n){(function(t){var a=n(706),r=n(708),i=n(56),c=n(714),s=n(715);e.exports=function(e){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=n(e);function u(e,t,n,a){return new(n||(n=Promise))((function(r,i){function c(e){try{o(a.next(e))}catch(e){i(e)}}function s(e){try{o(a.throw(e))}catch(e){i(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,s)}o((a=a.apply(e,t||[])).next())}))}var l={};function d(e){var t=l[e];if(t)return t;var n=new Promise((function(t,n){var a=document.createElement("script");a.src=e,a.async=!0;var r=function(){t()},i=function t(){a.removeEventListener("load",r),a.removeEventListener("error",t),delete l[e],a.remove(),n(new Error("Unable to load script "+e))};a.addEventListener("load",r),a.addEventListener("error",i),document.body.appendChild(a)}));return l[e]=n,n}var f=function(){function e(t){var n=this;c(this,e),this.handleClick=function(){return u(n,void 0,void 0,i.mark((function e(){var t,n,a;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.config){e.next=3;break}throw new Error("google-pay-button: Missing configuration");case 3:return n=this.createLoadPaymentDataRequest(t),e.prev=4,e.next=7,this.client.loadPaymentData(n);case 7:a=e.sent,t.onLoadPaymentData&&t.onLoadPaymentData(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),"CANCELED"===e.t0.statusCode?t.onCancel&&t.onCancel(e.t0):t.onError?t.onError(e.t0):console.error(e.t0);case 14:case"end":return e.stop()}}),e,this,[[4,11]])})))},this.options=t}return s(e,[{key:"getElement",value:function(){return this.element}},{key:"isGooglePayLoaded",value:function(){var e,n;return"google"in(window||t)&&!!(null===(n=null===(e=null===google||void 0===google?void 0:google.payments)||void 0===e?void 0:e.api)||void 0===n?void 0:n.PaymentsClient)}},{key:"mount",value:function(e){return u(this,void 0,void 0,i.mark((function t(){return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.isGooglePayLoaded(),t.t0){t.next=4;break}return t.next=4,d("https://pay.google.com/gp/p/js/pay.js");case 4:this.element=e,e&&(this.appendStyles(),this.config&&this.updateElement());case 6:case"end":return t.stop()}}),t,this)})))}},{key:"unmount",value:function(){this.element=void 0}},{key:"configure",value:function(e){var t=void 0;return this.config=e,this.oldInvalidationValues&&!this.isClientInvalidated(e)||(t=this.updateElement()),this.oldInvalidationValues=this.getInvalidationValues(e),null!=t?t:Promise.resolve()}},{key:"createClientOptions",value:function(e){var t={environment:e.environment,merchantInfo:this.createMerchantInfo(e)};return(e.onPaymentDataChanged||e.onPaymentAuthorized)&&(t.paymentDataCallbacks={},e.onPaymentDataChanged&&(t.paymentDataCallbacks.onPaymentDataChanged=function(t){return e.onPaymentDataChanged(t)||{}}),e.onPaymentAuthorized&&(t.paymentDataCallbacks.onPaymentAuthorized=function(t){return e.onPaymentAuthorized(t)||{}})),t}},{key:"createIsReadyToPayRequest",value:function(e){var t=e.paymentRequest;return{apiVersion:t.apiVersion,apiVersionMinor:t.apiVersionMinor,allowedPaymentMethods:t.allowedPaymentMethods,existingPaymentMethodRequired:e.existingPaymentMethodRequired}}},{key:"createLoadPaymentDataRequest",value:function(e){return Object.assign(Object.assign({},e.paymentRequest),{merchantInfo:this.createMerchantInfo(e)})}},{key:"createMerchantInfo",value:function(e){var t=Object.assign({},e.paymentRequest.merchantInfo);return t.softwareInfo||(t.softwareInfo={id:this.options.softwareInfoId,version:this.options.softwareInfoVersion}),t}},{key:"isMounted",value:function(){return null!=this.element&&!1!==this.element.isConnected}},{key:"removeButton",value:function(){if(this.element instanceof ShadowRoot||this.element instanceof Element)for(var e=0,t=Array.from(this.element.children);e<t.length;e++){var n=t[e];"STYLE"!==n.tagName&&n.remove()}}},{key:"updateElement",value:function(){var e;return u(this,void 0,void 0,i.mark((function t(){var n,a,r,c,s,o,u;return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isMounted()){t.next=2;break}return t.abrupt("return");case 2:if(n=this.element,this.config){t.next=5;break}throw new Error("google-pay-button: Missing configuration");case 5:return this.removeButton(),this.client=new google.payments.api.PaymentsClient(this.createClientOptions(this.config)),a={buttonType:this.config.buttonType,buttonColor:this.config.buttonColor,buttonSizeMode:this.config.buttonSizeMode,buttonLocale:this.config.buttonLocale,onClick:this.handleClick},(r=null===(e=this.element)||void 0===e?void 0:e.getRootNode())instanceof ShadowRoot&&(a.buttonRootNode=r),c=this.client.createButton(a),this.setClassName(n,[n.className,"not-ready"]),n.appendChild(c),o=!1,t.prev=11,t.next=14,this.client.isReadyToPay(this.createIsReadyToPayRequest(this.config));case 14:s=t.sent,o=s.result&&!this.config.existingPaymentMethodRequired||s.result&&s.paymentMethodPresent&&this.config.existingPaymentMethodRequired||!1,t.next=21;break;case 18:t.prev=18,t.t0=t.catch(11),this.config.onError?this.config.onError(t.t0):console.error(t.t0);case 21:if(this.isMounted()){if(o){try{this.client.prefetchPaymentData(this.createLoadPaymentDataRequest(this.config))}catch(e){console.log("Error with prefetch",e)}this.setClassName(n,(n.className||"").split(" ").filter((function(e){return e&&"not-ready"!==e})))}this.isReadyToPay===(null==s?void 0:s.result)&&this.paymentMethodPresent===(null==s?void 0:s.paymentMethodPresent)||(this.isReadyToPay=!!(null==s?void 0:s.result),this.paymentMethodPresent=null==s?void 0:s.paymentMethodPresent,!this.config.onReadyToPayChange)||(u={isButtonVisible:o,isReadyToPay:this.isReadyToPay},this.paymentMethodPresent&&(u.paymentMethodPresent=this.paymentMethodPresent),this.config.onReadyToPayChange(u))}case 22:case"end":return t.stop()}}),t,this,[[11,18]])})))}},{key:"setClassName",value:function(e,t){var n=t.filter((function(e){return e})).join(" ");n?e.className=n:e.removeAttribute("class")}},{key:"appendStyles",value:function(){var e,t,n;if("undefined"!=typeof document){var a=null===(e=this.element)||void 0===e?void 0:e.getRootNode(),r="default-google-style-".concat(this.options.cssSelector.replace(/[^\w-]+/g,""),"-").concat(null===(t=this.config)||void 0===t?void 0:t.buttonLocale);if(a&&!(null===(n=a.getElementById)||void 0===n?void 0:n.call(a,r))){var i=document.createElement("style");i.id=r,i.type="text/css",i.innerHTML="\n          ".concat(this.options.cssSelector," {\n            display: inline-block;\n          }\n          ").concat(this.options.cssSelector,".not-ready {\n            width: 0;\n            height: 0;\n            overflow: hidden;\n          }\n        "),a instanceof Document&&a.head?a.head.appendChild(i):a.appendChild(i)}}}},{key:"isClientInvalidated",value:function(e){var t=this;return!this.oldInvalidationValues||this.getInvalidationValues(e).some((function(e,n){return e!==t.oldInvalidationValues[n]}))}},{key:"getInvalidationValues",value:function(e){var t,n;return[e.environment,e.existingPaymentMethodRequired,!!e.onPaymentDataChanged,!!e.onPaymentAuthorized,e.buttonColor,e.buttonType,e.buttonLocale,e.buttonSizeMode,e.paymentRequest.merchantInfo.merchantId,e.paymentRequest.merchantInfo.merchantName,null===(t=e.paymentRequest.merchantInfo.softwareInfo)||void 0===t?void 0:t.id,null===(n=e.paymentRequest.merchantInfo.softwareInfo)||void 0===n?void 0:n.version]}}]),e}(),m="google-pay-button-container";return function(e){a(n,e);var t=r(n);function n(){var e;return c(this,n),(e=t.apply(this,arguments)).manager=new f({cssSelector:"."+m,softwareInfoId:"@google-pay/button-react",softwareInfoVersion:"2.3.0"}),e.elementRef=o.default.createRef(),e}return s(n,[{key:"componentDidMount",value:function(){return u(this,void 0,void 0,i.mark((function e(){var t;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.elementRef.current,e.t0=t,!e.t0){e.next=6;break}return e.next=5,this.manager.mount(t);case 5:this.manager.configure(this.props);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"componentWillUnmount",value:function(){this.manager.unmount()}},{key:"componentDidUpdate",value:function(){this.manager.configure(this.props)}},{key:"render",value:function(){return o.default.createElement("div",{ref:this.elementRef,className:[m,this.props.className].filter((function(e){return e})).join(" "),style:this.props.style})}}]),n}(o.default.Component)}(n(0))}).call(this,n(51))},706:function(e,t,n){var a=n(707);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}},707:function(e,t){function n(t,a){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,a)}e.exports=n},708:function(e,t,n){var a=n(709),r=n(710),i=n(711);e.exports=function(e){var t=r();return function(){var n,r=a(e);if(t){var c=a(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return i(this,n)}}},709:function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},710:function(e,t){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},711:function(e,t,n){var a=n(712),r=n(713);e.exports=function(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?r(e):t}},712:function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},713:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},714:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},715:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}e.exports=function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}},716:function(e,t,n){e.exports={time:"PaymentBox_time__1_NZQ",warning:"PaymentBox_warning__3Pk17",warningText:"PaymentBox_warningText__XvFOp",payment:"PaymentBox_payment__1od8k",portmone:"PaymentBox_portmone__ea5YD",google:"PaymentBox_google__2x1G3",flexItem:"PaymentBox_flexItem__f7IeP",total:"PaymentBox_total__1YF6P",box3ds:"PaymentBox_box3ds__2SDk2",btn3ds:"PaymentBox_btn3ds__1_359",infoblock:"PaymentBox_infoblock__1xu-I",images:"PaymentBox_images__3A-Zf",img:"PaymentBox_img__X-vqn",returnConditions:"PaymentBox_returnConditions__WaWD6",payType:"PaymentBox_payType__1zpv-"}},717:function(e,t,n){e.exports={box:"GoHome_box__1ZK2b",text:"GoHome_text__24yxD",link:"GoHome_link__2WIHQ"}},718:function(e,t,n){e.exports={box:"ReturnConditions_box__7vhEM",title:"ReturnConditions_title__2aJWz",close:"ReturnConditions_close__31oGF",text:"ReturnConditions_text__3QtkC"}},719:function(e,t,n){e.exports={passangersData:"AddAdditionalServices_passangersData__11qUZ",title:"AddAdditionalServices_title__1l_tY",box:"AddAdditionalServices_box__2-YOs",flex:"AddAdditionalServices_flex__22hWq",item:"AddAdditionalServices_item__HB0Z9",description:"AddAdditionalServices_description__o2pyN",img:"AddAdditionalServices_img__1Afv2",btn:"AddAdditionalServices_btn__22mu6",total:"AddAdditionalServices_total__2arPY",controlers:"AddAdditionalServices_controlers__1keIe",totalbutton:"AddAdditionalServices_totalbutton__1lHzr",checkbox:"AddAdditionalServices_checkbox__3fh_r",nameAddServ:"AddAdditionalServices_nameAddServ__2EYq2"}},883:function(e,t,n){"use strict";n.r(t);var a=n(177),r=n(41),i=n(0),c=n.n(i),s=n(14),o=n(208),u=n(704),l=n.n(u),d=n(9),f=n(884),m=n(147),p=n(149),b=n(705),j=n.n(b),h=n(716),v=n.n(h),y=n(162),O=n(159),g=n(33),x=n(24),_=n(717),w=n.n(_),P=n(1),k=c.a.forwardRef((function(e,t){var n=Object(s.d)((function(e){return e.language})),a="UA"===n?"UK":n;return Object(P.jsx)(m.a,{locale:a,messages:y.a[a],children:Object(P.jsxs)("div",{className:w.a.box,ref:t,children:[Object(P.jsx)("p",{className:w.a.text,children:Object(P.jsx)(p.a,{id:"booking"})}),Object(P.jsx)(x.b,{to:"/",className:w.a.link,children:Object(P.jsx)(p.a,{id:"goHome"})})]})})})),S=n(250),N=n(80),I=n(81),D=n(82),T=n(718),A=n.n(T),R=n(70),C=c.a.forwardRef((function(e,t){var n=e.segments,a=e.close,r=Object(s.d)((function(e){return e.order.ticket})),i=Object(s.d)((function(e){return e.language}));return Object(P.jsxs)("div",{className:A.a.box,ref:t,children:[Object(P.jsx)(R.a,{fill:"var(--color-main)",onClick:a,className:A.a.close}),n.map((function(e,t){return Object(P.jsxs)("div",{children:[Object(P.jsxs)("h5",{className:A.a.title,children:[Object(O.b)(r.segments[e.segment.id].departure.id,r,i)," -"," ",Object(O.b)(r.segments[e.segment.id].arrival.id,r,i)]}),Object(P.jsx)("ul",{children:e.price.tariff.returnConditions.map((function(e,t){return Object(P.jsx)("p",{className:A.a.text,children:e.title.EN},t)}))})]},t)}))]})})),E=function(e){var t=e.routs,n=e.orderId,a=Object(s.d)((function(e){return e.language})),c=Object(s.d)((function(e){return e.order.ticket})),o="UA"===a?"UK":a,u=Object(i.useState)(0),l=Object(r.a)(u,2),b=l[0],h=l[1],x=Object(i.useState)(!1),_=Object(r.a)(x,2),w=_[0],T=_[1],A=Object(i.useState)(null),R=Object(r.a)(A,2),E=R[0],M=R[1],z=Object(i.useState)(!1),L=Object(r.a)(z,2),U=L[0],B=L[1],q=Object(i.useState)([]),H=Object(r.a)(q,2),V=H[0],F=H[1],K=Object(i.useState)(0),Y=Object(r.a)(K,2),G=Y[0],W=Y[1],J=JSON.parse(localStorage.getItem("auth")),Z=Object(d.g)(),Q=Object(i.useRef)();Object(i.useEffect)((function(){W(X().toFixed(2));var e=c.services[0].expire.split(" ").join("T"),t=new Date(e).getTime(),n=(new Date).getTime();h(t-n)}),[]),Object(i.useEffect)((function(){if(E){if(E.need3ds)return void Q.current.submit();E.payed&&Z.push("/myTicket/".concat(n,"/").concat(c.primaryPaymentParams.paymentParamsId)),T(!1)}}),[E]),Object(i.useEffect)((function(){if(b<0)return B(!0),void h(0);var e=setInterval((function(){h(b-1e3)}),1e3);return function(){return clearInterval(e)}}),[b]);var X=function(){var e=c.services.filter((function(e){return e.hasOwnProperty("segment")})),t=c.services.filter((function(e){return e.hasOwnProperty("additionalService")})),n=e.reduce((function(e,t){return e+t.price.amount}),0),a=t.reduce((function(e,t){return e+t.price.amount}),0);return J?.85*n+a:n+a},$=function(){F([])};return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(m.a,{locale:o,messages:y.a[o],children:[Object(P.jsxs)("div",{className:v.a.warning,children:[Object(P.jsxs)("p",{className:v.a.warningText,children:[Object(P.jsx)(p.a,{id:"endTime"}),Object(P.jsxs)("span",{children:[" ",Object(O.d)(c.services[0].expire,o),Object(O.e)(c.services[0].expire)]})]}),Object(P.jsx)("p",{className:v.a.time,children:new Date(b).toLocaleString("uk",{minute:"2-digit",second:"2-digit"})})]}),Object(P.jsxs)("div",{className:v.a.payment,children:[Object(P.jsxs)("div",{className:v.a.infoblock,children:[Object(P.jsx)("p",{children:Object(P.jsx)(p.a,{id:"securityStandart"})}),Object(P.jsxs)("div",{className:v.a.images,children:[Object(P.jsx)("div",{className:v.a.img,children:Object(P.jsx)("img",{src:N.a,alt:"visa"})}),Object(P.jsx)("div",{className:v.a.img,children:Object(P.jsx)("img",{src:D.a,alt:"visa"})}),Object(P.jsx)("div",{className:v.a.img,children:Object(P.jsx)("img",{src:I.a,alt:"visa"})})]})]}),Object(P.jsxs)("div",{className:v.a.flexItem,children:[Object(P.jsx)("p",{children:Object(P.jsx)(p.a,{id:"summ"})}),Object(P.jsxs)("p",{className:v.a.total,children:[G,Object(P.jsx)("small",{children:Object(P.jsx)(p.a,{id:"uah"})})]})]}),J&&Object(P.jsxs)("div",{className:v.a.flexItem,children:[Object(P.jsx)("p",{children:"\u041a\u043e\u043c\u0456\u0441\u0456\u044f \u0430\u0433\u0435\u043d\u0442\u0430: "}),Object(P.jsxs)("p",{className:v.a.total,children:[(.15*c.services.filter((function(e){return e.hasOwnProperty("segment")})).reduce((function(e,t){return e+t.price.amount}),0)).toFixed(2),Object(P.jsx)("small",{children:Object(P.jsx)(p.a,{id:"uah"})})]})]}),Object(P.jsxs)("div",{className:v.a.flexItem,children:[Object(P.jsx)("p",{children:Object(P.jsx)(p.a,{id:"pay"})}),Object(P.jsxs)("div",{className:v.a.payType,children:[""!==c.primaryPaymentParams.sellerToken&&Object(P.jsx)(j.a,{className:v.a.google,environment:"PRODUCTION",buttonType:"short",paymentRequest:{apiVersion:2,apiVersionMinor:0,allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:["MASTERCARD","VISA"]},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:c.primaryPaymentParams.gpayGateway,gatewayMerchantId:c.primaryPaymentParams.gpayMerchantId}}}],merchantInfo:{merchantId:"BCR2DN6TSOFZJADQ",merchantName:"VEZE"},transactionInfo:{totalPriceStatus:"FINAL",totalPriceLabel:"Total",totalPrice:"".concat(G),currencyCode:"UAH",countryCode:"UA"}},onError:function(e){d.a},onLoadPaymentData:function(e){T(!0),function(e){Object(g.l)(e,c.orderId,c.primaryPaymentParams.paymentParamsId).then((function(e){var t=e.data;return M(t)})).catch((function(e){return console.log(e)}))}(e)}}),Object(P.jsxs)("form",{action:"https://www.portmone.com.ua/gateway/",method:"post",children:[Object(P.jsx)("input",{type:"hidden",name:"payee_id",value:c.secondaryPaymentParams.payeeId}),Object(P.jsx)("input",{type:"hidden",name:"shop_order_number",value:c.orderId}),Object(P.jsx)("input",{type:"hidden",name:"bill_amount",value:G}),Object(P.jsx)("input",{type:"hidden",name:"description",value:"".concat(Object(O.b)(c.segments[Object.keys(t[0])[0]].departure.id,c,a)," - ").concat(Object(O.b)(c.segments[Object.keys(t[t.length-1])[0]].arrival.id,c,a)," \n              ").concat(Object(O.c)("departureDate",c.segments[Object.keys(t[0])[0]],a),"\n              ")}),Object(P.jsx)("input",{type:"hidden",name:"success_url",value:"https://veze.club/myTicket/".concat(n,"/").concat(c.secondaryPaymentParams.paymentParamsId)}),Object(P.jsx)("input",{type:"hidden",name:"failure_url",value:"https://veze.club/ticket/".concat(n)}),Object(P.jsx)("input",{type:"hidden",name:"lang",value:o.toLowerCase()}),Object(P.jsx)("input",{type:"hidden",name:"encoding",value:"UTF-8"}),Object(P.jsx)("input",{type:"hidden",name:"exp_time",value:(b/1e3).toFixed()}),Object(P.jsx)("button",{className:v.a.portmone,type:"submit",onClick:function(){T(!0)}})]})]})]}),Object(P.jsx)("button",{type:"button",onClick:function(){F(c.services.filter((function(e){return e.hasOwnProperty("segment")})).reduce((function(e,t){return e.map[t.segment.id]||(e.map[t.segment.id]=!0,e.item.push(t)),e}),{map:{},item:[]}).item)},className:v.a.returnConditions,children:Object(P.jsx)(p.a,{id:"return"})})]}),Object(P.jsx)(f.a,{open:V.length>0,onClose:$,children:Object(P.jsx)(C,{segments:V,close:$})}),Object(P.jsx)(f.a,{open:U,disableBackdropClick:!0,children:Object(P.jsx)(k,{})}),E&&Object(P.jsxs)("form",{ref:Q,id:"TheForm",action:E.params3ds.action,method:"POST",name:"TheForm",children:[Object(P.jsx)("input",{type:"hidden",name:"PaReq",value:E.params3ds.PaReq}),Object(P.jsx)("input",{type:"hidden",name:"MD",value:E.params3ds.MD}),Object(P.jsx)("input",{type:"hidden",name:"TermUrl",value:"https://busis.eu/gds-sale/api/v1/transaction/callback/3ds/".concat(c.orderId,"/").concat(c.primaryPaymentParams.paymentParamsId,"?")+"successURL="+encodeURIComponent("https://veze.club/myTicket/".concat(n,"/").concat(c.primaryPaymentParams.paymentParamsId))+"&errorURL="+encodeURIComponent("https://veze.club/ticket/".concat(n))})]})]}),w&&Object(P.jsx)(S.a,{})]})},M=n(227),z=n(225),L=n(277),U=n.n(L),B=n(229),q=n(163),H=n(170),V=n(171),F=n(719),K=n.n(F),Y=function(e){var t=e.data,n=e.keys,a=e.changeRouts,c=Object(s.d)((function(e){return e.language})),u=Object(s.d)((function(e){return e.order.ticket})),l=Object(s.c)(),d=Object(i.useCallback)((function(e){return l(Object(o.a)(e))}),[l]),f=Object(i.useState)([]),b=Object(r.a)(f,2),j=b[0],h=b[1],v=Object(i.useState)(0),O=Object(r.a)(v,2),x=O[0],_=O[1],w="UA"===c?"UK":c;Object(i.useEffect)((function(){_(j.reduce((function(e,n){return e+ +t[n.additionalService.id].price.amount}),0))}),[j]);var k=function(e){h((function(t){return[].concat(Object(q.a)(t),[{additionalService:{id:e},customer:{id:"0"}}])}))},S=function(e){h((function(t){var n=t.findIndex((function(t){return t.additionalService.id===e})),a=t.slice(0,n),r=t.slice(n+1);return[].concat(Object(q.a)(a),Object(q.a)(r))}))},N=function(e){h((function(t){return t.filter((function(t){return t.additionalService.id!==e}))}))};return Object(P.jsxs)(m.a,{locale:w,messages:y.a[w],children:[n.map((function(e){return Object(P.jsx)(G,{addKey:e,data:t,handleAddServices:k,handleRemoveServices:N,handleRemoveOneServices:S},e)})),Object(P.jsxs)("div",{className:K.a.total,children:[Object(P.jsxs)("p",{children:[Object(P.jsx)(p.a,{id:"addservices"}),": ",x," ",Object(P.jsxs)("span",{children:[Object(P.jsx)(p.a,{id:"uah"})," "]})]}),Object(P.jsx)("button",{className:K.a.totalbutton,disabled:j.length<=0,onClick:function(){return function(){a();var e={lang:c,currency:"UAH"};e.customers={0:u.customers[0]},e.services=j,Object(g.p)(u.orderId,e).then((function(e){var t=e.data;return d(t.orderId)})).catch((function(e){return console.log(e)}))}()},children:Object(P.jsx)(p.a,{id:"addBtn"})})]})]})},G=function(e){var t=e.addKey,n=e.data,a=e.handleAddServices,c=e.handleRemoveServices,o=e.handleRemoveOneServices,u=Object(s.d)((function(e){return e.language})),l=Object(i.useState)(1),d=Object(r.a)(l,2),f=d[0],b=d[1],j=Object(i.useState)(!1),h=Object(r.a)(j,2),v=h[0],O=h[1],g="UA"===u?"UK":u;return Object(P.jsx)(m.a,{locale:g,messages:y.a[g],children:Object(P.jsxs)("div",{className:K.a.box,children:[Object(P.jsxs)("div",{className:K.a.flex,children:[Object(P.jsxs)("div",{className:K.a.item,children:[Object(P.jsx)("div",{className:K.a.img,children:Object(P.jsx)("img",{src:"https://busis.eu/gds-sale/api/v1/additional/icon/".concat(n[t].additionals.iconId),alt:"icon"})}),Object(P.jsxs)("div",{className:K.a.description,children:[Object(P.jsxs)("b",{className:K.a.nameAddServ,children:[n[t].name[u],": ",n[t].price.amount,Object(P.jsx)("small",{children:Object(P.jsx)(p.a,{id:"uah"})})]}),Object(P.jsx)("p",{children:n[t].description[u]})]})]}),Object(P.jsx)("input",{type:"checkbox",className:K.a.checkbox,onChange:function(){v?(c(t),b(1)):a(t),O(!v)},checked:v})]}),v&&n[t].enableCount&&Object(P.jsxs)("div",{className:K.a.controlers,children:[Object(P.jsx)("button",{type:"button",onClick:function(){b(f-1),o(t)},disabled:f<=1,className:K.a.btn,children:Object(P.jsx)(V.a,{})}),Object(P.jsx)("span",{children:f}),Object(P.jsx)("button",{type:"button",onClick:function(){b(f+1),a(t)},className:K.a.btn,children:Object(P.jsx)(H.a,{})})]})]})})};t.default=function(){var e=Object(s.c)(),t=Object(i.useCallback)((function(t){return e(Object(o.a)(t))}),[e]),n=Object(s.d)((function(e){return e.order.ticket})),c=Object(i.useState)([]),u=Object(r.a)(c,2),f=u[0],m=u[1],p=Object(i.useState)(!0),b=Object(r.a)(p,2),j=b[0],h=b[1],v=Object(i.useState)([]),y=Object(r.a)(v,2),O=y[0],x=y[1],_=Object(i.useState)(null),w=Object(r.a)(_,2),k=w[0],N=w[1],I=Object(i.useState)([]),D=Object(r.a)(I,2),T=D[0],A=D[1],R=Object(d.i)().orderId;Object(i.useEffect)((function(){var e=atob(R),n=U.a.AES.decrypt(e,"KeyVeze").toString(U.a.enc.Utf8);t(n)}),[t,R]),Object(i.useEffect)((function(){if(Object.keys(n).length>0){for(var e=[],t=0,i=Object.entries(n.segments);t<i.length;t++){var c=Object(r.a)(i[t],2),s=c[0],o=c[1];e.push(Object(a.a)({},s,o))}m(e.sort((function(e,t){return new Date(e[Object.keys(e)[0]].departureDate).getTime()-new Date(t[Object.keys(t)[0]].departureDate).getTime()}))),x(Array.from(new Set(n.services.filter((function(e){return e.hasOwnProperty("additionalService")})).reduce((function(e,t){return e.push(t.additionalService.id),e}),[]))))}}),[n]),Object(i.useEffect)((function(){if(Object.keys(n).length>0){var e=n.services.filter((function(e){return e.hasOwnProperty("segment")})).reduce((function(e,t){return e.push({id:t.id}),e}),[]);Object(g.g)(n.orderId,e).then((function(e){var t=e.data;h(!1),C(t.searchId,Date.now())})).catch((function(e){return console.log(e)}))}}),[O]);var C=function e(t,n){var a=Date.now()-n;a<=500&&Object(g.c)(t).then((function(t){var a=t.data;if(a.searchId)e(a.searchId,n);else{if(!a.additionalServices)return;L(a)}})).catch((function(e){return console.log(e)})),a>500&&setTimeout((function(){Object(g.c)(t).then((function(t){var a=t.data;if(a.searchId)e(a.searchId,n);else{if(!a.additionalServices)return;L(a)}})).catch((function(e){return console.log(e)}))}),300)},L=function(e){for(var t=[],n=0,a=Object.keys(e.additionalServices);n<a.length;n++){var r=a[n];O.includes(r)||t.push(r)}N(e.additionalServices),A(t)};return Object(P.jsxs)("div",{className:"bgnd",children:[f.length>0&&Object(P.jsxs)("div",{className:"container",children:[Object(P.jsxs)("div",{className:l.a.data,children:[Object(P.jsx)(M.a,{routs:f}),Object(P.jsx)(z.a,{}),O.length>0&&Object(P.jsx)(B.a,{addServ:O})]}),T.length>0&&Object(P.jsx)("div",{className:l.a.data,children:Object(P.jsx)(Y,{data:k,keys:T,changeRouts:function(){m([]),h(!0)}})}),Object(P.jsx)("div",{className:l.a.data,children:Object(P.jsx)(E,{routs:f,orderId:R})})]}),j&&Object(P.jsx)(S.a,{})]})}}}]);
//# sourceMappingURL=10.71224b0e.chunk.js.map