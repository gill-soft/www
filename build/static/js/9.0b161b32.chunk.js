/*! For license information please see 9.0b161b32.chunk.js.LICENSE.txt */
(this.webpackJsonpfirst=this.webpackJsonpfirst||[]).push([[9],{161:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"g",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"l",(function(){return d})),n.d(t,"k",(function(){return f})),n.d(t,"j",(function(){return m})),n.d(t,"d",(function(){return p}));var a=function(e,t,n){var a=t.localities[e].parent.id,r=t.localities[a]?t.localities[a].name:"";return r?r[n]||r.EN||r.UA||r.RU||r.PL:""},r=function(e,t,n){var a=t.localities[e].name?t.localities[e].name:"";return a?a[n]||a.EN||a.UA||a.RU||a.PL:""},i=function(e,t,n){var a=t.localities[e].address?t.localities[e].address:"";return a?a[n]||a.EN||a.UA||a.RU||a.PL:""},o=function(e,t){var n=t.segments[e].route?t.segments[e].route.name:"";return n?n.EN||n.UA||n.RU||n.PL:""},s=function(e,t,n){return new Date(t[e]).toLocaleString(n,{day:"2-digit",month:"short",year:"2-digit"})},c=function(e,t,n){return new Date(t[e]).toLocaleString(n,{hour:"2-digit",minute:"2-digit"})},u=function(e,t,n){var a,r;switch(n){case"RU":a="\u0447",r="\u043c\u0438\u043d";break;case"UA":a="\u0433",r="\u0445\u0432";break;case"EN":a="h",r="min";break;case"PL":a="g",r="min"}var i=new Date(t.segments[e[0]].departureDate).getTime(),o=new Date(t.segments[e[e.length-1]].arrivalDate).getTime()-i,s=Math.floor(o/36e5),c=Math.floor(o/6e4%60);return"".concat(s).concat(a," ").concat(c).concat(r)},l=function(e,t){return e.reduce((function(e,n){return e+=Number(t.segments[n].price.amount)}),0)},d=function(e,t){var n=e.date;return new Date(new Date(n).getTime()-864e5).toLocaleString(t,{day:"2-digit",month:"long",year:"2-digit"})},f=function(e,t){var n=e.date;return new Date(new Date(n).getTime()+864e5).toLocaleString(t,{day:"2-digit",month:"long",year:"2-digit"})},m=function(e,t){var n=e.date;return new Date(n).toLocaleString(t,{day:"2-digit",month:"long",year:"2-digit"})},p=function(e,t){return new Date(e).toLocaleString(t,{day:"2-digit",month:"long",year:"2-digit",hour:"2-digit",minute:"2-digit"})}},173:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var a=n(3),r=function(e){return{type:a.a.FETCH_TRIP_KEYS,payload:e}},i=function(e){return{type:a.a.FETCH_TICKET,payload:e}},o=function(e){return{type:a.a.ADDITIONAL_SERVICES,payload:e}}},184:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return a}))},196:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={EN:{trip:"Route:",passangersData:"Passenger data:",cost:" Cost:",passenger:"Passenger \u2116:",name:"Name",surname:"Surname",phone:"Phone",endTime:"To place an order, pay for it before: "},RU:{trip:"\u041c\u0430\u0440\u0448\u0440\u0443\u0442:",passangersData:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043e \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u0430\u0445:",cost:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c: ",passenger:"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440 \u2116:",name:"\u0418\u043c\u044f",surname:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",phone:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",endTime:"\u0414\u043b\u044f \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u0430 \u043e\u043f\u043b\u0430\u0442\u0438\u0442\u0435 \u0435\u0433\u043e \u0434\u043e: "},UK:{trip:"\u041c\u0430\u0440\u0448\u0440\u0443\u0442:",passangersData:"\u0412\u0456\u0434\u043e\u043c\u043e\u0441\u0442\u0456 \u043f\u0440\u043e \u043f\u0430\u0441\u0430\u0436\u0438\u0440\u0456\u0432",cost:"\u0412\u0430\u0440\u0442\u0456\u0441\u0442\u044c: ",passenger:"\u041f\u0430\u0441\u0430\u0436\u0438\u0440 \u2116:",name:"\u0406\u043c'\u044f",surname:"\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435",phone:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",endTime:"\u0414\u043b\u044f \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u043d\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043e\u043f\u043b\u0430\u0442\u0456\u0442\u044c \u0439\u043e\u0433\u043e \u0434\u043e: "},PL:{trip:"Trasa:",passangersData:"Dane pasa\u017cera:",cost:"Koszt: ",passenger:"Pasa\u017cera \u2116:",name:"Nazwa",surname:"Nazwisko",phone:"Telefon",endTime:"Aby z\u0142o\u017cy\u0107 zam\xf3wienie, op\u0142a\u0107 je wcze\u015bniej: "}}},256:function(e,t){},257:function(e,t){},262:function(e,t){},263:function(e,t){},268:function(e,t){},269:function(e,t){},271:function(e,t){},275:function(e,t){},277:function(e,t){},280:function(e,t){},285:function(e,t){},287:function(e,t){},290:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var a=n(42),r=n(173),i=n(33),o=function(e){return function(t){Object(i.e)(e).then((function(e){var n=e.data;return t(Object(r.a)(n))})).catch((function(e){return t(Object(a.a)(e.message))}))}},s=function(e,t){return function(n){Object(i.i)(e,t).then((function(e){var t=e.data;return n(Object(r.a)(t))})).catch((function(e){return n(Object(a.a)(e.message))}))}}},291:function(e,t,n){"use strict";var a=n(41),r=n(0),i=n(16),o=n(292),s=n.n(o),c=n(149),u=n(151),l=n(196),d=n(1);t.a=function(){var e=Object(i.d)((function(e){return e.language})),t=Object(i.d)((function(e){return e.order.ticket})),n="UA"===e?"UK":e,o=Object(r.useState)([]),f=Object(a.a)(o,2),m=f[0],p=f[1];Object(r.useEffect)((function(){if(Object.keys(t).length>0)for(var e=[],n=0,a=Object.values(t.customers);n<a.length;n++){var r=a[n];e.push({values:r}),p(e)}}),[t]);return Object(d.jsx)(c.a,{locale:n,messages:l.a[n],children:Object(d.jsxs)("div",{className:s.a.passangersBox,children:[Object(d.jsx)("h4",{className:s.a.subTitle,children:Object(d.jsx)(u.a,{id:"passangersData"})}),Object(d.jsx)("ul",{children:m.map((function(e,n){return Object(d.jsxs)("li",{children:[Object(d.jsxs)("div",{className:s.a.header,children:[Object(d.jsxs)("p",{className:s.a.number,children:[Object(d.jsx)(u.a,{id:"passenger"}),n+1]}),Object(d.jsxs)("p",{className:s.a.price,children:[Object(d.jsx)("span",{children:Object(d.jsx)(u.a,{id:"cost"})})," ",(t.services.filter((function(e){return e.hasOwnProperty("segment")})).reduce((function(e,t){return e+t.price.amount}),0)/m.length).toFixed(2)," ",Object(d.jsx)("small",{children:"UAH"})]})]}),Object(d.jsxs)("div",{className:s.a.passangerData,children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{className:s.a.passangerTitle,children:Object(d.jsx)(u.a,{id:"name"})}),Object(d.jsx)("p",{className:s.a.passangerName,children:e.values.name})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{className:s.a.passangerTitle,children:Object(d.jsx)(u.a,{id:"surname"})}),Object(d.jsx)("p",{className:s.a.passangerName,children:e.values.surname})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{className:s.a.passangerTitle,children:Object(d.jsx)(u.a,{id:"phone"})}),Object(d.jsx)("p",{className:s.a.passangerName,children:e.values.phone})]})]})]},n)}))})]})})}},292:function(e,t,n){e.exports={passangersBox:"PassengersData_passangersBox__2OOgk",subTitle:"PassengersData_subTitle__29wG9",header:"PassengersData_header__NVGzD",number:"PassengersData_number__IHxg_",price:"PassengersData_price__3JM-K",passangerData:"PassengersData_passangerData__2wmc0",passangerTitle:"PassengersData_passangerTitle__IB--I",passangerName:"PassengersData_passangerName__1M8Og",title:"PassengersData_title__6l9lO"}},293:function(e,t,n){"use strict";n(0);var a=n(16),r=n(294),i=n.n(r),o=n(149),s=n(151),c=n(196),u=n(161),l=n(1);t.a=function(e){var t=e.routs,n=Object(a.d)((function(e){return e.language})),r=Object(a.d)((function(e){return e.order.ticket})),d="UA"===n?"UK":n;return Object(l.jsx)(o.a,{locale:d,messages:c.a[d],children:Object(l.jsxs)("div",{className:i.a.orderBox,children:[Object(l.jsx)("h4",{className:i.a.subTitle,children:Object(l.jsx)(s.a,{id:"trip"})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{className:i.a.locality,children:Object(u.b)(r.segments[Object.keys(t[0])[0]].departure.id,r,n)}),Object(l.jsx)("p",{className:i.a.localityStop,children:Object(u.g)(r.segments[Object.keys(t[0])[0]].departure.id,r,n)}),Object(l.jsxs)("p",{className:i.a.date,children:[Object(u.c)("departureDate",r.segments[Object.keys(t[0])[0]],n)," ",Object(u.h)("departureDate",r.segments[Object.keys(t[0])[0]],n)]})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{className:i.a.locality,children:Object(u.b)(r.segments[Object.keys(t[t.length-1])[0]].arrival.id,r,n)}),Object(l.jsx)("p",{className:i.a.localityStop,children:Object(u.g)(r.segments[Object.keys(t[t.length-1])[0]].arrival.id,r,n)}),Object(l.jsxs)("p",{className:i.a.date,children:[Object(u.c)("arrivalDate",r.segments[Object.keys(t[t.length-1])[0]],n)," ",Object(u.h)("arrivalDate",r.segments[Object.keys(t[t.length-1])[0]],n)]})]})]})})}},294:function(e,t,n){e.exports={orderBox:"TripInfo_orderBox__1dSE3",locality:"TripInfo_locality__2IGqX",subTitle:"TripInfo_subTitle__3-9Jl",arrow:"TripInfo_arrow__1L1Je",localityStop:"TripInfo_localityStop__1HLg_",date:"TripInfo_date__2Ya6B",passangersBox:"TripInfo_passangersBox__Ddz0_"}},295:function(e,t,n){"use strict";n(0);var a=n(16),r=n(296),i=n.n(r),o=n(1);t.a=function(e){var t=e.addServ,n=Object(a.d)((function(e){return e.order.ticket})),r=Object(a.d)((function(e){return e.language}));return Object(o.jsxs)("div",{className:i.a.box,children:[Object(o.jsx)("h4",{className:i.a.title,children:"\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0456 \u043f\u043e\u0441\u043b\u0443\u0433\u0438"}),Object(o.jsx)("div",{className:i.a.flex,children:t.map((function(e){return Object(o.jsxs)("div",{className:i.a.item,children:[Object(o.jsxs)("p",{children:[n.additionalServices[e].name[r],": "]}),Object(o.jsxs)("p",{children:[(t=e,n.services.filter((function(e){var n;return(null===e||void 0===e||null===(n=e.additionalService)||void 0===n?void 0:n.id)===t})).reduce((function(e,t){return e+=t.price.amount}),0))," ",Object(o.jsx)("small",{children:"UAH"})]})]},e);var t}))})]})}},296:function(e,t,n){e.exports={box:"AdditionalServicesData_box__E2rGd",title:"AdditionalServicesData_title__3NowY",item:"AdditionalServicesData_item__36O0i",flex:"AdditionalServicesData_flex__2Y38e"}},297:function(e,t,n){"use strict";n(0);var a=n(393),r=n.n(a),i=n(298),o=n.n(i),s=n(1);t.a=function(){return Object(s.jsx)("div",{className:o.a.loader,children:Object(s.jsx)(r.a,{type:"BallTriangle",color:"#00BFFF",height:100,width:100})})}},298:function(e,t,n){e.exports={loader:"Loader_loader__rbNku"}},655:function(e,t,n){e.exports={data:"TicketPage_data__1m1Cf"}},656:function(e,t,n){(function(t){var a=n(657),r=n(659),i=n(57),o=n(665),s=n(666);e.exports=function(e){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=n(e);function u(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{c(a.next(e))}catch(e){i(e)}}function s(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((a=a.apply(e,t||[])).next())}))}var l={};function d(e){var t=l[e];if(t)return t;var n=new Promise((function(t,n){var a=document.createElement("script");a.src=e,a.async=!0;var r=function(){t()},i=function t(){a.removeEventListener("load",r),a.removeEventListener("error",t),delete l[e],a.remove(),n(new Error("Unable to load script "+e))};a.addEventListener("load",r),a.addEventListener("error",i),document.body.appendChild(a)}));return l[e]=n,n}var f=function(){function e(t){var n=this;o(this,e),this.handleClick=function(){return u(n,void 0,void 0,i.mark((function e(){var t,n,a;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.config){e.next=3;break}throw new Error("google-pay-button: Missing configuration");case 3:return n=this.createLoadPaymentDataRequest(t),e.prev=4,e.next=7,this.client.loadPaymentData(n);case 7:a=e.sent,t.onLoadPaymentData&&t.onLoadPaymentData(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),"CANCELED"===e.t0.statusCode?t.onCancel&&t.onCancel(e.t0):t.onError?t.onError(e.t0):console.error(e.t0);case 14:case"end":return e.stop()}}),e,this,[[4,11]])})))},this.options=t}return s(e,[{key:"getElement",value:function(){return this.element}},{key:"isGooglePayLoaded",value:function(){var e,n;return"google"in(window||t)&&!!(null===(n=null===(e=null===google||void 0===google?void 0:google.payments)||void 0===e?void 0:e.api)||void 0===n?void 0:n.PaymentsClient)}},{key:"mount",value:function(e){return u(this,void 0,void 0,i.mark((function t(){return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.isGooglePayLoaded(),t.t0){t.next=4;break}return t.next=4,d("https://pay.google.com/gp/p/js/pay.js");case 4:this.element=e,e&&(this.appendStyles(),this.config&&this.updateElement());case 6:case"end":return t.stop()}}),t,this)})))}},{key:"unmount",value:function(){this.element=void 0}},{key:"configure",value:function(e){var t=void 0;return this.config=e,this.oldInvalidationValues&&!this.isClientInvalidated(e)||(t=this.updateElement()),this.oldInvalidationValues=this.getInvalidationValues(e),null!=t?t:Promise.resolve()}},{key:"createClientOptions",value:function(e){var t={environment:e.environment,merchantInfo:this.createMerchantInfo(e)};return(e.onPaymentDataChanged||e.onPaymentAuthorized)&&(t.paymentDataCallbacks={},e.onPaymentDataChanged&&(t.paymentDataCallbacks.onPaymentDataChanged=function(t){return e.onPaymentDataChanged(t)||{}}),e.onPaymentAuthorized&&(t.paymentDataCallbacks.onPaymentAuthorized=function(t){return e.onPaymentAuthorized(t)||{}})),t}},{key:"createIsReadyToPayRequest",value:function(e){var t=e.paymentRequest;return{apiVersion:t.apiVersion,apiVersionMinor:t.apiVersionMinor,allowedPaymentMethods:t.allowedPaymentMethods,existingPaymentMethodRequired:e.existingPaymentMethodRequired}}},{key:"createLoadPaymentDataRequest",value:function(e){return Object.assign(Object.assign({},e.paymentRequest),{merchantInfo:this.createMerchantInfo(e)})}},{key:"createMerchantInfo",value:function(e){var t=Object.assign({},e.paymentRequest.merchantInfo);return t.softwareInfo||(t.softwareInfo={id:this.options.softwareInfoId,version:this.options.softwareInfoVersion}),t}},{key:"isMounted",value:function(){return null!=this.element&&!1!==this.element.isConnected}},{key:"removeButton",value:function(){if(this.element instanceof ShadowRoot||this.element instanceof Element)for(var e=0,t=Array.from(this.element.children);e<t.length;e++){var n=t[e];"STYLE"!==n.tagName&&n.remove()}}},{key:"updateElement",value:function(){var e;return u(this,void 0,void 0,i.mark((function t(){var n,a,r,o,s,c,u;return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isMounted()){t.next=2;break}return t.abrupt("return");case 2:if(n=this.element,this.config){t.next=5;break}throw new Error("google-pay-button: Missing configuration");case 5:return this.removeButton(),this.client=new google.payments.api.PaymentsClient(this.createClientOptions(this.config)),a={buttonType:this.config.buttonType,buttonColor:this.config.buttonColor,buttonSizeMode:this.config.buttonSizeMode,buttonLocale:this.config.buttonLocale,onClick:this.handleClick},(r=null===(e=this.element)||void 0===e?void 0:e.getRootNode())instanceof ShadowRoot&&(a.buttonRootNode=r),o=this.client.createButton(a),this.setClassName(n,[n.className,"not-ready"]),n.appendChild(o),c=!1,t.prev=11,t.next=14,this.client.isReadyToPay(this.createIsReadyToPayRequest(this.config));case 14:s=t.sent,c=s.result&&!this.config.existingPaymentMethodRequired||s.result&&s.paymentMethodPresent&&this.config.existingPaymentMethodRequired||!1,t.next=21;break;case 18:t.prev=18,t.t0=t.catch(11),this.config.onError?this.config.onError(t.t0):console.error(t.t0);case 21:if(this.isMounted()){if(c){try{this.client.prefetchPaymentData(this.createLoadPaymentDataRequest(this.config))}catch(e){console.log("Error with prefetch",e)}this.setClassName(n,(n.className||"").split(" ").filter((function(e){return e&&"not-ready"!==e})))}this.isReadyToPay===(null==s?void 0:s.result)&&this.paymentMethodPresent===(null==s?void 0:s.paymentMethodPresent)||(this.isReadyToPay=!!(null==s?void 0:s.result),this.paymentMethodPresent=null==s?void 0:s.paymentMethodPresent,!this.config.onReadyToPayChange)||(u={isButtonVisible:c,isReadyToPay:this.isReadyToPay},this.paymentMethodPresent&&(u.paymentMethodPresent=this.paymentMethodPresent),this.config.onReadyToPayChange(u))}case 22:case"end":return t.stop()}}),t,this,[[11,18]])})))}},{key:"setClassName",value:function(e,t){var n=t.filter((function(e){return e})).join(" ");n?e.className=n:e.removeAttribute("class")}},{key:"appendStyles",value:function(){var e,t,n;if("undefined"!=typeof document){var a=null===(e=this.element)||void 0===e?void 0:e.getRootNode(),r="default-google-style-".concat(this.options.cssSelector.replace(/[^\w-]+/g,""),"-").concat(null===(t=this.config)||void 0===t?void 0:t.buttonLocale);if(a&&!(null===(n=a.getElementById)||void 0===n?void 0:n.call(a,r))){var i=document.createElement("style");i.id=r,i.type="text/css",i.innerHTML="\n          ".concat(this.options.cssSelector," {\n            display: inline-block;\n          }\n          ").concat(this.options.cssSelector,".not-ready {\n            width: 0;\n            height: 0;\n            overflow: hidden;\n          }\n        "),a instanceof Document&&a.head?a.head.appendChild(i):a.appendChild(i)}}}},{key:"isClientInvalidated",value:function(e){var t=this;return!this.oldInvalidationValues||this.getInvalidationValues(e).some((function(e,n){return e!==t.oldInvalidationValues[n]}))}},{key:"getInvalidationValues",value:function(e){var t,n;return[e.environment,e.existingPaymentMethodRequired,!!e.onPaymentDataChanged,!!e.onPaymentAuthorized,e.buttonColor,e.buttonType,e.buttonLocale,e.buttonSizeMode,e.paymentRequest.merchantInfo.merchantId,e.paymentRequest.merchantInfo.merchantName,null===(t=e.paymentRequest.merchantInfo.softwareInfo)||void 0===t?void 0:t.id,null===(n=e.paymentRequest.merchantInfo.softwareInfo)||void 0===n?void 0:n.version]}}]),e}(),m="google-pay-button-container";return function(e){a(n,e);var t=r(n);function n(){var e;return o(this,n),(e=t.apply(this,arguments)).manager=new f({cssSelector:"."+m,softwareInfoId:"@google-pay/button-react",softwareInfoVersion:"2.3.0"}),e.elementRef=c.default.createRef(),e}return s(n,[{key:"componentDidMount",value:function(){return u(this,void 0,void 0,i.mark((function e(){var t;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.elementRef.current,e.t0=t,!e.t0){e.next=6;break}return e.next=5,this.manager.mount(t);case 5:this.manager.configure(this.props);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"componentWillUnmount",value:function(){this.manager.unmount()}},{key:"componentDidUpdate",value:function(){this.manager.configure(this.props)}},{key:"render",value:function(){return c.default.createElement("div",{ref:this.elementRef,className:[m,this.props.className].filter((function(e){return e})).join(" "),style:this.props.style})}}]),n}(c.default.Component)}(n(0))}).call(this,n(52))},657:function(e,t,n){var a=n(658);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}},658:function(e,t){function n(t,a){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,a)}e.exports=n},659:function(e,t,n){var a=n(660),r=n(661),i=n(662);e.exports=function(e){var t=r();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return i(this,n)}}},660:function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},661:function(e,t){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},662:function(e,t,n){var a=n(663),r=n(664);e.exports=function(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?r(e):t}},663:function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},664:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},665:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},666:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}e.exports=function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}},667:function(e,t,n){e.exports={time:"PaymentBox_time__1_NZQ",warning:"PaymentBox_warning__3Pk17",warningText:"PaymentBox_warningText__XvFOp",payment:"PaymentBox_payment__1od8k",portmone:"PaymentBox_portmone__ea5YD",google:"PaymentBox_google__2x1G3",flexItem:"PaymentBox_flexItem__f7IeP",total:"PaymentBox_total__1YF6P",box3ds:"PaymentBox_box3ds__2SDk2",btn3ds:"PaymentBox_btn3ds__1_359",infoblock:"PaymentBox_infoblock__1xu-I",images:"PaymentBox_images__3A-Zf",img:"PaymentBox_img__X-vqn",returnConditions:"PaymentBox_returnConditions__WaWD6",payType:"PaymentBox_payType__1zpv-"}},668:function(e,t,n){e.exports={box:"GoHome_box__1ZK2b",text:"GoHome_text__24yxD",link:"GoHome_link__2WIHQ"}},669:function(e,t,n){e.exports={box:"ReturnConditions_box__7vhEM",title:"ReturnConditions_title__2aJWz",close:"ReturnConditions_close__31oGF",text:"ReturnConditions_text__3QtkC"}},721:function(e,t,n){"use strict";n.r(t);var a=n(184),r=n(41),i=n(0),o=n.n(i),s=n(16),c=n(290),u=n(655),l=n.n(u),d=n(9),f=n(228),m=n.n(f),p=n(720),h=n(149),j=n(151),b=n(656),y=n.n(b),g=n(667),v=n.n(g),O=n(196),x=n(161),_=n(33),P=n(26),w=n(668),N=n.n(w),k=n(1),D=o.a.forwardRef((function(e,t){return Object(k.jsxs)("div",{className:N.a.box,ref:t,children:[Object(k.jsx)("p",{className:N.a.text,children:"\u0412\u0440\u0435\u043c\u044f \u0434\u043b\u044f \u043e\u043f\u043b\u0430\u0442\u044b \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u043e\u0441\u044c"}),Object(k.jsx)(P.b,{to:"/",className:N.a.link,children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"})]})})),T=n(297),S=n(80),I=n(81),R=n(82),C=n(669),E=n.n(C),M=n(68),A=o.a.forwardRef((function(e,t){var n=e.segments,a=e.close,r=Object(s.d)((function(e){return e.order.ticket})),i=Object(s.d)((function(e){return e.language}));return Object(k.jsxs)("div",{className:E.a.box,ref:t,children:[Object(k.jsx)(M.a,{fill:"var(--color-main)",onClick:a,className:E.a.close}),n.map((function(e,t){return Object(k.jsxs)("div",{children:[Object(k.jsxs)("h5",{className:E.a.title,children:[Object(x.b)(r.segments[e.segment.id].departure.id,r,i)," -"," ",Object(x.b)(r.segments[e.segment.id].arrival.id,r,i)]}),Object(k.jsx)("ul",{children:e.price.tariff.returnConditions.map((function(e,t){return Object(k.jsx)("p",{className:E.a.text,children:e.title.EN},t)}))})]},t)}))]})})),L=function(e){var t=e.routs,n=e.orderId,a=e.primary,o=e.secondary,c=Object(s.d)((function(e){return e.language})),u=Object(s.d)((function(e){return e.order.ticket})),l="UA"===c?"UK":c,f=Object(i.useState)(0),b=Object(r.a)(f,2),g=b[0],P=b[1],w=Object(i.useState)(!1),N=Object(r.a)(w,2),C=N[0],E=N[1],M=Object(i.useState)(null),L=Object(r.a)(M,2),B=L[0],U=L[1],z=Object(i.useState)(""),V=Object(r.a)(z,2),q=V[0],F=V[1],G=Object(i.useState)(null),K=Object(r.a)(G,2),H=K[0],Y=K[1],J=Object(i.useState)(null),W=Object(r.a)(J,2),Q=W[0],X=W[1],Z=Object(i.useState)(!1),$=Object(r.a)(Z,2),ee=$[0],te=$[1],ne=Object(i.useState)([]),ae=Object(r.a)(ne,2),re=ae[0],ie=ae[1],oe=Object(i.useState)(0),se=Object(r.a)(oe,2),ce=se[0],ue=se[1],le=Object(d.g)(),de=Object(i.useRef)();Object(i.useEffect)((function(){F(m.a.AES.decrypt(atob(n),"KeyVeze").toString(m.a.enc.Utf8)),Y(JSON.parse(m.a.AES.decrypt(atob(a),"KeyVeze").toString(m.a.enc.Utf8))),X(JSON.parse(m.a.AES.decrypt(atob(o),"KeyVeze").toString(m.a.enc.Utf8))),ue(fe().toFixed(2));var e=new Date(u.services[0].expire).getTime(),t=(new Date).getTime();P(e-t)}),[]),Object(i.useEffect)((function(){if(B){if(B.need3ds)return void de.current.submit();B.payed&&le.push("/myTicket/".concat(n,"/").concat(H.paymentParamsId))}}),[B]),Object(i.useEffect)((function(){if(g<0)return te(!0),void P(0);var e=setInterval((function(){P(g-1e3)}),1e3);return function(){return clearInterval(e)}}),[g]);var fe=function(){return u.services.reduce((function(e,t){return e+t.price.amount}),0)},me=function(){ie([])};return Object(k.jsxs)(k.Fragment,{children:[H&&Q&&Object(k.jsxs)(h.a,{locale:l,messages:O.a[l],children:[Object(k.jsxs)("div",{className:v.a.warning,children:[Object(k.jsxs)("p",{className:v.a.warningText,children:[Object(k.jsx)(j.a,{id:"endTime"}),Object(k.jsxs)("span",{children:[" ",Object(x.d)(u.services[0].expire,l)]})]}),Object(k.jsx)("p",{className:v.a.time,children:new Date(g).toLocaleString("uk",{minute:"2-digit",second:"2-digit"})})]}),Object(k.jsxs)("div",{className:v.a.payment,children:[Object(k.jsxs)("div",{className:v.a.infoblock,children:[Object(k.jsx)("p",{children:"\u0412\u0430\u0448\u0456 \u043f\u043b\u0430\u0442\u0456\u0436\u043d\u0456 \u0442\u0430 \u043e\u0441\u043e\u0431\u0438\u0441\u0442\u0456 \u0434\u0430\u043d\u0456 \u043d\u0430\u0434\u0456\u0439\u043d\u043e \u0437\u0430\u0445\u0438\u0449\u0435\u043d\u0456 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u043e \u0434\u043e \u043c\u0456\u0436\u043d\u0430\u0440\u043e\u0434\u043d\u0438\u0445 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u0456\u0432 \u0431\u0435\u0437\u043f\u0435\u043a\u0438."}),Object(k.jsxs)("div",{className:v.a.images,children:[Object(k.jsx)("div",{className:v.a.img,children:Object(k.jsx)("img",{src:S.a,alt:"visa"})}),Object(k.jsx)("div",{className:v.a.img,children:Object(k.jsx)("img",{src:R.a,alt:"visa"})}),Object(k.jsx)("div",{className:v.a.img,children:Object(k.jsx)("img",{src:I.a,alt:"visa"})})]})]}),Object(k.jsxs)("div",{className:v.a.flexItem,children:[Object(k.jsx)("p",{children:"\u0421\u0443\u043c\u0430 \u0434\u043e \u0441\u043f\u043b\u0430\u0442\u0438: "}),Object(k.jsxs)("p",{className:v.a.total,children:[ce,Object(k.jsx)("small",{children:" \u0433\u0440\u043d"})]})]}),Object(k.jsxs)("div",{className:v.a.flexItem,children:[Object(k.jsx)("p",{children:"\u0441\u043f\u043b\u0430\u0442\u0438\u0442\u0438 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e:"}),Object(k.jsxs)("div",{className:v.a.payType,children:[""!==H.sellerToken&&Object(k.jsx)(y.a,{className:v.a.google,environment:"TEST",buttonType:"short",paymentRequest:{apiVersion:2,apiVersionMinor:0,allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:["MASTERCARD","VISA"]},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:H.gpayGateway,gatewayMerchantId:H.gpayMerchantId}}}],merchantInfo:{merchantId:H.gpayMerchantId,merchantName:"Demo Merchant"},transactionInfo:{totalPriceStatus:"FINAL",totalPriceLabel:"Total",totalPrice:"4.00",currencyCode:"UAH",countryCode:"UA"}},onLoadPaymentData:function(e){return function(e){Object(_.g)(e,q,H.paymentParamsId).then((function(e){var t=e.data;return U(t)})).catch((function(e){return console.log(e)}))}(e)}}),Object(k.jsxs)("form",{action:"https://www.portmone.com.ua/gateway/",method:"post",children:[Object(k.jsx)("input",{type:"hidden",name:"payee_id",value:Q.payeeId}),Object(k.jsx)("input",{type:"hidden",name:"shop_order_number",value:u.orderId}),Object(k.jsx)("input",{type:"hidden",name:"bill_amount",value:ce}),Object(k.jsx)("input",{type:"hidden",name:"description",value:"".concat(Object(x.b)(u.segments[Object.keys(t[0])[0]].departure.id,u,c)," - ").concat(Object(x.b)(u.segments[Object.keys(t[t.length-1])[0]].arrival.id,u,c)," \n              ").concat(Object(x.c)("departureDate",u.segments[Object.keys(t[0])[0]],c),"\n              ")}),Object(k.jsx)("input",{type:"hidden",name:"success_url",value:"https://site.busis.eu/myTicket/".concat(n,"/").concat(Q.paymentParamsId)}),Object(k.jsx)("input",{type:"hidden",name:"failure_url",value:"http://localhost:3000/ticket/".concat(n,"/").concat(a,"/").concat(o)}),Object(k.jsx)("input",{type:"hidden",name:"lang",value:l.toLowerCase()}),Object(k.jsx)("input",{type:"hidden",name:"encoding",value:"UTF-8"}),Object(k.jsx)("input",{type:"hidden",name:"exp_time",value:"1000"}),Object(k.jsx)("button",{className:v.a.portmone,type:"submit",onClick:function(){E(!0)}})]})]})]}),Object(k.jsx)("button",{type:"button",onClick:function(){re.length>0?ie([]):ie(u.services.reduce((function(e,t){return t.hasOwnProperty("segment")&&e.push(t),e}),[]).reduce((function(e,t){return e.map[t.segment.id]||(e.map[t.segment.id]=!0,e.item.push(t)),e}),{map:{},item:[]}).item)},className:v.a.returnConditions,children:"\u0423\u043c\u043e\u0432\u0438 \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f"})]}),Object(k.jsx)(p.a,{open:re.length>0,onClose:me,children:Object(k.jsx)(A,{segments:re,close:me})}),Object(k.jsx)(p.a,{open:ee,disableBackdropClick:!0,children:Object(k.jsx)(D,{})}),B&&Object(k.jsxs)("form",{ref:de,id:"TheForm",action:B.params3ds.action,method:"POST",name:"TheForm",children:[Object(k.jsx)("input",{type:"hidden",name:"PaReq",value:B.params3ds.PaReq}),Object(k.jsx)("input",{type:"hidden",name:"MD",value:B.params3ds.MD}),Object(k.jsx)("input",{type:"hidden",name:"TermUrl",value:"http://localhost:3000/ticket/".concat(n,"/").concat(a,"/").concat(o)})]})]}),C&&Object(k.jsx)(T.a,{})]})},B=n(293),U=n(291),z=n(295);t.default=function(){var e=Object(s.c)(),t=Object(s.d)((function(e){return e.order.ticket})),n=Object(i.useState)([]),o=Object(r.a)(n,2),u=o[0],f=o[1],p=Object(i.useState)([]),h=Object(r.a)(p,2),j=h[0],b=h[1],y=Object(d.i)(),g=y.orderId,v=y.primary,O=y.secondary;return Object(i.useEffect)((function(){var t=atob(g);!function(t){e(Object(c.a)(t))}(m.a.AES.decrypt(t,"KeyVeze").toString(m.a.enc.Utf8))}),[e,g]),Object(i.useEffect)((function(){if(Object.keys(t).length>0){for(var e=[],n=0,i=Object.entries(t.segments);n<i.length;n++){var o=Object(r.a)(i[n],2),s=o[0],c=o[1];e.push(Object(a.a)({},s,c))}f(e.sort((function(e,t){return new Date(e[Object.keys(e)[0]].departureDate).getTime()-new Date(t[Object.keys(t)[0]].departureDate).getTime()}))),b(Array.from(new Set(t.services.filter((function(e){return e.hasOwnProperty("additionalService")})).reduce((function(e,t){return e.push(t.additionalService.id),e}),[]))))}}),[t]),Object(k.jsx)("div",{className:"bgnd",children:u.length>0&&Object(k.jsxs)("div",{className:"container",children:[Object(k.jsxs)("div",{className:l.a.data,children:[Object(k.jsx)(B.a,{routs:u}),Object(k.jsx)(U.a,{}),j.length>0&&Object(k.jsx)(z.a,{addServ:j})]}),Object(k.jsx)("div",{className:l.a.data,children:Object(k.jsx)(L,{routs:u,orderId:g,primary:v,secondary:O})})]})})}}}]);
//# sourceMappingURL=9.0b161b32.chunk.js.map