/*! For license information please see 9.b8ee5f2a.chunk.js.LICENSE.txt */
(this.webpackJsonpfirst=this.webpackJsonpfirst||[]).push([[9],{161:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"h",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"i",(function(){return c})),n.d(t,"j",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"m",(function(){return d})),n.d(t,"l",(function(){return m})),n.d(t,"k",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return h}));var a=function(e,t,n){var a=t.localities[e].parent.id,r=t.localities[a]?t.localities[a].name:"";return r?r[n]||r.EN||r.UA||r.RU||r.PL:""},r=function(e,t,n){var a=t.localities[e].name?t.localities[e].name:"";return a?a[n]||a.EN||a.UA||a.RU||a.PL:""},i=function(e,t,n){var a=t.localities[e].address?t.localities[e].address:"";return a?a[n]||a.EN||a.UA||a.RU||a.PL:""},o=function(e,t){var n=t.segments[e].route?t.segments[e].route.name:"";return n?n.EN||n.UA||n.RU||n.PL:""},s=function(e,t,n){var a=t[e].split(" ")[0];return new Date(new Date(a).getTime()).toLocaleString(n,{day:"2-digit",month:"short",year:"2-digit"})},c=function(e,t,n){return t[e].split(" ")[1]},u=function(e,t,n){var a,r;switch(n){case"RU":a="\u0447",r="\u043c\u0438\u043d";break;case"UA":a="\u0433",r="\u0445\u0432";break;case"EN":a="h",r="min";break;case"PL":a="g",r="min"}var i=t.segments[e[0]].departureDate.split(" "),o=t.segments[e[0]].arrivalDate.split(" "),s=60*i[1].split(":")[0]*60*1e3+60*i[1].split(":")[1]*1e3,c=60*o[1].split(":")[0]*60*1e3+60*o[1].split(":")[1]*1e3,u=new Date(i[0]).getTime()+s,l=new Date(o[0]).getTime()+c-u,d=Math.floor(l/36e5),m=Math.floor(l/6e4%60);return"".concat(d).concat(a," ").concat(m).concat(r)},l=function(e,t){return e.reduce((function(e,n){return e+=Number(t.segments[n].price.amount)}),0)},d=function(e,t){var n=e.date;return new Date(new Date(n).getTime()-864e5).toLocaleString(t,{day:"2-digit",month:"long",year:"2-digit"})},m=function(e,t){var n=e.date;return new Date(new Date(n).getTime()+864e5).toLocaleString(t,{day:"2-digit",month:"long",year:"2-digit"})},f=function(e,t){var n=e.date;return new Date(n).toLocaleString(t,{day:"2-digit",month:"long",year:"2-digit"})},p=function(e,t){var n=e.split(" ")[0];return new Date(n).toLocaleString(t,{day:"2-digit",month:"long",year:"2-digit"})},h=function(e){return" ".concat(e.split(" ")[1])}},167:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={UK:{trip:"\u041c\u0430\u0440\u0448\u0440\u0443\u0442:",passangersData:"\u0412\u0456\u0434\u043e\u043c\u043e\u0441\u0442\u0456 \u043f\u0440\u043e \u043f\u0430\u0441\u0430\u0436\u0438\u0440\u0456\u0432",cost:"\u0412\u0430\u0440\u0442\u0456\u0441\u0442\u044c: ",passenger:"\u041f\u0430\u0441\u0430\u0436\u0438\u0440 \u2116:",name:"\u0406\u043c'\u044f",surname:"\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435",phone:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",endTime:"\u0414\u043b\u044f \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u043d\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043e\u043f\u043b\u0430\u0442\u0456\u0442\u044c \u0439\u043e\u0433\u043e \u0434\u043e: ",securityStandart:"\u0412\u0430\u0448\u0456 \u043f\u043b\u0430\u0442\u0456\u0436\u043d\u0456 \u0442\u0430 \u043e\u0441\u043e\u0431\u0438\u0441\u0442\u0456 \u0434\u0430\u043d\u0456 \u043d\u0430\u0434\u0456\u0439\u043d\u043e \u0437\u0430\u0445\u0438\u0449\u0435\u043d\u0456 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u043e \u0434\u043e \u043c\u0456\u0436\u043d\u0430\u0440\u043e\u0434\u043d\u0438\u0445 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u0456\u0432 \u0431\u0435\u0437\u043f\u0435\u043a\u0438",addservices:"\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0456 \u043f\u043e\u0441\u043b\u0443\u0433\u0438",summ:"\u0421\u0443\u043c\u0430 \u0434\u043e \u0441\u043f\u043b\u0430\u0442\u0438: ",pay:"\u0441\u043f\u043b\u0430\u0442\u0438\u0442\u0438 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e:",return:"\u0423\u043c\u043e\u0432\u0438 \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f",booking:"\u0427\u0430\u0441 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0431\u0440\u043e\u043d\u044e\u0432\u0430\u043d\u043d\u044f \u0437\u0430\u043a\u0456\u043d\u0447\u0438\u0432\u0441\u044f",goHome:"\u041f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u0438\u0441\u044f \u043d\u0430 \u0433\u043e\u043b\u043e\u0432\u043d\u0443 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443",uah:"\u0433\u0440\u043d",success:"\u041e\u043f\u043b\u0430\u0442\u0430 \u043f\u0440\u043e\u0439\u0448\u043b\u0430 \u0443\u0441\u043f\u0456\u0448\u043d\u043e!!!",fail:"\u041f\u0440\u0438 \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u043d\u0456 \u043a\u0432\u0438\u0442\u043a\u0430 \u0432\u0438\u043d\u0438\u043a\u043b\u0430 \u043f\u043e\u043c\u0438\u043b\u043a\u0430",number:"\u041d\u043e\u043c\u0435\u0440 \u0412\u0430\u0448\u043e\u0433\u043e \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f ",call:"\u0417\u0432\u044f\u0436\u0456\u0442\u044c\u0441\u044f \u0437 \u0441\u043b\u0443\u0436\u0431\u043e\u044e \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u043a\u0438 \u0437\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u043e\u043c: ",download:"\u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u043a\u0432\u0438\u0442\u043e\u043a"},RU:{trip:"\u041c\u0430\u0440\u0448\u0440\u0443\u0442:",passangersData:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043e \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u0430\u0445:",cost:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c: ",passenger:"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440 \u2116:",name:"\u0418\u043c\u044f",surname:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",phone:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",endTime:"\u0414\u043b\u044f \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u0430 \u043e\u043f\u043b\u0430\u0442\u0438\u0442\u0435 \u0435\u0433\u043e \u0434\u043e: ",securityStandart:"\u0412\u0430\u0448\u0438 \u043f\u043b\u0430\u0442\u0435\u0436\u043d\u044b\u0435 \u0438 \u043b\u0438\u0447\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0430\u0434\u0435\u0436\u043d\u043e \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u044b \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u043c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u043c\u0438 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u0430\u043c\u0438 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438.",addservices:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0443\u0441\u043b\u0443\u0433\u0438",summ:"\u0421\u0443\u043c\u043c\u0430 \u043a \u043e\u043f\u043b\u0430\u0442\u0435: ",pay:"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e",return:"\u0423\u0441\u043b\u043e\u0432\u0438\u044f \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u0430",booking:"\u0412\u0440\u0435\u043c\u044f \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438\u0441\u0442\u0435\u043a\u043b\u043e",goHome:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 ",uah:"\u0433\u0440\u043d",success:"\u041e\u043f\u043b\u0430\u0442\u0430 \u043f\u0440\u043e\u0448\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e !!!",fail:"\u041f\u0440\u0438 \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0438 \u0431\u0438\u043b\u0435\u0442\u0430 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430",number:"\u041d\u043e\u043c\u0435\u0440 \u0432\u0430\u0448\u0435\u0433\u043e \u0437\u0430\u043a\u0430\u0437\u0430",call:"\u0421\u0432\u044f\u0436\u0438\u0442\u0435\u0441\u044c \u0441\u043e \u0441\u043b\u0443\u0436\u0431\u043e\u0439 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 \u043f\u043e \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443: ",download:"\u0441\u043a\u0430\u0447\u0430\u0442\u044c \u0431\u0438\u043b\u0435\u0442"},EN:{trip:"Route:",passangersData:"Passenger data:",cost:" Cost:",passenger:"Passenger \u2116:",name:"Name",surname:"Surname",phone:"Phone",endTime:"To place an order, pay for it before: ",securityStandart:"Your payment and personal data are reliably protected in accordance with international security standards.",addservices:"Additional services",summ:"Amount to pay",pay:"Pay with help",return:"Return conditions",booking:"Current booking time has expired",goHome:"Return to the homepage",uah:"uah",success:"The payment was successful !!!",fail:"An error occurred while issuing a ticket",number:"Your order number",call:"Contact support by phone: ",download:"download your ticket"},PL:{trip:"Trasa:",passangersData:"Dane pasa\u017cera:",cost:"Koszt: ",passenger:"Pasa\u017cera \u2116:",name:"Nazwa",surname:"Nazwisko",phone:"Telefon",endTime:"Aby z\u0142o\u017cy\u0107 zam\xf3wienie, op\u0142a\u0107 je wcze\u015bniej: ",securityStandart:"Twoje p\u0142atno\u015bci i dane osobowe s\u0105 bezpiecznie chronione zgodnie z mi\u0119dzynarodowymi standardami bezpiecze\u0144stwa.",addservices:"Dodatkowe us\u0142ugi",summ:"Kwota do zap\u0142aty",pay:"P\u0142aci\u0107 z pomoc\u0105",return:"Warunki zwrotu",booking:"Aktualny czas rezerwacji up\u0142yn\u0105\u0142",goHome:"Wr\xf3\u0107 do strony g\u0142\xf3wnej",uah:"uah",success:"P\u0142atno\u015b\u0107 si\u0119 powiod\u0142a !!!",fail:"Wyst\u0105pi\u0142 b\u0142\u0105d podczas wystawiania biletu",number:"Numer Twojego zam\xf3wienia",call:"Skontaktuj si\u0119 z obs\u0142ug\u0105 klienta telefonicznie:",download:"pobierz bilet"}}},174:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var a=n(3),r=function(e){return{type:a.a.FETCH_TRIP_KEYS,payload:e}},i=function(e){return{type:a.a.FETCH_TICKET,payload:e}},o=function(e){return{type:a.a.ADDITIONAL_SERVICES,payload:e}}},185:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return a}))},255:function(e,t){},256:function(e,t){},261:function(e,t){},262:function(e,t){},267:function(e,t){},268:function(e,t){},270:function(e,t){},274:function(e,t){},276:function(e,t){},279:function(e,t){},284:function(e,t){},286:function(e,t){},289:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var a=n(42),r=n(174),i=n(33),o=function(e){return function(t){Object(i.e)(e).then((function(e){var n=e.data;return t(Object(r.a)(n))})).catch((function(e){return t(Object(a.a)(e.message))}))}},s=function(e,t){return function(n){Object(i.i)(e,t).then((function(e){var t=e.data;return n(Object(r.a)(t))})).catch((function(e){return n(Object(a.a)(e.message))}))}}},290:function(e,t,n){"use strict";var a=n(41),r=n(0),i=n(14),o=n(291),s=n.n(o),c=n(149),u=n(151),l=n(167),d=n(1);t.a=function(){var e=Object(i.d)((function(e){return e.language})),t=Object(i.d)((function(e){return e.order.ticket})),n="UA"===e?"UK":e,o=Object(r.useState)([]),m=Object(a.a)(o,2),f=m[0],p=m[1];Object(r.useEffect)((function(){if(Object.keys(t).length>0)for(var e=[],n=0,a=Object.values(t.customers);n<a.length;n++){var r=a[n];e.push({values:r}),p(e)}}),[t]);return Object(d.jsx)(c.a,{locale:n,messages:l.a[n],children:Object(d.jsxs)("div",{className:s.a.passangersBox,children:[Object(d.jsx)("h4",{className:s.a.subTitle,children:Object(d.jsx)(u.a,{id:"passangersData"})}),Object(d.jsx)("ul",{children:f.map((function(e,n){return Object(d.jsxs)("li",{children:[Object(d.jsxs)("div",{className:s.a.header,children:[Object(d.jsxs)("p",{className:s.a.number,children:[Object(d.jsx)(u.a,{id:"passenger"}),n+1]}),Object(d.jsxs)("p",{className:s.a.price,children:[Object(d.jsx)("span",{children:Object(d.jsx)(u.a,{id:"cost"})})," ",(t.services.filter((function(e){return e.hasOwnProperty("segment")})).reduce((function(e,t){return e+t.price.amount}),0)/f.length).toFixed(2)," ",Object(d.jsx)("small",{children:Object(d.jsx)(u.a,{id:"uah"})})]})]}),Object(d.jsxs)("div",{className:s.a.passangerData,children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{className:s.a.passangerTitle,children:Object(d.jsx)(u.a,{id:"name"})}),Object(d.jsx)("p",{className:s.a.passangerName,children:e.values.name})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{className:s.a.passangerTitle,children:Object(d.jsx)(u.a,{id:"surname"})}),Object(d.jsx)("p",{className:s.a.passangerName,children:e.values.surname})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{className:s.a.passangerTitle,children:Object(d.jsx)(u.a,{id:"phone"})}),Object(d.jsx)("p",{className:s.a.passangerName,children:e.values.phone})]})]})]},n)}))})]})})}},291:function(e,t,n){e.exports={passangersBox:"PassengersData_passangersBox__2OOgk",subTitle:"PassengersData_subTitle__29wG9",header:"PassengersData_header__NVGzD",number:"PassengersData_number__IHxg_",price:"PassengersData_price__3JM-K",passangerData:"PassengersData_passangerData__2wmc0",passangerTitle:"PassengersData_passangerTitle__IB--I",passangerName:"PassengersData_passangerName__1M8Og",title:"PassengersData_title__6l9lO"}},292:function(e,t,n){"use strict";n(0);var a=n(14),r=n(293),i=n.n(r),o=n(149),s=n(151),c=n(167),u=n(161),l=n(1);t.a=function(e){var t=e.routs,n=Object(a.d)((function(e){return e.language})),r=Object(a.d)((function(e){return e.order.ticket})),d="UA"===n?"UK":n;return Object(l.jsx)(o.a,{locale:d,messages:c.a[d],children:Object(l.jsxs)("div",{className:i.a.orderBox,children:[Object(l.jsx)("h4",{className:i.a.subTitle,children:Object(l.jsx)(s.a,{id:"trip"})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{className:i.a.locality,children:Object(u.b)(r.segments[Object.keys(t[0])[0]].departure.id,r,n)}),Object(l.jsx)("p",{className:i.a.localityStop,children:Object(u.h)(r.segments[Object.keys(t[0])[0]].departure.id,r,n)}),Object(l.jsxs)("p",{className:i.a.date,children:[Object(u.c)("departureDate",r.segments[Object.keys(t[0])[0]],n)," ",Object(u.i)("departureDate",r.segments[Object.keys(t[0])[0]],n)]})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{className:i.a.locality,children:Object(u.b)(r.segments[Object.keys(t[t.length-1])[0]].arrival.id,r,n)}),Object(l.jsx)("p",{className:i.a.localityStop,children:Object(u.h)(r.segments[Object.keys(t[t.length-1])[0]].arrival.id,r,n)}),Object(l.jsxs)("p",{className:i.a.date,children:[Object(u.c)("arrivalDate",r.segments[Object.keys(t[t.length-1])[0]],n)," ",Object(u.i)("arrivalDate",r.segments[Object.keys(t[t.length-1])[0]],n)]})]})]})})}},293:function(e,t,n){e.exports={orderBox:"TripInfo_orderBox__1dSE3",locality:"TripInfo_locality__2IGqX",subTitle:"TripInfo_subTitle__3-9Jl",arrow:"TripInfo_arrow__1L1Je",localityStop:"TripInfo_localityStop__1HLg_",date:"TripInfo_date__2Ya6B",passangersBox:"TripInfo_passangersBox__Ddz0_"}},294:function(e,t,n){"use strict";n(0);var a=n(14),r=n(167),i=n(149),o=n(151),s=n(295),c=n.n(s),u=n(1);t.a=function(e){var t=e.addServ,n=Object(a.d)((function(e){return e.order.ticket})),s=Object(a.d)((function(e){return e.language})),l="UA"===s?"UK":s;return Object(u.jsx)(i.a,{locale:l,messages:r.a[l],children:Object(u.jsxs)("div",{className:c.a.box,children:[Object(u.jsx)("h4",{className:c.a.title,children:Object(u.jsx)(o.a,{id:"addservices"})}),Object(u.jsx)("div",{className:c.a.flex,children:t.map((function(e){return Object(u.jsxs)("div",{className:c.a.item,children:[Object(u.jsxs)("p",{children:[n.additionalServices[e].name[s],": "]}),Object(u.jsxs)("p",{children:[(t=e,n.services.filter((function(e){var n;return(null===e||void 0===e||null===(n=e.additionalService)||void 0===n?void 0:n.id)===t})).reduce((function(e,t){return e+=t.price.amount}),0))," ",Object(u.jsx)("small",{children:Object(u.jsx)(o.a,{id:"uah"})})]})]},e);var t}))})]})})}},295:function(e,t,n){e.exports={box:"AdditionalServicesData_box__E2rGd",title:"AdditionalServicesData_title__3NowY",item:"AdditionalServicesData_item__36O0i",flex:"AdditionalServicesData_flex__2Y38e"}},296:function(e,t,n){"use strict";n(0);var a=n(392),r=n.n(a),i=n(297),o=n.n(i),s=n(1);t.a=function(){return Object(s.jsx)("div",{className:o.a.loader,children:Object(s.jsx)(r.a,{type:"BallTriangle",color:"#00BFFF",height:100,width:100})})}},297:function(e,t,n){e.exports={loader:"Loader_loader__rbNku"}},654:function(e,t,n){e.exports={data:"TicketPage_data__1m1Cf"}},655:function(e,t,n){(function(t){var a=n(656),r=n(658),i=n(57),o=n(664),s=n(665);e.exports=function(e){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=n(e);function u(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{c(a.next(e))}catch(e){i(e)}}function s(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((a=a.apply(e,t||[])).next())}))}var l={};function d(e){var t=l[e];if(t)return t;var n=new Promise((function(t,n){var a=document.createElement("script");a.src=e,a.async=!0;var r=function(){t()},i=function t(){a.removeEventListener("load",r),a.removeEventListener("error",t),delete l[e],a.remove(),n(new Error("Unable to load script "+e))};a.addEventListener("load",r),a.addEventListener("error",i),document.body.appendChild(a)}));return l[e]=n,n}var m=function(){function e(t){var n=this;o(this,e),this.handleClick=function(){return u(n,void 0,void 0,i.mark((function e(){var t,n,a;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.config){e.next=3;break}throw new Error("google-pay-button: Missing configuration");case 3:return n=this.createLoadPaymentDataRequest(t),e.prev=4,e.next=7,this.client.loadPaymentData(n);case 7:a=e.sent,t.onLoadPaymentData&&t.onLoadPaymentData(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),"CANCELED"===e.t0.statusCode?t.onCancel&&t.onCancel(e.t0):t.onError?t.onError(e.t0):console.error(e.t0);case 14:case"end":return e.stop()}}),e,this,[[4,11]])})))},this.options=t}return s(e,[{key:"getElement",value:function(){return this.element}},{key:"isGooglePayLoaded",value:function(){var e,n;return"google"in(window||t)&&!!(null===(n=null===(e=null===google||void 0===google?void 0:google.payments)||void 0===e?void 0:e.api)||void 0===n?void 0:n.PaymentsClient)}},{key:"mount",value:function(e){return u(this,void 0,void 0,i.mark((function t(){return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.isGooglePayLoaded(),t.t0){t.next=4;break}return t.next=4,d("https://pay.google.com/gp/p/js/pay.js");case 4:this.element=e,e&&(this.appendStyles(),this.config&&this.updateElement());case 6:case"end":return t.stop()}}),t,this)})))}},{key:"unmount",value:function(){this.element=void 0}},{key:"configure",value:function(e){var t=void 0;return this.config=e,this.oldInvalidationValues&&!this.isClientInvalidated(e)||(t=this.updateElement()),this.oldInvalidationValues=this.getInvalidationValues(e),null!=t?t:Promise.resolve()}},{key:"createClientOptions",value:function(e){var t={environment:e.environment,merchantInfo:this.createMerchantInfo(e)};return(e.onPaymentDataChanged||e.onPaymentAuthorized)&&(t.paymentDataCallbacks={},e.onPaymentDataChanged&&(t.paymentDataCallbacks.onPaymentDataChanged=function(t){return e.onPaymentDataChanged(t)||{}}),e.onPaymentAuthorized&&(t.paymentDataCallbacks.onPaymentAuthorized=function(t){return e.onPaymentAuthorized(t)||{}})),t}},{key:"createIsReadyToPayRequest",value:function(e){var t=e.paymentRequest;return{apiVersion:t.apiVersion,apiVersionMinor:t.apiVersionMinor,allowedPaymentMethods:t.allowedPaymentMethods,existingPaymentMethodRequired:e.existingPaymentMethodRequired}}},{key:"createLoadPaymentDataRequest",value:function(e){return Object.assign(Object.assign({},e.paymentRequest),{merchantInfo:this.createMerchantInfo(e)})}},{key:"createMerchantInfo",value:function(e){var t=Object.assign({},e.paymentRequest.merchantInfo);return t.softwareInfo||(t.softwareInfo={id:this.options.softwareInfoId,version:this.options.softwareInfoVersion}),t}},{key:"isMounted",value:function(){return null!=this.element&&!1!==this.element.isConnected}},{key:"removeButton",value:function(){if(this.element instanceof ShadowRoot||this.element instanceof Element)for(var e=0,t=Array.from(this.element.children);e<t.length;e++){var n=t[e];"STYLE"!==n.tagName&&n.remove()}}},{key:"updateElement",value:function(){var e;return u(this,void 0,void 0,i.mark((function t(){var n,a,r,o,s,c,u;return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isMounted()){t.next=2;break}return t.abrupt("return");case 2:if(n=this.element,this.config){t.next=5;break}throw new Error("google-pay-button: Missing configuration");case 5:return this.removeButton(),this.client=new google.payments.api.PaymentsClient(this.createClientOptions(this.config)),a={buttonType:this.config.buttonType,buttonColor:this.config.buttonColor,buttonSizeMode:this.config.buttonSizeMode,buttonLocale:this.config.buttonLocale,onClick:this.handleClick},(r=null===(e=this.element)||void 0===e?void 0:e.getRootNode())instanceof ShadowRoot&&(a.buttonRootNode=r),o=this.client.createButton(a),this.setClassName(n,[n.className,"not-ready"]),n.appendChild(o),c=!1,t.prev=11,t.next=14,this.client.isReadyToPay(this.createIsReadyToPayRequest(this.config));case 14:s=t.sent,c=s.result&&!this.config.existingPaymentMethodRequired||s.result&&s.paymentMethodPresent&&this.config.existingPaymentMethodRequired||!1,t.next=21;break;case 18:t.prev=18,t.t0=t.catch(11),this.config.onError?this.config.onError(t.t0):console.error(t.t0);case 21:if(this.isMounted()){if(c){try{this.client.prefetchPaymentData(this.createLoadPaymentDataRequest(this.config))}catch(e){console.log("Error with prefetch",e)}this.setClassName(n,(n.className||"").split(" ").filter((function(e){return e&&"not-ready"!==e})))}this.isReadyToPay===(null==s?void 0:s.result)&&this.paymentMethodPresent===(null==s?void 0:s.paymentMethodPresent)||(this.isReadyToPay=!!(null==s?void 0:s.result),this.paymentMethodPresent=null==s?void 0:s.paymentMethodPresent,!this.config.onReadyToPayChange)||(u={isButtonVisible:c,isReadyToPay:this.isReadyToPay},this.paymentMethodPresent&&(u.paymentMethodPresent=this.paymentMethodPresent),this.config.onReadyToPayChange(u))}case 22:case"end":return t.stop()}}),t,this,[[11,18]])})))}},{key:"setClassName",value:function(e,t){var n=t.filter((function(e){return e})).join(" ");n?e.className=n:e.removeAttribute("class")}},{key:"appendStyles",value:function(){var e,t,n;if("undefined"!=typeof document){var a=null===(e=this.element)||void 0===e?void 0:e.getRootNode(),r="default-google-style-".concat(this.options.cssSelector.replace(/[^\w-]+/g,""),"-").concat(null===(t=this.config)||void 0===t?void 0:t.buttonLocale);if(a&&!(null===(n=a.getElementById)||void 0===n?void 0:n.call(a,r))){var i=document.createElement("style");i.id=r,i.type="text/css",i.innerHTML="\n          ".concat(this.options.cssSelector," {\n            display: inline-block;\n          }\n          ").concat(this.options.cssSelector,".not-ready {\n            width: 0;\n            height: 0;\n            overflow: hidden;\n          }\n        "),a instanceof Document&&a.head?a.head.appendChild(i):a.appendChild(i)}}}},{key:"isClientInvalidated",value:function(e){var t=this;return!this.oldInvalidationValues||this.getInvalidationValues(e).some((function(e,n){return e!==t.oldInvalidationValues[n]}))}},{key:"getInvalidationValues",value:function(e){var t,n;return[e.environment,e.existingPaymentMethodRequired,!!e.onPaymentDataChanged,!!e.onPaymentAuthorized,e.buttonColor,e.buttonType,e.buttonLocale,e.buttonSizeMode,e.paymentRequest.merchantInfo.merchantId,e.paymentRequest.merchantInfo.merchantName,null===(t=e.paymentRequest.merchantInfo.softwareInfo)||void 0===t?void 0:t.id,null===(n=e.paymentRequest.merchantInfo.softwareInfo)||void 0===n?void 0:n.version]}}]),e}(),f="google-pay-button-container";return function(e){a(n,e);var t=r(n);function n(){var e;return o(this,n),(e=t.apply(this,arguments)).manager=new m({cssSelector:"."+f,softwareInfoId:"@google-pay/button-react",softwareInfoVersion:"2.3.0"}),e.elementRef=c.default.createRef(),e}return s(n,[{key:"componentDidMount",value:function(){return u(this,void 0,void 0,i.mark((function e(){var t;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.elementRef.current,e.t0=t,!e.t0){e.next=6;break}return e.next=5,this.manager.mount(t);case 5:this.manager.configure(this.props);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"componentWillUnmount",value:function(){this.manager.unmount()}},{key:"componentDidUpdate",value:function(){this.manager.configure(this.props)}},{key:"render",value:function(){return c.default.createElement("div",{ref:this.elementRef,className:[f,this.props.className].filter((function(e){return e})).join(" "),style:this.props.style})}}]),n}(c.default.Component)}(n(0))}).call(this,n(52))},656:function(e,t,n){var a=n(657);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}},657:function(e,t){function n(t,a){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,a)}e.exports=n},658:function(e,t,n){var a=n(659),r=n(660),i=n(661);e.exports=function(e){var t=r();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return i(this,n)}}},659:function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},660:function(e,t){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},661:function(e,t,n){var a=n(662),r=n(663);e.exports=function(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?r(e):t}},662:function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},663:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},664:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},665:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}e.exports=function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}},666:function(e,t,n){e.exports={time:"PaymentBox_time__1_NZQ",warning:"PaymentBox_warning__3Pk17",warningText:"PaymentBox_warningText__XvFOp",payment:"PaymentBox_payment__1od8k",portmone:"PaymentBox_portmone__ea5YD",google:"PaymentBox_google__2x1G3",flexItem:"PaymentBox_flexItem__f7IeP",total:"PaymentBox_total__1YF6P",box3ds:"PaymentBox_box3ds__2SDk2",btn3ds:"PaymentBox_btn3ds__1_359",infoblock:"PaymentBox_infoblock__1xu-I",images:"PaymentBox_images__3A-Zf",img:"PaymentBox_img__X-vqn",returnConditions:"PaymentBox_returnConditions__WaWD6",payType:"PaymentBox_payType__1zpv-"}},667:function(e,t,n){e.exports={box:"GoHome_box__1ZK2b",text:"GoHome_text__24yxD",link:"GoHome_link__2WIHQ"}},668:function(e,t,n){e.exports={box:"ReturnConditions_box__7vhEM",title:"ReturnConditions_title__2aJWz",close:"ReturnConditions_close__31oGF",text:"ReturnConditions_text__3QtkC"}},720:function(e,t,n){"use strict";n.r(t);var a=n(185),r=n(41),i=n(0),o=n.n(i),s=n(14),c=n(289),u=n(654),l=n.n(u),d=n(9),m=n(228),f=n.n(m),p=n(719),h=n(149),b=n(151),j=n(655),y=n.n(j),g=n(666),v=n.n(g),O=n(167),x=n(161),_=n(33),w=(n(26),n(667),n(1)),P=n(296),k=n(80),N=n(81),D=n(82),T=n(668),S=n.n(T),I=n(68),R=o.a.forwardRef((function(e,t){var n=e.segments,a=e.close,r=Object(s.d)((function(e){return e.order.ticket})),i=Object(s.d)((function(e){return e.language}));return Object(w.jsxs)("div",{className:S.a.box,ref:t,children:[Object(w.jsx)(I.a,{fill:"var(--color-main)",onClick:a,className:S.a.close}),n.map((function(e,t){return Object(w.jsxs)("div",{children:[Object(w.jsxs)("h5",{className:S.a.title,children:[Object(x.b)(r.segments[e.segment.id].departure.id,r,i)," -"," ",Object(x.b)(r.segments[e.segment.id].arrival.id,r,i)]}),Object(w.jsx)("ul",{children:e.price.tariff.returnConditions.map((function(e,t){return Object(w.jsx)("p",{className:S.a.text,children:e.title.EN},t)}))})]},t)}))]})})),C=function(e){var t=e.routs,n=e.orderId,a=e.primary,o=e.secondary,c=Object(s.d)((function(e){return e.language})),u=Object(s.d)((function(e){return e.order.ticket})),l="UA"===c?"UK":c,m=Object(i.useState)(0),j=Object(r.a)(m,2),g=j[0],T=j[1],S=Object(i.useState)(!1),I=Object(r.a)(S,2),C=I[0],E=I[1],A=Object(i.useState)(null),M=Object(r.a)(A,2),z=M[0],L=M[1],B=Object(i.useState)(""),U=Object(r.a)(B,2),V=U[0],q=U[1],F=Object(i.useState)(null),K=Object(r.a)(F,2),G=K[0],H=K[1],Y=Object(i.useState)(null),W=Object(r.a)(Y,2),J=W[0],Z=W[1],Q=Object(i.useState)(!1),X=Object(r.a)(Q,2),$=(X[0],X[1]),ee=Object(i.useState)([]),te=Object(r.a)(ee,2),ne=te[0],ae=te[1],re=Object(i.useState)(0),ie=Object(r.a)(re,2),oe=ie[0],se=ie[1],ce=Object(d.g)(),ue=Object(i.useRef)();Object(i.useEffect)((function(){q(f.a.AES.decrypt(atob(n),"KeyVeze").toString(f.a.enc.Utf8)),H(JSON.parse(f.a.AES.decrypt(atob(a),"KeyVeze").toString(f.a.enc.Utf8))),Z(JSON.parse(f.a.AES.decrypt(atob(o),"KeyVeze").toString(f.a.enc.Utf8))),se(le().toFixed(2));var e=new Date(u.services[0].expire).getTime(),t=(new Date).getTime();T(e-t)}),[]),Object(i.useEffect)((function(){if(z){if(z.need3ds)return void ue.current.submit();z.payed&&ce.push("/myTicket/".concat(n,"/").concat(G.paymentParamsId))}}),[z]),Object(i.useEffect)((function(){if(g<0)return $(!0),void T(0);var e=setInterval((function(){T(g-1e3)}),1e3);return function(){return clearInterval(e)}}),[g]);var le=function(){return u.services.reduce((function(e,t){return e+t.price.amount}),0)},de=function(){ae([])};return console.log("primaryData",G),Object(w.jsxs)(w.Fragment,{children:[G&&J&&Object(w.jsxs)(h.a,{locale:l,messages:O.a[l],children:[Object(w.jsxs)("div",{className:v.a.warning,children:[Object(w.jsxs)("p",{className:v.a.warningText,children:[Object(w.jsx)(b.a,{id:"endTime"}),Object(w.jsxs)("span",{children:[" ",Object(x.d)(u.services[0].expire,l),Object(x.e)(u.services[0].expire)]})]}),Object(w.jsx)("p",{className:v.a.time,children:new Date(g).toLocaleString("uk",{minute:"2-digit",second:"2-digit"})})]}),Object(w.jsxs)("div",{className:v.a.payment,children:[Object(w.jsxs)("div",{className:v.a.infoblock,children:[Object(w.jsx)("p",{children:Object(w.jsx)(b.a,{id:"securityStandart"})}),Object(w.jsxs)("div",{className:v.a.images,children:[Object(w.jsx)("div",{className:v.a.img,children:Object(w.jsx)("img",{src:k.a,alt:"visa"})}),Object(w.jsx)("div",{className:v.a.img,children:Object(w.jsx)("img",{src:D.a,alt:"visa"})}),Object(w.jsx)("div",{className:v.a.img,children:Object(w.jsx)("img",{src:N.a,alt:"visa"})})]})]}),Object(w.jsxs)("div",{className:v.a.flexItem,children:[Object(w.jsx)("p",{children:Object(w.jsx)(b.a,{id:"summ"})}),Object(w.jsxs)("p",{className:v.a.total,children:[oe,Object(w.jsx)("small",{children:" \u0433\u0440\u043d"})]})]}),Object(w.jsxs)("div",{className:v.a.flexItem,children:[Object(w.jsx)("p",{children:Object(w.jsx)(b.a,{id:"pay"})}),Object(w.jsxs)("div",{className:v.a.payType,children:[""!==G.sellerToken&&Object(w.jsx)(y.a,{className:v.a.google,environment:"PRODUCTION",buttonType:"short",paymentRequest:{apiVersion:2,apiVersionMinor:0,allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:["MASTERCARD","VISA"]},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:G.gpayGateway,gatewayMerchantId:G.gpayMerchantId}}}],merchantInfo:{merchantName:"VEZE"},transactionInfo:{totalPriceStatus:"FINAL",totalPriceLabel:"Total",totalPrice:"".concat(oe),currencyCode:"UAH",countryCode:"UA"}},onLoadPaymentData:function(e){console.log("paymentRequest",e),function(e){Object(_.g)(e,V,G.paymentParamsId).then((function(e){var t=e.data;return L(t)})).catch((function(e){return console.log(e)}))}(e)}}),Object(w.jsxs)("form",{action:"https://www.portmone.com.ua/gateway/",method:"post",children:[Object(w.jsx)("input",{type:"hidden",name:"payee_id",value:J.payeeId}),Object(w.jsx)("input",{type:"hidden",name:"shop_order_number",value:u.orderId}),Object(w.jsx)("input",{type:"hidden",name:"bill_amount",value:oe}),Object(w.jsx)("input",{type:"hidden",name:"description",value:"".concat(Object(x.b)(u.segments[Object.keys(t[0])[0]].departure.id,u,c)," - ").concat(Object(x.b)(u.segments[Object.keys(t[t.length-1])[0]].arrival.id,u,c)," \n              ").concat(Object(x.c)("departureDate",u.segments[Object.keys(t[0])[0]],c),"\n              ")}),Object(w.jsx)("input",{type:"hidden",name:"success_url",value:"https://veze.club/myTicket/".concat(n,"/").concat(J.paymentParamsId)}),Object(w.jsx)("input",{type:"hidden",name:"failure_url",value:"https://veze.club/ticket/".concat(n,"/").concat(a,"/").concat(o)}),Object(w.jsx)("input",{type:"hidden",name:"lang",value:l.toLowerCase()}),Object(w.jsx)("input",{type:"hidden",name:"encoding",value:"UTF-8"}),Object(w.jsx)("input",{type:"hidden",name:"exp_time",value:"1000"}),Object(w.jsx)("button",{className:v.a.portmone,type:"submit",onClick:function(){E(!0)}})]})]})]}),Object(w.jsx)("button",{type:"button",onClick:function(){ne.length>0?ae([]):ae(u.services.reduce((function(e,t){return t.hasOwnProperty("segment")&&e.push(t),e}),[]).reduce((function(e,t){return e.map[t.segment.id]||(e.map[t.segment.id]=!0,e.item.push(t)),e}),{map:{},item:[]}).item)},className:v.a.returnConditions,children:Object(w.jsx)(b.a,{id:"return"})})]}),Object(w.jsx)(p.a,{open:ne.length>0,onClose:de,children:Object(w.jsx)(R,{segments:ne,close:de})}),z&&Object(w.jsxs)("form",{ref:ue,id:"TheForm",action:z.params3ds.action,method:"POST",name:"TheForm",children:[Object(w.jsx)("input",{type:"hidden",name:"PaReq",value:z.params3ds.PaReq}),Object(w.jsx)("input",{type:"hidden",name:"MD",value:z.params3ds.MD}),Object(w.jsx)("input",{type:"hidden",name:"TermUrl",value:"http://localhost:3000/ticket/".concat(n,"/").concat(a,"/").concat(o)})]})]}),C&&Object(w.jsx)(P.a,{})]})},E=n(292),A=n(290),M=n(294);t.default=function(){var e=Object(s.c)(),t=Object(s.d)((function(e){return e.order.ticket})),n=Object(i.useState)([]),o=Object(r.a)(n,2),u=o[0],m=o[1],p=Object(i.useState)([]),h=Object(r.a)(p,2),b=h[0],j=h[1],y=Object(d.i)(),g=y.orderId,v=y.primary,O=y.secondary;return Object(i.useEffect)((function(){var t=atob(g);!function(t){e(Object(c.a)(t))}(f.a.AES.decrypt(t,"KeyVeze").toString(f.a.enc.Utf8))}),[e,g]),Object(i.useEffect)((function(){if(Object.keys(t).length>0){for(var e=[],n=0,i=Object.entries(t.segments);n<i.length;n++){var o=Object(r.a)(i[n],2),s=o[0],c=o[1];e.push(Object(a.a)({},s,c))}m(e.sort((function(e,t){return new Date(e[Object.keys(e)[0]].departureDate).getTime()-new Date(t[Object.keys(t)[0]].departureDate).getTime()}))),j(Array.from(new Set(t.services.filter((function(e){return e.hasOwnProperty("additionalService")})).reduce((function(e,t){return e.push(t.additionalService.id),e}),[]))))}}),[t]),Object(w.jsx)("div",{className:"bgnd",children:u.length>0&&Object(w.jsxs)("div",{className:"container",children:[Object(w.jsxs)("div",{className:l.a.data,children:[Object(w.jsx)(E.a,{routs:u}),Object(w.jsx)(A.a,{}),b.length>0&&Object(w.jsx)(M.a,{addServ:b})]}),Object(w.jsx)("div",{className:l.a.data,children:Object(w.jsx)(C,{routs:u,orderId:g,primary:v,secondary:O})})]})})}}}]);
//# sourceMappingURL=9.b8ee5f2a.chunk.js.map