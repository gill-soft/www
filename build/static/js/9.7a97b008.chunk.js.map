{"version":3,"sources":["services/getInfo.js","intl/TicketPageMessanges.js","redux/order/orderActions.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","redux/order/orderOperation.js","components/TicketContainer/PassengersData.js","components/TicketContainer/PassengersData.module.css","components/TicketContainer/TripInfo.js","components/TicketContainer/TripInfo.module.css","components/TicketContainer/AdditionalServicesData.js","components/TicketContainer/AdditionalServicesData.module.css","components/Loader/Loader.js","components/Loader/Loader.module.css","pages/TicketPage.module.css","../node_modules/@google-pay/button-react/dist/index.umd.min.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/setPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/getPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/assertThisInitialized.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass.js","components/TicketContainer/PaymentBox.module.css","components/GoHome/GoHome.module.css","components/TicketContainer/ReturnConditions.module.css","components/TicketContainer/ReturnConditions.js","components/TicketContainer/PaymentBox.js","pages/TicketPage.js"],"names":["getCity","id","trips","lang","parentId","localities","parent","city","name","EN","UA","RU","PL","getStop","stop","getAddress","address","getRouteName","routeName","segments","route","getDate","key","trip","date","split","Date","getTime","toLocaleString","day","month","year","getTimeDisplay","getTimeInWayDouble","tripKeys","h","m","dateDeparture","departureDate","dateArrival","arrivalDate","departureTime","arrivalTime","departureMs","deltaMs","hour","Math","floor","minutes","getPrice","reduce","summ","el","Number","price","amount","getYesterday","getTomorrow","getTodayDate","getExpireDate","time","getExpireTime","messages","UK","passangersData","cost","passenger","surname","phone","endTime","securityStandart","addservices","pay","return","booking","goHome","uah","success","fail","number","call","download","setTripKeys","arr","type","Types","FETCH_TRIP_KEYS","payload","fetchTicket","ticket","FETCH_TICKET","setAdditionalServices","ADDITIONAL_SERVICES","_defineProperty","obj","value","Object","defineProperty","enumerable","configurable","writable","getTicket","orderId","dispatch","getTicketInfo","then","data","catch","error","getError","message","getTicketConfirm","paymentId","ticketComfirm","PassengersData","useSelector","state","language","order","locale","useState","passangers","setPassangers","useEffect","keys","length","values","customers","push","className","styles","passangersBox","subTitle","map","idx","header","services","filter","hasOwnProperty","acc","toFixed","passangerData","passangerTitle","passangerName","module","exports","TripInfo","routs","orderBox","locality","departure","localityStop","arrival","AdditionalServicesData","addServ","box","title","flex","item","additionalServices","additionalService","Loader","loader","color","height","width","e","t","default","n","o","Promise","i","a","s","l","next","r","throw","done","apply","document","createElement","src","async","removeEventListener","remove","Error","addEventListener","body","appendChild","this","handleClick","config","createLoadPaymentDataRequest","client","loadPaymentData","onLoadPaymentData","statusCode","onCancel","onError","console","options","element","window","global","google","payments","api","PaymentsClient","isGooglePayLoaded","appendStyles","updateElement","oldInvalidationValues","isClientInvalidated","getInvalidationValues","resolve","environment","merchantInfo","createMerchantInfo","onPaymentDataChanged","onPaymentAuthorized","paymentDataCallbacks","paymentRequest","apiVersion","apiVersionMinor","allowedPaymentMethods","existingPaymentMethodRequired","assign","softwareInfo","softwareInfoId","version","softwareInfoVersion","isConnected","ShadowRoot","Element","Array","from","children","tagName","isMounted","removeButton","createClientOptions","buttonType","buttonColor","buttonSizeMode","buttonLocale","onClick","getRootNode","buttonRootNode","createButton","setClassName","isReadyToPay","createIsReadyToPayRequest","result","paymentMethodPresent","prefetchPaymentData","log","onReadyToPayChange","isButtonVisible","join","removeAttribute","cssSelector","replace","getElementById","innerHTML","Document","head","some","merchantId","merchantName","arguments","manager","elementRef","createRef","current","mount","configure","props","unmount","ref","style","Component","require","setPrototypeOf","subClass","superClass","TypeError","prototype","create","constructor","_setPrototypeOf","p","__proto__","getPrototypeOf","isNativeReflectConstruct","possibleConstructorReturn","Derived","hasNativeReflectConstruct","Super","NewTarget","Reflect","construct","_getPrototypeOf","sham","Proxy","toString","_typeof","assertThisInitialized","self","Symbol","iterator","ReferenceError","instance","Constructor","_defineProperties","target","descriptor","protoProps","staticProps","ReturnConditions","React","forwardRef","close","fill","segment","tariff","returnConditions","text","PaymentBox","primary","secondary","setTime","isLoader","setIsLoader","googleRes","setGoogleRes","setOrder","primaryData","setPrimaryData","secondaryData","setSecondaryData","setIsModal","setSegments","totalPrice","settotalPrice","history","useHistory","useRef","CryptoJS","AES","decrypt","atob","enc","Utf8","JSON","parse","getTotalPrice","dateArray","expire","timeEnd","timeStart","need3ds","submit","payed","paymentParamsId","intervalId","setInterval","clearInterval","closeReturnConditions","warning","warningText","minute","second","payment","infoblock","images","img","visa","alt","maestro","mastercard","flexItem","total","payType","sellerToken","parameters","allowedAuthMethods","allowedCardNetworks","tokenizationSpecification","gateway","gpayGateway","gatewayMerchantId","gpayMerchantId","transactionInfo","totalPriceStatus","totalPriceLabel","currencyCode","countryCode","isGooglePayComfirm","err","getGooleplayConfirm","action","method","payeeId","toLowerCase","portmone","Modal","open","onClose","params3ds","PaReq","MD","encodeURIComponent","TicketPage","useDispatch","setRouts","useParams","encryptId","entries","sort","b","Set"],"mappings":"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","file":"static/js/9.7a97b008.chunk.js","sourcesContent":["// import { getTime } from \"date-fns\";\r\n\r\n// ==== получаем наcелённый пункт отправки/прибытия ==== //\r\nexport const getLocality = (id, stops, lang) => {\r\n  const result = stops.find((el) => el.id === id);\r\n  return result ? result.name[lang] || result.name[`EN`] : null;\r\n};\r\n// ==== получаем город отправки/прибытия\r\nexport const getCity = (id, trips, lang) => {\r\n  const parentId = trips.localities[id].parent.id;\r\n  const city = trips.localities[parentId] ? trips.localities[parentId].name : \"\";\r\n  return city ? city[lang] || city.EN || city.UA || city.RU || city.PL : \"\";\r\n};\r\n\r\n// ==== получаем остановку отправки/прибытия === //\r\nexport const getStop = (id, trips, lang) => {\r\n  const stop = trips.localities[id].name ? trips.localities[id].name : \"\";\r\n  return stop ? stop[lang] || stop.EN || stop.UA || stop.RU || stop.PL : \"\";\r\n};\r\n\r\n// ==== получаем adress отправки/прибытия === //\r\nexport const getAddress = (id, trips, lang) => {\r\n  const address = trips.localities[id].address ? trips.localities[id].address : \"\";\r\n  return address\r\n    ? address[lang] || address.EN || address.UA || address.RU || address.PL\r\n    : \"\";\r\n};\r\nexport const getRouteName = (id, trips) => {\r\n  const routeName = trips.segments[id].route ? trips.segments[id].route.name : \"\";\r\n  return routeName ? routeName.EN || routeName.UA || routeName.RU || routeName.PL : \"\";\r\n};\r\n// ==== получаем адресс промежуточной остановки ==== //\r\nexport const getAllAddress = (key, trips, lang) =>\r\n  Object.keys(trips).length > 0 && trips.localities[key]?.address\r\n    ? trips.localities[key]?.address[lang] || trips.localities[key].address[`RU`]\r\n    : null;\r\n\r\n// ==== получаем дату отправки/прибытия ==== //\r\nexport const getDate = (key, trip, lang) => {\r\n  const date = trip[key].split(\" \")[0];\r\n  return new Date(new Date(date).getTime()).toLocaleString(lang, {\r\n    day: \"2-digit\",\r\n    month: \"short\",\r\n    year: \"2-digit\",\r\n  });\r\n};\r\n\r\n// ==== получаем время отправки/прибытия ==== //\r\nexport const getTimeDisplay = (key, trip, lang) => {\r\n  return trip[key].split(\" \")[1];\r\n};\r\n\r\n// ==== получаем время в дороге маршрутов с пересадкой ====//\r\nexport const getTimeInWayDouble = (tripKeys, trips, lang) => {\r\n  let h, m;\r\n  switch (lang) {\r\n    case \"RU\":\r\n      h = \"ч\";\r\n      m = \"мин\";\r\n      break;\r\n    case \"UA\":\r\n      h = \"г\";\r\n      m = \"хв\";\r\n      break;\r\n    case \"EN\":\r\n      h = \"h\";\r\n      m = \"min\";\r\n      break;\r\n    case \"PL\":\r\n      h = \"g\";\r\n      m = \"min\";\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  const dateDeparture = trips.segments[tripKeys[0]].departureDate.split(\" \");\r\n  const dateArrival = trips.segments[tripKeys[0]].arrivalDate.split(\" \");\r\n  const departureTime =\r\n    dateDeparture[1].split(\":\")[0] * 60 * 60 * 1000 +\r\n    dateDeparture[1].split(\":\")[1] * 60 * 1000;\r\n  const arrivalTime =\r\n    dateArrival[1].split(\":\")[0] * 60 * 60 * 1000 +\r\n    dateArrival[1].split(\":\")[1] * 60 * 1000;\r\n  const departureMs = new Date(dateDeparture[0]).getTime() + departureTime;\r\n  const arrivalMs = new Date(dateArrival[0]).getTime() + arrivalTime;\r\n  const deltaMs = arrivalMs - departureMs;\r\n  const hour = Math.floor(deltaMs / (1000 * 60 * 60));\r\n  const minutes = Math.floor((deltaMs / (1000 * 60)) % 60);\r\n\r\n  return `${hour}${h} ${minutes}${m}`;\r\n};\r\n\r\n// ==== получаем сумму рейсов с пересадкой ====//\r\nexport const getPrice = (tripKeys, trips) => {\r\n  return tripKeys.reduce((summ, el) => {\r\n    summ += Number(trips.segments[el].price.amount);\r\n    return summ;\r\n  }, 0);\r\n};\r\n// ==== вчерашняя дата ==== //\r\nexport const getYesterday = ({ date }, lang) => {\r\n  return new Date(new Date(date).getTime() - 24 * 60 * 60 * 1000).toLocaleString(lang, {\r\n    day: \"2-digit\",\r\n    month: \"long\",\r\n    year: \"2-digit\",\r\n  });\r\n};\r\n\r\n// ==== завтрашняя дата ==== //\r\nexport const getTomorrow = ({ date }, lang) => {\r\n  return new Date(new Date(date).getTime() + 24 * 60 * 60 * 1000).toLocaleString(lang, {\r\n    day: \"2-digit\",\r\n    month: \"long\",\r\n    year: \"2-digit\",\r\n  });\r\n};\r\n\r\n// ==== сегодняшняя дата ==== //\r\nexport const getTodayDate = ({ date }, lang) => {\r\n  return new Date(date).toLocaleString(lang, {\r\n    day: \"2-digit\",\r\n    month: \"long\",\r\n    year: \"2-digit\",\r\n  });\r\n};\r\n// ==== время до конца оплаты ==== //\r\nexport const getExpireDate = (date, lang) => {\r\n  const time = date.split(\" \")[0];\r\n  return new Date(time).toLocaleString(lang, {\r\n    day: \"2-digit\",\r\n    month: \"long\",\r\n    year: \"2-digit\",\r\n  });\r\n};\r\nexport const getExpireTime = (date) => {\r\n  return ` ${date.split(\" \")[1]}`;\r\n  \r\n};\r\n","export const messages = {\r\n  UK: {\r\n    trip: \"Маршрут:\",\r\n    passangersData: \"Відомості про пасажирів\",\r\n    cost: \"Вартість: \",\r\n    passenger: \"Пасажир №:\",\r\n    name: \"Ім'я\",\r\n    surname: \"Прізвище\",\r\n    phone: \"Телефон\",\r\n    endTime: \"Для оформлення замовлення оплатіть його до: \",\r\n    securityStandart:\r\n      \"Ваші платіжні та особисті дані надійно захищені відповідно до міжнародних стандартів безпеки\",\r\n    addservices: \"Додаткові послуги\",\r\n    summ: \"Сума до сплати: \",\r\n    pay: \"сплатити за допомогою:\",\r\n    return: \"Умови повернення\",\r\n    booking: \"Час актуального бронювання закінчився\",\r\n    goHome: \"Повернутися на головну сторінку\",\r\n    uah: \"грн\",\r\n    success: \"Оплата пройшла успішно!!!\",\r\n    fail: \"При оформленні квитка виникла помилка\",\r\n    number: \"Номер Вашого замовлення \",\r\n    call: \"Звяжіться з службою підтримки за телефоном: \",\r\n    download: \"завантажити квиток\",\r\n  },\r\n  RU: {\r\n    trip: \"Маршрут:\",\r\n    passangersData: \"Данные о пассажирах:\",\r\n    cost: \"Стоимость: \",\r\n    passenger: \"Пассажир №:\",\r\n    name: \"Имя\",\r\n    surname: \"Фамилия\",\r\n    phone: \"Телефон\",\r\n    endTime: \"Для оформления заказа оплатите его до: \",\r\n    securityStandart:\r\n      \"Ваши платежные и личные данные надежно защищены в соответствии с международными стандартами безопасности.\",\r\n    addservices: \"Дополнительные услуги\",\r\n    summ: \"Сумма к оплате: \",\r\n    pay: \"Оплатить с помощью\",\r\n    return: \"Условия возврата\",\r\n    booking: \"Время актуального бронирования истекло\",\r\n    goHome: \"Вернуться на главную страницу \",\r\n    uah: \"грн\",\r\n    success: \"Оплата прошла успешно !!!\",\r\n    fail: \"При оформлении билета возникла ошибка\",\r\n    number: \"Номер вашего заказа\",\r\n    call: \"Свяжитесь со службой поддержки по телефону: \",\r\n    download: \"скачать билет\",\r\n  },\r\n  \r\n  EN: {\r\n    trip: \"Route:\",\r\n    passangersData: \"Passenger data:\",\r\n    cost: \" Cost:\",\r\n    passenger: \"Passenger №:\",\r\n    name: \"Name\",\r\n    surname: \"Surname\",\r\n    phone: \"Phone\",\r\n    endTime: \"To place an order, pay for it before: \",\r\n    securityStandart:\r\n      \"Your payment and personal data are reliably protected in accordance with international security standards.\",\r\n    addservices: \"Additional services\",\r\n    summ: \"Amount to pay\",\r\n    pay: \"Pay with help\",\r\n    return: \"Return conditions\",\r\n    booking: \"Current booking time has expired\",\r\n    goHome: \"Return to the homepage\",\r\n    uah: \"uah\",\r\n    success: \"The payment was successful !!!\",\r\n    fail: \"An error occurred while issuing a ticket\",\r\n    number: \"Your order number\",\r\n    call: \"Contact support by phone: \",\r\n    download: \"download your ticket\",\r\n  },\r\n  \r\n  PL: {\r\n    trip: \"Trasa:\",\r\n    passangersData: \"Dane pasażera:\",\r\n    cost: \"Koszt: \",\r\n    passenger: \"Pasażera №:\",\r\n    name: \"Nazwa\",\r\n    surname: \"Nazwisko\",\r\n    phone: \"Telefon\",\r\n    endTime: \"Aby złożyć zamówienie, opłać je wcześniej: \",\r\n    securityStandart:\r\n      \"Twoje płatności i dane osobowe są bezpiecznie chronione zgodnie z międzynarodowymi standardami bezpieczeństwa.\",\r\n    addservices: \"Dodatkowe usługi\",\r\n    summ: \"Kwota do zapłaty\",\r\n    pay: \"Płacić z pomocą\",\r\n    return: \"Warunki zwrotu\",\r\n    booking: \"Aktualny czas rezerwacji upłynął\",\r\n    goHome: \"Wróć do strony głównej\",\r\n    uah: \"uah\",\r\n    success: \"Płatność się powiodła !!!\",\r\n    fail: \"Wystąpił błąd podczas wystawiania biletu\",\r\n    number: \"Numer Twojego zamówienia\",\r\n    call: \"Skontaktuj się z obsługą klienta telefonicznie:\",\r\n    download: \"pobierz bilet\",\r\n  },\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n ","import { Types } from \"../actionsTypes\";\r\n\r\nexport const setTripKeys = (arr) => ({\r\n  type: Types.FETCH_TRIP_KEYS,\r\n  payload: arr,\r\n});\r\n\r\nexport const fetchTicket = (ticket) => ({\r\n  type: Types.FETCH_TICKET,\r\n  payload: ticket,\r\n});\r\n\r\nexport const setAdditionalServices = (arr) => ({\r\n  type: Types.ADDITIONAL_SERVICES,\r\n  payload: arr,\r\n});\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import { getError } from \"../global/globalActions\";\r\nimport { fetchTicket } from \"./orderActions\";\r\nimport { getTicketInfo, ticketComfirm } from \"../../services/api\";\r\n\r\nexport const getTicket = (orderId) => (dispatch) => {\r\n  getTicketInfo(orderId)\r\n    .then(({ data }) => dispatch(fetchTicket(data)))\r\n    .catch((error) => dispatch(getError(error.message)));\r\n};\r\n\r\nexport const getTicketConfirm = (orderId, paymentId) => (dispatch) => {\r\n  ticketComfirm(orderId, paymentId)\r\n    .then(({ data }) => dispatch(fetchTicket(data)))\r\n    .catch((error) => dispatch(getError(error.message)));\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport styles from \"./PassengersData.module.css\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport { messages } from \"../../intl/TicketPageMessanges\";\r\n\r\nconst PassengersData = () => {\r\n  const lang = useSelector((state) => state.language);\r\n  const ticket = useSelector((state) => state.order.ticket);\r\n  const locale = lang === \"UA\" ? \"UK\" : lang;\r\n  const [passangers, setPassangers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(ticket).length > 0) {\r\n      const arr = [];\r\n      for (let values of Object.values(ticket.customers)) {\r\n        arr.push({ values });\r\n        setPassangers(arr);\r\n      }\r\n    }\r\n  }, [ticket]);\r\n\r\n  const getTotalPrice = () =>\r\n    ticket.services\r\n      .filter((el) => el.hasOwnProperty(\"segment\"))\r\n      .reduce((acc, el) => {\r\n        return acc + el.price.amount;\r\n      }, 0);\r\n  return (\r\n    <IntlProvider locale={locale} messages={messages[locale]}>\r\n      <div className={styles.passangersBox}>\r\n        <h4 className={styles.subTitle}>\r\n          <FormattedMessage id=\"passangersData\" />\r\n        </h4>\r\n        <ul>\r\n          {passangers.map((el, idx) => (\r\n            <li key={idx}>\r\n              <div className={styles.header}>\r\n                <p className={styles.number}>\r\n                  <FormattedMessage id=\"passenger\" />\r\n                  {idx + 1}\r\n                </p>\r\n                <p className={styles.price}>\r\n                  <span>\r\n                    <FormattedMessage id=\"cost\" />\r\n                  </span>{\" \"}\r\n                  {(getTotalPrice() / passangers.length).toFixed(2)} <small><FormattedMessage id=\"uah\" /></small>\r\n                </p>\r\n              </div>\r\n              <div className={styles.passangerData}>\r\n                <div>\r\n                  <p className={styles.passangerTitle}>\r\n                    <FormattedMessage id=\"name\" />\r\n                  </p>\r\n                  <p className={styles.passangerName}>{el.values.name}</p>\r\n                </div>\r\n                <div>\r\n                  <p className={styles.passangerTitle}>\r\n                    <FormattedMessage id=\"surname\" />\r\n                  </p>\r\n                  <p className={styles.passangerName}>{el.values.surname}</p>\r\n                </div>\r\n                <div>\r\n                  <p className={styles.passangerTitle}>\r\n                    <FormattedMessage id=\"phone\" />\r\n                  </p>\r\n                  <p className={styles.passangerName}>{el.values.phone}</p>\r\n                </div>\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </IntlProvider>\r\n  );\r\n};\r\n\r\nexport default PassengersData;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"passangersBox\":\"PassengersData_passangersBox__2OOgk\",\"subTitle\":\"PassengersData_subTitle__29wG9\",\"header\":\"PassengersData_header__NVGzD\",\"number\":\"PassengersData_number__IHxg_\",\"price\":\"PassengersData_price__3JM-K\",\"passangerData\":\"PassengersData_passangerData__2wmc0\",\"passangerTitle\":\"PassengersData_passangerTitle__IB--I\",\"passangerName\":\"PassengersData_passangerName__1M8Og\",\"title\":\"PassengersData_title__6l9lO\"};","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport styles from \"./TripInfo.module.css\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport { messages } from \"../../intl/TicketPageMessanges\";\r\nimport { getCity, getDate, getStop, getTimeDisplay } from \"../../services/getInfo\";\r\n\r\nconst TripInfo = ({ routs }) => {\r\n  const lang = useSelector((state) => state.language);\r\n  const ticket = useSelector((state) => state.order.ticket);\r\n  const locale = lang === \"UA\" ? \"UK\" : lang;\r\n  \r\n  return (\r\n    <IntlProvider locale={locale} messages={messages[locale]}>\r\n      <div className={styles.orderBox}>\r\n        <h4 className={styles.subTitle}>\r\n          <FormattedMessage id=\"trip\" />\r\n        </h4>\r\n        <div>\r\n          <p className={styles.locality}>\r\n            {getCity(\r\n              ticket.segments[Object.keys(routs[0])[0]].departure.id,\r\n              ticket,\r\n              lang\r\n            )}\r\n          </p>\r\n          <p className={styles.localityStop}>\r\n            {getStop(\r\n              ticket.segments[Object.keys(routs[0])[0]].departure.id,\r\n              ticket,\r\n              lang\r\n            )}\r\n          </p>\r\n          <p className={styles.date}>\r\n            {getDate(\"departureDate\", ticket.segments[Object.keys(routs[0])[0]], lang)}{\" \"}\r\n            {getTimeDisplay(\"departureDate\", ticket.segments[Object.keys(routs[0])[0]], lang)}\r\n          </p>\r\n        </div>\r\n        <div>\r\n          <p className={styles.locality}>\r\n            {getCity(\r\n              ticket.segments[Object.keys(routs[routs.length - 1])[0]].arrival.id,\r\n              ticket,\r\n              lang\r\n            )}\r\n          </p>\r\n          <p className={styles.localityStop}>\r\n            {getStop(\r\n              ticket.segments[Object.keys(routs[routs.length - 1])[0]].arrival.id,\r\n              ticket,\r\n              lang\r\n            )}\r\n          </p>\r\n          <p className={styles.date}>\r\n            {getDate(\r\n              \"arrivalDate\",\r\n              ticket.segments[Object.keys(routs[routs.length - 1])[0]],\r\n              lang\r\n            )}{\" \"}\r\n            {getTimeDisplay(\r\n              \"arrivalDate\",\r\n              ticket.segments[Object.keys(routs[routs.length - 1])[0]],\r\n              lang\r\n            )}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </IntlProvider>\r\n  );\r\n};\r\n\r\nexport default TripInfo;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"orderBox\":\"TripInfo_orderBox__1dSE3\",\"locality\":\"TripInfo_locality__2IGqX\",\"subTitle\":\"TripInfo_subTitle__3-9Jl\",\"arrow\":\"TripInfo_arrow__1L1Je\",\"localityStop\":\"TripInfo_localityStop__1HLg_\",\"date\":\"TripInfo_date__2Ya6B\",\"passangersBox\":\"TripInfo_passangersBox__Ddz0_\"};","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { messages } from \"../../intl/TicketPageMessanges\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport styles from \"./AdditionalServicesData.module.css\";\r\n\r\nconst AdditionalServicesData = ({ addServ }) => {\r\n  const ticket = useSelector((state) => state.order.ticket);\r\n  const lang = useSelector((state) => state.language);\r\n  const locale = lang === \"UA\" ? \"UK\" : lang;\r\n\r\n  const getPrice = (key) => {\r\n    return ticket.services\r\n      .filter((el) => el?.additionalService?.id === key)\r\n      .reduce((summ, el) => {\r\n        summ += el.price.amount;\r\n        return summ;\r\n      }, 0);\r\n  };\r\n  return (\r\n    <IntlProvider locale={locale} messages={messages[locale]}>\r\n\r\n    <div className={styles.box}>\r\n      <h4 className={styles.title}><FormattedMessage id=\"addservices\" /></h4>\r\n      <div className={styles.flex}>\r\n        {addServ.map((el) => (\r\n          <div key={el} className={styles.item}>\r\n            <p>{ticket.additionalServices[el].name[lang]}: </p>\r\n            <p>\r\n              {getPrice(el)} <small><FormattedMessage id=\"uah\" /></small>\r\n            </p>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div></IntlProvider>\r\n  );\r\n};\r\n\r\nexport default AdditionalServicesData;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"AdditionalServicesData_box__E2rGd\",\"title\":\"AdditionalServicesData_title__3NowY\",\"item\":\"AdditionalServicesData_item__36O0i\",\"flex\":\"AdditionalServicesData_flex__2Y38e\"};","import React from 'react';\r\nimport LoaderFromLibrary from 'react-loader-spinner';\r\nimport styles from './Loader.module.css';\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className={styles.loader}>\r\n      <LoaderFromLibrary\r\n        type=\"BallTriangle\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__rbNku\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"data\":\"TicketPage_data__1m1Cf\"};","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t(require(\"react\")):\"function\"==typeof define&&define.amd?define([\"react\"],t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).GooglePayButton=t(e.React)}(this,(function(e){\"use strict\";function t(e){return e&&\"object\"==typeof e&&\"default\"in e?e:{default:e}}var n=t(e);\n/*! *****************************************************************************\n    Copyright (c) Microsoft Corporation.\n\n    Permission to use, copy, modify, and/or distribute this software for any\n    purpose with or without fee is hereby granted.\n\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n    PERFORMANCE OF THIS SOFTWARE.\n    ***************************************************************************** */function o(e,t,n,o){return new(n||(n=Promise))((function(i,a){function s(e){try{l(o.next(e))}catch(e){a(e)}}function r(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}l((o=o.apply(e,t||[])).next())}))}let i={};function a(e){const t=i[e];if(t)return t;const n=new Promise((t,n)=>{const o=document.createElement(\"script\");o.src=e,o.async=!0;const a=()=>{t()},s=()=>{o.removeEventListener(\"load\",a),o.removeEventListener(\"error\",s),delete i[e],o.remove(),n(new Error(\"Unable to load script \"+e))};o.addEventListener(\"load\",a),o.addEventListener(\"error\",s),document.body.appendChild(o)});return i[e]=n,n}class s{constructor(e){this.handleClick=()=>o(this,void 0,void 0,(function*(){const e=this.config;if(!e)throw new Error(\"google-pay-button: Missing configuration\");const t=this.createLoadPaymentDataRequest(e);try{const n=yield this.client.loadPaymentData(t);e.onLoadPaymentData&&e.onLoadPaymentData(n)}catch(t){\"CANCELED\"===t.statusCode?e.onCancel&&e.onCancel(t):e.onError?e.onError(t):console.error(t)}})),this.options=e}getElement(){return this.element}isGooglePayLoaded(){var e,t;return\"google\"in(window||global)&&!!(null===(t=null===(e=null===google||void 0===google?void 0:google.payments)||void 0===e?void 0:e.api)||void 0===t?void 0:t.PaymentsClient)}mount(e){return o(this,void 0,void 0,(function*(){this.isGooglePayLoaded()||(yield a(\"https://pay.google.com/gp/p/js/pay.js\")),this.element=e,e&&(this.appendStyles(),this.config&&this.updateElement())}))}unmount(){this.element=void 0}configure(e){let t=void 0;return this.config=e,this.oldInvalidationValues&&!this.isClientInvalidated(e)||(t=this.updateElement()),this.oldInvalidationValues=this.getInvalidationValues(e),null!=t?t:Promise.resolve()}createClientOptions(e){const t={environment:e.environment,merchantInfo:this.createMerchantInfo(e)};return(e.onPaymentDataChanged||e.onPaymentAuthorized)&&(t.paymentDataCallbacks={},e.onPaymentDataChanged&&(t.paymentDataCallbacks.onPaymentDataChanged=t=>e.onPaymentDataChanged(t)||{}),e.onPaymentAuthorized&&(t.paymentDataCallbacks.onPaymentAuthorized=t=>e.onPaymentAuthorized(t)||{})),t}createIsReadyToPayRequest(e){const t=e.paymentRequest;return{apiVersion:t.apiVersion,apiVersionMinor:t.apiVersionMinor,allowedPaymentMethods:t.allowedPaymentMethods,existingPaymentMethodRequired:e.existingPaymentMethodRequired}}createLoadPaymentDataRequest(e){return Object.assign(Object.assign({},e.paymentRequest),{merchantInfo:this.createMerchantInfo(e)})}createMerchantInfo(e){const t=Object.assign({},e.paymentRequest.merchantInfo);return t.softwareInfo||(t.softwareInfo={id:this.options.softwareInfoId,version:this.options.softwareInfoVersion}),t}isMounted(){return null!=this.element&&!1!==this.element.isConnected}removeButton(){if(this.element instanceof ShadowRoot||this.element instanceof Element)for(const e of Array.from(this.element.children))\"STYLE\"!==e.tagName&&e.remove()}updateElement(){var e;return o(this,void 0,void 0,(function*(){if(!this.isMounted())return;const t=this.element;if(!this.config)throw new Error(\"google-pay-button: Missing configuration\");this.removeButton(),this.client=new google.payments.api.PaymentsClient(this.createClientOptions(this.config));const n={buttonType:this.config.buttonType,buttonColor:this.config.buttonColor,buttonSizeMode:this.config.buttonSizeMode,buttonLocale:this.config.buttonLocale,onClick:this.handleClick},o=null===(e=this.element)||void 0===e?void 0:e.getRootNode();o instanceof ShadowRoot&&(n.buttonRootNode=o);const i=this.client.createButton(n);this.setClassName(t,[t.className,\"not-ready\"]),t.appendChild(i);let a,s=!1;try{a=yield this.client.isReadyToPay(this.createIsReadyToPayRequest(this.config)),s=a.result&&!this.config.existingPaymentMethodRequired||a.result&&a.paymentMethodPresent&&this.config.existingPaymentMethodRequired||!1}catch(e){this.config.onError?this.config.onError(e):console.error(e)}if(this.isMounted()){if(s){try{this.client.prefetchPaymentData(this.createLoadPaymentDataRequest(this.config))}catch(e){console.log(\"Error with prefetch\",e)}this.setClassName(t,(t.className||\"\").split(\" \").filter(e=>e&&\"not-ready\"!==e))}if((this.isReadyToPay!==(null==a?void 0:a.result)||this.paymentMethodPresent!==(null==a?void 0:a.paymentMethodPresent))&&(this.isReadyToPay=!!(null==a?void 0:a.result),this.paymentMethodPresent=null==a?void 0:a.paymentMethodPresent,this.config.onReadyToPayChange)){const e={isButtonVisible:s,isReadyToPay:this.isReadyToPay};this.paymentMethodPresent&&(e.paymentMethodPresent=this.paymentMethodPresent),this.config.onReadyToPayChange(e)}}}))}setClassName(e,t){const n=t.filter(e=>e).join(\" \");n?e.className=n:e.removeAttribute(\"class\")}appendStyles(){var e,t,n;if(\"undefined\"==typeof document)return;const o=null===(e=this.element)||void 0===e?void 0:e.getRootNode(),i=`default-google-style-${this.options.cssSelector.replace(/[^\\w-]+/g,\"\")}-${null===(t=this.config)||void 0===t?void 0:t.buttonLocale}`;if(o&&!(null===(n=o.getElementById)||void 0===n?void 0:n.call(o,i))){const e=document.createElement(\"style\");e.id=i,e.type=\"text/css\",e.innerHTML=`\\n          ${this.options.cssSelector} {\\n            display: inline-block;\\n          }\\n          ${this.options.cssSelector}.not-ready {\\n            width: 0;\\n            height: 0;\\n            overflow: hidden;\\n          }\\n        `,o instanceof Document&&o.head?o.head.appendChild(e):o.appendChild(e)}}isClientInvalidated(e){if(!this.oldInvalidationValues)return!0;return this.getInvalidationValues(e).some((e,t)=>e!==this.oldInvalidationValues[t])}getInvalidationValues(e){var t,n;return[e.environment,e.existingPaymentMethodRequired,!!e.onPaymentDataChanged,!!e.onPaymentAuthorized,e.buttonColor,e.buttonType,e.buttonLocale,e.buttonSizeMode,e.paymentRequest.merchantInfo.merchantId,e.paymentRequest.merchantInfo.merchantName,null===(t=e.paymentRequest.merchantInfo.softwareInfo)||void 0===t?void 0:t.id,null===(n=e.paymentRequest.merchantInfo.softwareInfo)||void 0===n?void 0:n.version]}}const r=\"google-pay-button-container\";class l extends n.default.Component{constructor(){super(...arguments),this.manager=new s({cssSelector:\".\"+r,softwareInfoId:\"@google-pay/button-react\",softwareInfoVersion:\"2.3.0\"}),this.elementRef=n.default.createRef()}componentDidMount(){return o(this,void 0,void 0,(function*(){const e=this.elementRef.current;e&&(yield this.manager.mount(e),this.manager.configure(this.props))}))}componentWillUnmount(){this.manager.unmount()}componentDidUpdate(){this.manager.configure(this.props)}render(){return n.default.createElement(\"div\",{ref:this.elementRef,className:[r,this.props.className].filter(e=>e).join(\" \"),style:this.props.style})}}return l}));\n","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nvar possibleConstructorReturn = require(\"./possibleConstructorReturn\");\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}\n\nmodule.exports = _createSuper;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;","var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"time\":\"PaymentBox_time__1_NZQ\",\"warning\":\"PaymentBox_warning__3Pk17\",\"warningText\":\"PaymentBox_warningText__XvFOp\",\"payment\":\"PaymentBox_payment__1od8k\",\"portmone\":\"PaymentBox_portmone__ea5YD\",\"google\":\"PaymentBox_google__2x1G3\",\"flexItem\":\"PaymentBox_flexItem__f7IeP\",\"total\":\"PaymentBox_total__1YF6P\",\"box3ds\":\"PaymentBox_box3ds__2SDk2\",\"btn3ds\":\"PaymentBox_btn3ds__1_359\",\"infoblock\":\"PaymentBox_infoblock__1xu-I\",\"images\":\"PaymentBox_images__3A-Zf\",\"img\":\"PaymentBox_img__X-vqn\",\"returnConditions\":\"PaymentBox_returnConditions__WaWD6\",\"payType\":\"PaymentBox_payType__1zpv-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"GoHome_box__1ZK2b\",\"text\":\"GoHome_text__24yxD\",\"link\":\"GoHome_link__2WIHQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"ReturnConditions_box__7vhEM\",\"title\":\"ReturnConditions_title__2aJWz\",\"close\":\"ReturnConditions_close__31oGF\",\"text\":\"ReturnConditions_text__3QtkC\"};","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport styles from \"./ReturnConditions.module.css\";\r\nimport { ReactComponent as Close } from \"../../images/clear-black-36dp.svg\";\r\nimport { getCity } from \"../../services/getInfo\";\r\n\r\nconst ReturnConditions = React.forwardRef(({ segments, close }, ref) => {\r\n  const ticket = useSelector((state) => state.order.ticket);\r\n  const lang = useSelector((state) => state.language);\r\n\r\n  return (\r\n    <div className={styles.box} ref={ref}>\r\n      <Close fill=\"var(--color-main)\" onClick={close} className={styles.close} />\r\n      {segments.map((el, idx) => (\r\n        <div key={idx}>\r\n          <h5 className={styles.title}>\r\n            {getCity(ticket.segments[el.segment.id].departure.id, ticket, lang)} -{\" \"}\r\n            {getCity(ticket.segments[el.segment.id].arrival.id, ticket, lang)}\r\n          </h5>\r\n          <ul>\r\n            {el.price.tariff.returnConditions.map((item, idx) => (\r\n              <p key={idx} className={styles.text}>{item.title.EN}</p>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default ReturnConditions;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport CryptoJS from \"crypto-js\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport GooglePayButton from \"@google-pay/button-react\";\r\nimport styles from \"./PaymentBox.module.css\";\r\nimport { messages } from \"../../intl/TicketPageMessanges\";\r\nimport { getCity, getDate, getExpireTime, getExpireDate } from \"../../services/getInfo\";\r\nimport { isGooglePayComfirm } from \"../../services/api\";\r\nimport GoHome from \"../GoHome/GoHome\";\r\nimport Loader from \"../Loader/Loader\";\r\nimport visa from \"../../images/visa-min.png\";\r\nimport mastercard from \"../../images/Mastercard-min.png\";\r\nimport maestro from \"../../images/maestro-min.png\";\r\nimport ReturnConditions from \"./ReturnConditions\";\r\n\r\nconst PaymentBox = ({ routs, orderId, primary, secondary }) => {\r\n  const lang = useSelector((state) => state.language);\r\n  const ticket = useSelector((state) => state.order.ticket);\r\n  const locale = lang === \"UA\" ? \"UK\" : lang;\r\n  const [time, setTime] = useState(0);\r\n  const [isLoader, setIsLoader] = useState(false);\r\n  const [googleRes, setGoogleRes] = useState(null);\r\n  const [order, setOrder] = useState(\"\");\r\n  const [primaryData, setPrimaryData] = useState(null);\r\n  const [secondaryData, setSecondaryData] = useState(null);\r\n  const [isModal, setIsModal] = useState(false);\r\n  const [segments, setSegments] = useState([]);\r\n  const [totalPrice, settotalPrice] = useState(0);\r\n  const history = useHistory();\r\n\r\n  const ref = useRef();\r\n  // ==== расшифровуем данные ==== //\r\n  useEffect(() => {\r\n    setOrder(CryptoJS.AES.decrypt(atob(orderId), \"KeyVeze\").toString(CryptoJS.enc.Utf8));\r\n    setPrimaryData(\r\n      JSON.parse(\r\n        CryptoJS.AES.decrypt(atob(primary), \"KeyVeze\").toString(CryptoJS.enc.Utf8)\r\n      )\r\n    );\r\n    setSecondaryData(\r\n      JSON.parse(\r\n        CryptoJS.AES.decrypt(atob(secondary), \"KeyVeze\").toString(CryptoJS.enc.Utf8)\r\n      )\r\n    );\r\n    // ==== расчитываем полную стоимость билета ====//\r\n    settotalPrice(getTotalPrice().toFixed(2));\r\n\r\n    // ==== определяем время до конца оплаты ==== //\r\n    // преобразовуем дату в массив\r\n    const dateArray = ticket.services[0].expire.split(\" \");\r\n    // определям милисекунды даты\r\n    const dayMs = new Date(dateArray[0]).getTime();\r\n    // определяем милисикунды времени\r\n    const timeMs =\r\n      dateArray[1].split(\":\")[0] * 60 * 60 * 1000 +\r\n      dateArray[1].split(\":\")[1] * 60 * 1000;\r\n    // разница миллисикунд\r\n    const timeEnd = dayMs + timeMs;\r\n    const timeStart = new Date().getTime();\r\n    setTime(timeEnd - timeStart);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  // ==== обрабатываем ответ после оплаты googlePay ==== //\r\n  useEffect(() => {\r\n    if (googleRes) {\r\n      // ==== если нужно подтверждение 3ds ==== //\r\n      if (googleRes.need3ds) {\r\n        ref.current.submit();\r\n        return;\r\n      }\r\n      //  ==== если оплата подтверждена ==== //\r\n      if (googleRes.payed) {\r\n        history.push(`/myTicket/${orderId}/${primaryData.paymentParamsId}`);\r\n      }\r\n      setIsLoader(false);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [googleRes]);\r\n\r\n  //  ==== секундомер ==== //\r\n  useEffect(() => {\r\n    if (time < 0) {\r\n      setIsModal(true);\r\n      setTime(0);\r\n      return;\r\n    }\r\n    const intervalId = setInterval(() => {\r\n      setTime(time - 1000);\r\n    }, 1000);\r\n\r\n    return () => clearInterval(intervalId);\r\n  }, [time]);\r\n\r\n  const getTotalPrice = () => {\r\n    return ticket.services.reduce((acc, el) => {\r\n      return acc + el.price.amount;\r\n    }, 0);\r\n  };\r\n  const getGooleplayConfirm = (paymentRequest) => {\r\n    isGooglePayComfirm(paymentRequest, order, primaryData.paymentParamsId)\r\n      .then(({ data }) => setGoogleRes(data))\r\n      .catch((err) => console.log(err));\r\n  };\r\n  const handleClick = () => {\r\n    setIsLoader(true);\r\n  };\r\n  const handleClickReturn = () => {\r\n    segments.length > 0\r\n      ? setSegments([])\r\n      : setSegments(\r\n          ticket.services\r\n            .reduce((arr, el) => {\r\n              if (el.hasOwnProperty(\"segment\")) arr.push(el);\r\n              return arr;\r\n            }, [])\r\n            .reduce(\r\n              (acc, el) => {\r\n                if (acc.map[el.segment.id]) return acc;\r\n\r\n                acc.map[el.segment.id] = true;\r\n                acc.item.push(el);\r\n                return acc;\r\n              },\r\n              { map: {}, item: [] }\r\n            ).item\r\n        );\r\n  };\r\n  const closeReturnConditions = () => {\r\n    setSegments([]);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {primaryData && secondaryData && (\r\n        <IntlProvider locale={locale} messages={messages[locale]}>\r\n          <div className={styles.warning}>\r\n            <p className={styles.warningText}>\r\n              <FormattedMessage id=\"endTime\" />\r\n              <span>\r\n                {\" \"}\r\n                {getExpireDate(ticket.services[0].expire, locale)}\r\n                {getExpireTime(ticket.services[0].expire)}\r\n              </span>\r\n            </p>\r\n            <p className={styles.time}>\r\n              {new Date(time).toLocaleString(\"uk\", {\r\n                minute: \"2-digit\",\r\n                second: \"2-digit\",\r\n              })}\r\n            </p>\r\n          </div>\r\n\r\n          <div className={styles.payment}>\r\n            <div className={styles.infoblock}>\r\n              <p>\r\n                <FormattedMessage id=\"securityStandart\" />\r\n              </p>\r\n              <div className={styles.images}>\r\n                <div className={styles.img}>\r\n                  <img src={visa} alt=\"visa\" />\r\n                </div>\r\n                <div className={styles.img}>\r\n                  <img src={maestro} alt=\"visa\" />\r\n                </div>\r\n                <div className={styles.img}>\r\n                  <img src={mastercard} alt=\"visa\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className={styles.flexItem}>\r\n              <p>\r\n                <FormattedMessage id=\"summ\" />\r\n              </p>\r\n              <p className={styles.total}>\r\n                {totalPrice}\r\n                <small> грн</small>\r\n              </p>\r\n            </div>\r\n            <div className={styles.flexItem}>\r\n              <p>\r\n                <FormattedMessage id=\"pay\" />\r\n              </p>\r\n              <div className={styles.payType}>\r\n                {primaryData.sellerToken !== \"\" && (\r\n                  <GooglePayButton\r\n                    className={styles.google}\r\n                    environment=\"PRODUCTION\"\r\n                    buttonType=\"short\"\r\n                    paymentRequest={{\r\n                      apiVersion: 2,\r\n                      apiVersionMinor: 0,\r\n                      allowedPaymentMethods: [\r\n                        {\r\n                          type: \"CARD\",\r\n                          parameters: {\r\n                            allowedAuthMethods: [\"PAN_ONLY\", \"CRYPTOGRAM_3DS\"],\r\n                            allowedCardNetworks: [\"MASTERCARD\", \"VISA\"],\r\n                          },\r\n                          tokenizationSpecification: {\r\n                            type: \"PAYMENT_GATEWAY\",\r\n                            parameters: {\r\n                              gateway: primaryData.gpayGateway,\r\n                              gatewayMerchantId: primaryData.gpayMerchantId,\r\n                            },\r\n                          },\r\n                        },\r\n                      ],\r\n                      merchantInfo: {\r\n                        merchantId: \"BCR2DN6TSOFZJADQ\",\r\n                        merchantName: \"VEZE\",\r\n                      },\r\n                      transactionInfo: {\r\n                        totalPriceStatus: \"FINAL\",\r\n                        totalPriceLabel: \"Total\",\r\n                        totalPrice: `${totalPrice}`,\r\n                        currencyCode: \"UAH\",\r\n                        countryCode: \"UA\",\r\n                      },\r\n                    }}\r\n                    onLoadPaymentData={(paymentRequest) => {\r\n                      setIsLoader(true);\r\n                      getGooleplayConfirm(paymentRequest);\r\n                    }}\r\n                  />\r\n                )}\r\n\r\n                {/* Portmone */}\r\n                <form action=\"https://www.portmone.com.ua/gateway/\" method=\"post\">\r\n                  <input type=\"hidden\" name=\"payee_id\" value={secondaryData.payeeId} />\r\n\r\n                  <input type=\"hidden\" name=\"shop_order_number\" value={ticket.orderId} />\r\n                  <input type=\"hidden\" name=\"bill_amount\" value={totalPrice} />\r\n                  <input\r\n                    type=\"hidden\"\r\n                    name=\"description\"\r\n                    value={`${getCity(\r\n                      ticket.segments[Object.keys(routs[0])[0]].departure.id,\r\n                      ticket,\r\n                      lang\r\n                    )} - ${getCity(\r\n                      ticket.segments[Object.keys(routs[routs.length - 1])[0]].arrival.id,\r\n                      ticket,\r\n                      lang\r\n                    )} \r\n              ${getDate(\"departureDate\", ticket.segments[Object.keys(routs[0])[0]], lang)}\r\n              `}\r\n                  />\r\n                  <input\r\n                    type=\"hidden\"\r\n                    name=\"success_url\"\r\n                    // value={`http://localhost:3000/myTicket/${orderId}/${secondaryData.paymentParamsId}`}\r\n                    value={`https://veze.club/myTicket/${orderId}/${secondaryData.paymentParamsId}`}\r\n                  />\r\n                  <input\r\n                    type=\"hidden\"\r\n                    name=\"failure_url\"\r\n                    // value={`http://localhost:3000/ticket/${orderId}/${primary}/${secondary}`}\r\n                    value={`https://veze.club/ticket/${orderId}/${primary}/${secondary}`}\r\n                  />\r\n                  <input type=\"hidden\" name=\"lang\" value={locale.toLowerCase()} />\r\n                  <input type=\"hidden\" name=\"encoding\" value=\"UTF-8\" />\r\n                  <input type=\"hidden\" name=\"exp_time\" value={(time / 1000).toFixed()} />\r\n                  {/* <input type=\"hidden\" name=\"exp_time\" value={\"1000\"} /> */}\r\n\r\n                  <button\r\n                    className={styles.portmone}\r\n                    type=\"submit\"\r\n                    onClick={handleClick}\r\n                  ></button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleClickReturn}\r\n              className={styles.returnConditions}\r\n            >\r\n              <FormattedMessage id=\"return\" />\r\n            </button>\r\n          </div>\r\n          <Modal open={segments.length > 0} onClose={closeReturnConditions}>\r\n            <ReturnConditions segments={segments} close={closeReturnConditions} />\r\n          </Modal>\r\n          {/* <Modal open={isModal} disableBackdropClick={true}>\r\n            <GoHome />\r\n          </Modal> */}\r\n          {googleRes && (\r\n            <form\r\n              ref={ref}\r\n              id=\"TheForm\"\r\n              action={googleRes.params3ds.action}\r\n              method=\"POST\"\r\n              name=\"TheForm\"\r\n            >\r\n              <input type=\"hidden\" name=\"PaReq\" value={googleRes.params3ds.PaReq} />\r\n              <input type=\"hidden\" name=\"MD\" value={googleRes.params3ds.MD} />\r\n              <input\r\n                type=\"hidden\"\r\n                name=\"TermUrl\"\r\n                // value={`http://localhost:3000/ticket/${orderId}/${primary}/${secondary}`}\r\n                value={\r\n                  `https://busis.eu/gds-sale/api/v1/transaction/callback/3ds/${orderId}/${secondaryData.paymentParamsId}?` +\r\n                  `successURL=` +\r\n                  encodeURIComponent(\r\n                    `https://veze.club/myTicket/${orderId}/${secondaryData.paymentParamsId}`\r\n                  ) +\r\n                  `&errorURL=` +\r\n                  encodeURIComponent(\r\n                    `https://veze.club/ticket/${orderId}/${primary}/${secondary}`\r\n                  )\r\n                }\r\n              />\r\n            </form>\r\n          )}\r\n        </IntlProvider>\r\n      )}\r\n      {isLoader && <Loader />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PaymentBox;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getTicket } from \"../redux/order/orderOperation\";\r\nimport styles from \"./TicketPage.module.css\";\r\nimport PaymentBox from \"../components/TicketContainer/PaymentBox\";\r\nimport TripInfo from \"../components/TicketContainer/TripInfo\";\r\nimport PassengersData from \"../components/TicketContainer/PassengersData\";\r\nimport CryptoJS from \"crypto-js\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport AdditionalServicesData from \"../components/TicketContainer/AdditionalServicesData\";\r\n\r\nconst TicketPage = () => {\r\n  const dispatch = useDispatch();\r\n  const ticket = useSelector((state) => state.order.ticket);\r\n  const [routs, setRouts] = useState([]);\r\n  const [additionalServices, setAdditionalServices] = useState([]);\r\n  const { orderId, primary, secondary } = useParams();\r\n  // ==== получаем информацию о билете ==== //\r\n  useEffect(() => {\r\n    // ==== получаем зашифрованый id === //\r\n    const encryptId = atob(orderId);\r\n    // ==== расшифровуем id ==== //\r\n    const id = CryptoJS.AES.decrypt(encryptId, \"KeyVeze\").toString(CryptoJS.enc.Utf8);\r\n    // ==== самовызывающяяся функция redux====\r\n    ((orderId) => dispatch(getTicket(orderId)))(id);\r\n  }, [dispatch, orderId]);\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(ticket).length > 0) {\r\n      const arr = [];\r\n      for (let [key, values] of Object.entries(ticket.segments)) {\r\n        arr.push({ [key]: values });\r\n      }\r\n      setRouts(\r\n        arr.sort((a, b) => {\r\n          const A = new Date(a[Object.keys(a)[0]].departureDate).getTime();\r\n          const B = new Date(b[Object.keys(b)[0]].departureDate).getTime();\r\n          return A - B;\r\n        })\r\n      );\r\n\r\n      // ==== определяем масив всех уникальных ключей дополнительных сервисов ==== //\r\n      setAdditionalServices(\r\n        Array.from(\r\n          new Set(\r\n            ticket.services\r\n              .filter((el) => el.hasOwnProperty(\"additionalService\"))\r\n              .reduce((arr, el) => {\r\n                arr.push(el.additionalService.id);\r\n                return arr;\r\n              }, [])\r\n          )\r\n        )\r\n      );\r\n    }\r\n  }, [ticket]);\r\n  return (\r\n    <div className=\"bgnd\">\r\n      {routs.length > 0 && (\r\n        <div className=\"container\">\r\n          <div className={styles.data}>\r\n            <TripInfo routs={routs} />\r\n            <PassengersData />\r\n            {additionalServices.length > 0 && (\r\n              <AdditionalServicesData addServ={additionalServices} />\r\n            )}\r\n          </div>\r\n          <div className={styles.data}>\r\n            <PaymentBox\r\n              routs={routs}\r\n              orderId={orderId}\r\n              primary={primary}\r\n              secondary={secondary}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n      {/* <pre>{JSON.stringify(ticket, null, 4)} </pre> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TicketPage;\r\n"],"sourceRoot":""}