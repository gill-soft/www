{"version":3,"sources":["services/getInfo.js","intl/TicketPageMessanges.js","redux/order/orderActions.js","images/add-black-18dp.svg","images/remove-black-18dp.svg","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","redux/order/orderOperation.js","components/TicketContainer/PassengersData.js","components/TicketContainer/PassengersData.module.css","components/TicketContainer/TripInfo.js","components/TicketContainer/TripInfo.module.css","components/TicketContainer/AdditionalServicesData.js","components/TicketContainer/AdditionalServicesData.module.css","components/Loader/Loader.js","components/Loader/Loader.module.css","pages/TicketPage.module.css","../node_modules/@google-pay/button-react/dist/index.umd.min.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/setPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/getPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/assertThisInitialized.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass.js","components/TicketContainer/PaymentBox.module.css","components/GoHome/GoHome.module.css","components/TicketContainer/ReturnConditions.module.css","components/TicketContainer/AddAdditionalServices.module.css","components/GoHome/GoHome.js","components/TicketContainer/ReturnConditions.js","components/TicketContainer/PaymentBox.js","components/TicketContainer/AddAdditionalServices.js","pages/TicketPage.js"],"names":["getCity","id","trips","lang","parentId","localities","parent","city","name","EN","UA","RU","PL","getStop","stop","getAddress","address","getRouteName","routeName","segments","route","getDate","key","trip","date","split","Date","getTime","toLocaleString","day","month","year","getTimeDisplay","getTimeInWayDouble","tripKeys","h","m","dateDeparture","departureDate","dateArrival","arrivalDate","departureTime","arrivalTime","departureMs","deltaMs","hour","Math","floor","minutes","getPrice","reduce","summ","el","Number","price","amount","getYesterday","getTomorrow","getTodayDate","getExpireDate","time","getExpireTime","messages","UK","passangersData","cost","passenger","surname","phone","endTime","securityStandart","addservices","pay","return","booking","goHome","uah","success","fail","number","call","download","addBtn","status","order","setTripKeys","arr","type","Types","FETCH_TRIP_KEYS","payload","fetchTicket","ticket","FETCH_TICKET","setAdditionalServices","ADDITIONAL_SERVICES","_path","_path2","_extends","Object","assign","target","i","arguments","length","source","prototype","hasOwnProperty","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgAddBlack18Dp","_ref","svgRef","title","titleId","props","xmlns","fill","width","height","ref","d","ForwardRef","SvgRemoveBlack18Dp","_defineProperty","obj","value","defineProperty","enumerable","configurable","writable","getTicket","orderId","dispatch","getTicketInfo","then","data","catch","error","getError","message","getTicketConfirm","paymentId","ticketComfirm","PassengersData","useSelector","state","language","locale","useState","passangers","setPassangers","useEffect","values","customers","push","className","styles","passangersBox","subTitle","map","idx","header","services","filter","acc","toFixed","passangerData","passangerTitle","passangerName","module","exports","TripInfo","routs","orderBox","locality","departure","localityStop","arrival","AdditionalServicesData","addServ","box","flex","item","additionalServices","additionalService","Loader","loader","color","e","t","default","n","o","Promise","a","s","l","next","r","throw","done","document","createElement","src","async","removeEventListener","remove","Error","addEventListener","body","appendChild","handleClick","config","createLoadPaymentDataRequest","client","loadPaymentData","onLoadPaymentData","statusCode","onCancel","onError","console","options","element","window","global","google","payments","api","PaymentsClient","isGooglePayLoaded","appendStyles","updateElement","oldInvalidationValues","isClientInvalidated","getInvalidationValues","resolve","environment","merchantInfo","createMerchantInfo","onPaymentDataChanged","onPaymentAuthorized","paymentDataCallbacks","paymentRequest","apiVersion","apiVersionMinor","allowedPaymentMethods","existingPaymentMethodRequired","softwareInfo","softwareInfoId","version","softwareInfoVersion","isConnected","ShadowRoot","Element","Array","from","children","tagName","isMounted","removeButton","createClientOptions","buttonType","buttonColor","buttonSizeMode","buttonLocale","onClick","getRootNode","buttonRootNode","createButton","setClassName","isReadyToPay","createIsReadyToPayRequest","result","paymentMethodPresent","prefetchPaymentData","log","onReadyToPayChange","isButtonVisible","join","removeAttribute","cssSelector","replace","getElementById","innerHTML","Document","head","some","merchantId","merchantName","manager","elementRef","createRef","current","mount","configure","unmount","style","Component","require","setPrototypeOf","subClass","superClass","TypeError","create","constructor","_setPrototypeOf","p","__proto__","getPrototypeOf","isNativeReflectConstruct","possibleConstructorReturn","Derived","hasNativeReflectConstruct","Super","NewTarget","Reflect","construct","_getPrototypeOf","sham","Proxy","toString","_typeof","assertThisInitialized","self","Symbol","iterator","ReferenceError","instance","Constructor","_defineProperties","descriptor","protoProps","staticProps","GoHome","React","forwardRef","text","to","link","ReturnConditions","close","segment","tariff","returnConditions","PaymentBox","setTime","isLoader","setIsLoader","googleRes","setGoogleRes","isModal","setIsModal","setSegments","totalPrice","settotalPrice","agent","JSON","parse","localStorage","getItem","history","useHistory","useRef","getTotalPrice","dateEnd","expire","timeEnd","timeStart","need3ds","submit","payed","primaryPaymentParams","paymentParamsId","intervalId","setInterval","clearInterval","ticketsArray","servicesArray","ticketsSumm","servicesSumm","closeReturnConditions","warning","warningText","minute","second","payment","infoblock","images","img","visa","alt","maestro","mastercard","flexItem","total","payType","sellerToken","parameters","allowedAuthMethods","allowedCardNetworks","tokenizationSpecification","gateway","gpayGateway","gatewayMerchantId","gpayMerchantId","transactionInfo","totalPriceStatus","totalPriceLabel","currencyCode","countryCode","isGooglePayComfirm","err","getGooleplayConfirm","action","method","secondaryPaymentParams","payeeId","toLowerCase","portmone","Modal","open","onClose","disableBackdropClick","params3ds","PaReq","MD","encodeURIComponent","AddAdditionalServices","changeRouts","useDispatch","useCallback","newServices","setNewServices","summa","setSumma","handleAddServices","prev","customer","handleRemoveOneServices","index","findIndex","arr1","slice","arr2","handleRemoveServices","addKey","totalbutton","disabled","currency","0","updateTicketWithServices","insuranceBuy","AddServ","count","setCount","isChecked","setIsChecked","additionals","iconId","description","nameAddServ","checkbox","onChange","checked","enableCount","controlers","btn","TicketPage","setRouts","additionalServicesKeys","setAdditionalServicesKeys","newAddServicesData","setNewAddServicesData","newAddServicesKeys","setNewAddServicesKeys","useParams","encryptId","atob","CryptoJS","AES","decrypt","enc","Utf8","entries","sort","b","Set","getInitializationServices","getSearchServices","searchId","now","deltaTime","getAdditionalServices","getAdditionalServicesInfo","setTimeout","includes"],"mappings":"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","file":"static/js/10.71224b0e.chunk.js","sourcesContent":["// import { getTime } from \"date-fns\";\r\n\r\n// ==== получаем наcелённый пункт отправки/прибытия ==== //\r\nexport const getLocality = (id, stops, lang) => {\r\n  const result = stops.find((el) => el.id === id);\r\n  return result ? result.name[lang] || result.name[`EN`] : null;\r\n};\r\n// ==== получаем город отправки/прибытия\r\nexport const getCity = (id, trips, lang) => {\r\n  const parentId = trips.localities[id].parent.id;\r\n  const city = trips.localities[parentId] ? trips.localities[parentId].name : \"\";\r\n  return city ? city[lang] || city.EN || city.UA || city.RU || city.PL : \"\";\r\n};\r\n\r\n// ==== получаем остановку отправки/прибытия === //\r\nexport const getStop = (id, trips, lang) => {\r\n  const stop = trips.localities[id].name ? trips.localities[id].name : \"\";\r\n  return stop ? stop[lang] || stop.EN || stop.UA || stop.RU || stop.PL : \"\";\r\n};\r\n\r\n// ==== получаем adress отправки/прибытия === //\r\nexport const getAddress = (id, trips, lang) => {\r\n  const address = trips.localities[id].address ? trips.localities[id].address : \"\";\r\n  return address\r\n    ? address[lang] || address.EN || address.UA || address.RU || address.PL\r\n    : \"\";\r\n};\r\nexport const getRouteName = (id, trips) => {\r\n  const routeName = trips.segments[id].route ? trips.segments[id].route.name : \"\";\r\n  return routeName ? routeName.EN || routeName.UA || routeName.RU || routeName.PL : \"\";\r\n};\r\n// ==== получаем адресс промежуточной остановки ==== //\r\nexport const getAllAddress = (key, trips, lang) =>\r\n  Object.keys(trips).length > 0 && trips.localities[key]?.address\r\n    ? trips.localities[key]?.address[lang] || trips.localities[key].address[`RU`]\r\n    : null;\r\n\r\n// ==== получаем дату отправки/прибытия ==== //\r\nexport const getDate = (key, trip, lang) => {\r\n  const date = trip[key].split(\" \")[0];\r\n  return new Date(new Date(date).getTime()).toLocaleString(lang, {\r\n    day: \"2-digit\",\r\n    month: \"short\",\r\n    year: \"2-digit\",\r\n  });\r\n};\r\n\r\n// ==== получаем время отправки/прибытия ==== //\r\nexport const getTimeDisplay = (key, trip, lang) => {\r\n  return trip[key].split(\" \")[1];\r\n};\r\n\r\n// ==== получаем время в дороге маршрутов с пересадкой ====//\r\nexport const getTimeInWayDouble = (tripKeys, trips, lang) => {\r\n  let h, m;\r\n  switch (lang) {\r\n    case \"RU\":\r\n      h = \"ч\";\r\n      m = \"мин\";\r\n      break;\r\n    case \"UA\":\r\n      h = \"г\";\r\n      m = \"хв\";\r\n      break;\r\n    case \"EN\":\r\n      h = \"h\";\r\n      m = \"min\";\r\n      break;\r\n    case \"PL\":\r\n      h = \"g\";\r\n      m = \"min\";\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  const dateDeparture = trips.segments[tripKeys[0]].departureDate.split(\" \");\r\n  const dateArrival = trips.segments[tripKeys[0]].arrivalDate.split(\" \");\r\n  const departureTime =\r\n    dateDeparture[1].split(\":\")[0] * 60 * 60 * 1000 +\r\n    dateDeparture[1].split(\":\")[1] * 60 * 1000;\r\n  const arrivalTime =\r\n    dateArrival[1].split(\":\")[0] * 60 * 60 * 1000 +\r\n    dateArrival[1].split(\":\")[1] * 60 * 1000;\r\n  const departureMs = new Date(dateDeparture[0]).getTime() + departureTime;\r\n  const arrivalMs = new Date(dateArrival[0]).getTime() + arrivalTime;\r\n  const deltaMs = arrivalMs - departureMs;\r\n  const hour = Math.floor(deltaMs / (1000 * 60 * 60));\r\n  const minutes = Math.floor((deltaMs / (1000 * 60)) % 60);\r\n\r\n  return `${hour}${h} ${minutes}${m}`;\r\n};\r\n\r\n// ==== получаем сумму рейсов с пересадкой ====//\r\nexport const getPrice = (tripKeys, trips) => {\r\n  return tripKeys.reduce((summ, el) => {\r\n    summ += Number(trips.segments[el].price.amount);\r\n    return summ;\r\n  }, 0);\r\n};\r\n// ==== вчерашняя дата ==== //\r\nexport const getYesterday = ({ date }, lang) => {\r\n  return new Date(new Date(date).getTime() - 24 * 60 * 60 * 1000).toLocaleString(lang, {\r\n    day: \"2-digit\",\r\n    month: \"long\",\r\n    year: \"2-digit\",\r\n  });\r\n};\r\n\r\n// ==== завтрашняя дата ==== //\r\nexport const getTomorrow = ({ date }, lang) => {\r\n  return new Date(new Date(date).getTime() + 24 * 60 * 60 * 1000).toLocaleString(lang, {\r\n    day: \"2-digit\",\r\n    month: \"long\",\r\n    year: \"2-digit\",\r\n  });\r\n};\r\n\r\n// ==== сегодняшняя дата ==== //\r\nexport const getTodayDate = ({ date }, lang) => {\r\n  return new Date(date).toLocaleString(lang, {\r\n    day: \"2-digit\",\r\n    month: \"long\",\r\n    year: \"2-digit\",\r\n  });\r\n};\r\n// ==== время до конца оплаты ==== //\r\nexport const getExpireDate = (date, lang) => {\r\n  const time = date.split(\" \")[0];\r\n  return new Date(time).toLocaleString(lang, {\r\n    day: \"2-digit\",\r\n    month: \"long\",\r\n    year: \"2-digit\",\r\n  });\r\n};\r\nexport const getExpireTime = (date) => {\r\n  return ` ${date.split(\" \")[1]}`;\r\n  \r\n};\r\n","export const messages = {\r\n  UK: {\r\n    trip: \"Маршрут:\",\r\n    passangersData: \"Відомості про пасажирів\",\r\n    cost: \"Вартість: \",\r\n    passenger: \"Пасажир №:\",\r\n    name: \"Ім'я\",\r\n    surname: \"Прізвище\",\r\n    phone: \"Телефон\",\r\n    endTime: \"Для оформлення замовлення оплатіть його до: \",\r\n    securityStandart:\r\n      \"Ваші платіжні та особисті дані надійно захищені відповідно до міжнародних стандартів безпеки\",\r\n    addservices: \"Додаткові послуги\",\r\n    summ: \"Сума до сплати: \",\r\n    pay: \"сплатити за допомогою:\",\r\n    return: \"Умови повернення\",\r\n    booking: \"Час актуального бронювання закінчився\",\r\n    goHome: \"Повернутися на головну сторінку\",\r\n    uah: \"грн\",\r\n    success: \"Оплата пройшла успішно!!!\",\r\n    fail: \"При оформленні квитка виникла помилка\",\r\n    number: \"Номер Вашого замовлення \",\r\n    call: \"Звяжіться з службою підтримки за телефоном: \",\r\n    download: \"завантажити квиток\",\r\n    addBtn: \"Додати до замовлення\",\r\n    status: \"Статус\",\r\n    order: \"Номер замовлення: \",\r\n  },\r\n  RU: {\r\n    trip: \"Маршрут:\",\r\n    passangersData: \"Данные о пассажирах:\",\r\n    cost: \"Стоимость: \",\r\n    passenger: \"Пассажир №:\",\r\n    name: \"Имя\",\r\n    surname: \"Фамилия\",\r\n    phone: \"Телефон\",\r\n    endTime: \"Для оформления заказа оплатите его до: \",\r\n    securityStandart:\r\n      \"Ваши платежные и личные данные надежно защищены в соответствии с международными стандартами безопасности.\",\r\n    addservices: \"Дополнительные услуги\",\r\n    summ: \"Сумма к оплате: \",\r\n    pay: \"Оплатить с помощью\",\r\n    return: \"Условия возврата\",\r\n    booking: \"Время актуального бронирования истекло\",\r\n    goHome: \"Вернуться на главную страницу \",\r\n    uah: \"грн\",\r\n    success: \"Оплата прошла успешно !!!\",\r\n    fail: \"При оформлении билета возникла ошибка\",\r\n    number: \"Номер вашего заказа\",\r\n    call: \"Свяжитесь со службой поддержки по телефону: \",\r\n    download: \"скачать билет\",\r\n    addBtn: \"Добавить к заказу\",\r\n    status: \"Статус\",\r\n    order: \"Номер заказа: \",\r\n  },\r\n  \r\n  EN: {\r\n    trip: \"Route:\",\r\n    passangersData: \"Passenger data:\",\r\n    cost: \" Cost:\",\r\n    passenger: \"Passenger №:\",\r\n    name: \"Name\",\r\n    surname: \"Surname\",\r\n    phone: \"Phone\",\r\n    endTime: \"To place an order, pay for it before: \",\r\n    securityStandart:\r\n      \"Your payment and personal data are reliably protected in accordance with international security standards.\",\r\n    addservices: \"Additional services\",\r\n    summ: \"Amount to pay\",\r\n    pay: \"Pay with help\",\r\n    return: \"Return conditions\",\r\n    booking: \"Current booking time has expired\",\r\n    goHome: \"Return to the homepage\",\r\n    uah: \"uah\",\r\n    success: \"The payment was successful !!!\",\r\n    fail: \"An error occurred while issuing a ticket\",\r\n    number: \"Your order number\",\r\n    call: \"Contact support by phone: \",\r\n    download: \"download your ticket\",\r\n    addBtn: \"Add to order\",\r\n    status: \"Status\",\r\n    order: \"Order number: \",\r\n  },\r\n  \r\n  PL: {\r\n    trip: \"Trasa:\",\r\n    passangersData: \"Dane pasażera:\",\r\n    cost: \"Koszt: \",\r\n    passenger: \"Pasażera №:\",\r\n    name: \"Nazwa\",\r\n    surname: \"Nazwisko\",\r\n    phone: \"Telefon\",\r\n    endTime: \"Aby złożyć zamówienie, opłać je wcześniej: \",\r\n    securityStandart:\r\n      \"Twoje płatności i dane osobowe są bezpiecznie chronione zgodnie z międzynarodowymi standardami bezpieczeństwa.\",\r\n    addservices: \"Dodatkowe usługi\",\r\n    summ: \"Kwota do zapłaty\",\r\n    pay: \"Płacić z pomocą\",\r\n    return: \"Warunki zwrotu\",\r\n    booking: \"Aktualny czas rezerwacji upłynął\",\r\n    goHome: \"Wróć do strony głównej\",\r\n    uah: \"uah\",\r\n    success: \"Płatność się powiodła !!!\",\r\n    fail: \"Wystąpił błąd podczas wystawiania biletu\",\r\n    number: \"Numer Twojego zamówienia\",\r\n    call: \"Skontaktuj się z obsługą klienta telefonicznie:\",\r\n    download: \"pobierz bilet\",\r\n    addBtn: \"Dodać do zamówienia\",\r\n    status: \"Status\",\r\n    order: \"Order number: \",\r\n  },\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n ","import { Types } from \"../actionsTypes\";\r\n\r\nexport const setTripKeys = (arr) => ({\r\n  type: Types.FETCH_TRIP_KEYS,\r\n  payload: arr,\r\n});\r\n\r\nexport const fetchTicket = (ticket) => ({\r\n  type: Types.FETCH_TICKET,\r\n  payload: ticket,\r\n});\r\n\r\nexport const setAdditionalServices = (arr) => ({\r\n  type: Types.ADDITIONAL_SERVICES,\r\n  payload: arr,\r\n});\r\n","var _path, _path2;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgAddBlack18Dp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"var(--color-secondary)\",\n    width: 24,\n    height: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAddBlack18Dp);\nexport default __webpack_public_path__ + \"static/media/add-black-18dp.78276211.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgRemoveBlack18Dp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"var(--color-secondary)\",\n    width: 24,\n    height: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 13H5v-2h14v2z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRemoveBlack18Dp);\nexport default __webpack_public_path__ + \"static/media/remove-black-18dp.525fb5e6.svg\";\nexport { ForwardRef as ReactComponent };","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import { getError } from \"../global/globalActions\";\r\nimport { fetchTicket } from \"./orderActions\";\r\nimport { getTicketInfo, ticketComfirm } from \"../../services/api\";\r\n\r\nexport const getTicket = (orderId) => (dispatch) => {\r\n  getTicketInfo(orderId)\r\n    .then(({ data }) => dispatch(fetchTicket(data)))\r\n    .catch((error) => dispatch(getError(error.message)));\r\n};\r\n\r\nexport const getTicketConfirm = (orderId, paymentId) => (dispatch) => {\r\n  ticketComfirm(orderId, paymentId)\r\n    .then(({ data }) => dispatch(fetchTicket(data)))\r\n    .catch((error) => dispatch(getError(error.message)));\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport styles from \"./PassengersData.module.css\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport { messages } from \"../../intl/TicketPageMessanges\";\r\n\r\nconst PassengersData = () => {\r\n  const lang = useSelector((state) => state.language);\r\n  const ticket = useSelector((state) => state.order.ticket);\r\n  const locale = lang === \"UA\" ? \"UK\" : lang;\r\n  const [passangers, setPassangers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(ticket).length > 0) {\r\n      const arr = [];\r\n      for (let values of Object.values(ticket.customers)) {\r\n        arr.push({ values });\r\n        setPassangers(arr);\r\n      }\r\n    }\r\n  }, [ticket]);\r\n\r\n  const getTotalPrice = () =>\r\n    ticket.services\r\n      .filter((el) => el.hasOwnProperty(\"segment\"))\r\n      .reduce((acc, el) => {\r\n        return acc + el.price.amount;\r\n      }, 0);\r\n  return (\r\n    <IntlProvider locale={locale} messages={messages[locale]}>\r\n      <div className={styles.passangersBox}>\r\n        <h4 className={styles.subTitle}>\r\n          <FormattedMessage id=\"passangersData\" />\r\n        </h4>\r\n        <ul>\r\n          {passangers.map((el, idx) => (\r\n            <li key={idx}>\r\n              <div className={styles.header}>\r\n                <p className={styles.number}>\r\n                  <FormattedMessage id=\"passenger\" />\r\n                  {idx + 1}\r\n                </p>\r\n                <p className={styles.price}>\r\n                  <span>\r\n                    <FormattedMessage id=\"cost\" />\r\n                  </span>{\" \"}\r\n                  {(getTotalPrice() / passangers.length).toFixed(2)} <small><FormattedMessage id=\"uah\" /></small>\r\n                </p>\r\n              </div>\r\n              <div className={styles.passangerData}>\r\n                <div>\r\n                  <p className={styles.passangerTitle}>\r\n                    <FormattedMessage id=\"name\" />\r\n                  </p>\r\n                  <p className={styles.passangerName}>{el.values.name}</p>\r\n                </div>\r\n                <div>\r\n                  <p className={styles.passangerTitle}>\r\n                    <FormattedMessage id=\"surname\" />\r\n                  </p>\r\n                  <p className={styles.passangerName}>{el.values.surname}</p>\r\n                </div>\r\n                <div>\r\n                  <p className={styles.passangerTitle}>\r\n                    <FormattedMessage id=\"phone\" />\r\n                  </p>\r\n                  <p className={styles.passangerName}>{el.values.phone}</p>\r\n                </div>\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </IntlProvider>\r\n  );\r\n};\r\n\r\nexport default PassengersData;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"passangersBox\":\"PassengersData_passangersBox__2OOgk\",\"subTitle\":\"PassengersData_subTitle__29wG9\",\"header\":\"PassengersData_header__NVGzD\",\"number\":\"PassengersData_number__IHxg_\",\"price\":\"PassengersData_price__3JM-K\",\"passangerData\":\"PassengersData_passangerData__2wmc0\",\"passangerTitle\":\"PassengersData_passangerTitle__IB--I\",\"passangerName\":\"PassengersData_passangerName__1M8Og\",\"title\":\"PassengersData_title__6l9lO\"};","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport styles from \"./TripInfo.module.css\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport { messages } from \"../../intl/TicketPageMessanges\";\r\nimport { getCity, getDate, getStop, getTimeDisplay } from \"../../services/getInfo\";\r\n\r\nconst TripInfo = ({ routs }) => {\r\n  \r\n  const lang = useSelector((state) => state.language);\r\n  const ticket = useSelector((state) => state.order.ticket);\r\n  const locale = lang === \"UA\" ? \"UK\" : lang;\r\n\r\n  return (\r\n    <IntlProvider locale={locale} messages={messages[locale]}>\r\n      <div className={styles.orderBox}>\r\n        <h4 className={styles.subTitle}>\r\n          <FormattedMessage id=\"trip\" />\r\n        </h4>\r\n        <div>\r\n          <p className={styles.locality}>\r\n            {getCity(\r\n              ticket.segments[Object.keys(routs[0])[0]].departure.id,\r\n              ticket,\r\n              lang\r\n            )}\r\n          </p>\r\n          <p className={styles.localityStop}>\r\n            {getStop(\r\n              ticket.segments[Object.keys(routs[0])[0]].departure.id,\r\n              ticket,\r\n              lang\r\n            )}\r\n          </p>\r\n          <p className={styles.date}>\r\n            {getDate(\"departureDate\", ticket.segments[Object.keys(routs[0])[0]], lang)}{\" \"}\r\n            {getTimeDisplay(\r\n              \"departureDate\",\r\n              ticket.segments[Object.keys(routs[0])[0]],\r\n              lang\r\n            )}\r\n          </p>\r\n        </div>\r\n        <div>\r\n          <p className={styles.locality}>\r\n            {getCity(\r\n              ticket.segments[Object.keys(routs[routs.length - 1])[0]].arrival.id,\r\n              ticket,\r\n              lang\r\n            )}\r\n          </p>\r\n          <p className={styles.localityStop}>\r\n            {getStop(\r\n              ticket.segments[Object.keys(routs[routs.length - 1])[0]].arrival.id,\r\n              ticket,\r\n              lang\r\n            )}\r\n          </p>\r\n          <p className={styles.date}>\r\n            {getDate(\r\n              \"arrivalDate\",\r\n              ticket.segments[Object.keys(routs[routs.length - 1])[0]],\r\n              lang\r\n            )}{\" \"}\r\n            {getTimeDisplay(\r\n              \"arrivalDate\",\r\n              ticket.segments[Object.keys(routs[routs.length - 1])[0]],\r\n              lang\r\n            )}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </IntlProvider>\r\n  );\r\n};\r\n\r\nexport default TripInfo;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"orderBox\":\"TripInfo_orderBox__1dSE3\",\"locality\":\"TripInfo_locality__2IGqX\",\"subTitle\":\"TripInfo_subTitle__3-9Jl\",\"arrow\":\"TripInfo_arrow__1L1Je\",\"localityStop\":\"TripInfo_localityStop__1HLg_\",\"date\":\"TripInfo_date__2Ya6B\",\"passangersBox\":\"TripInfo_passangersBox__Ddz0_\"};","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { messages } from \"../../intl/TicketPageMessanges\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport styles from \"./AdditionalServicesData.module.css\";\r\n\r\nconst AdditionalServicesData = ({ addServ }) => {\r\n  const ticket = useSelector((state) => state.order.ticket);\r\n  const lang = useSelector((state) => state.language);\r\n  const locale = lang === \"UA\" ? \"UK\" : lang;\r\n\r\n  const getPrice = (key) => {\r\n    return ticket.services\r\n      .filter((el) => el?.additionalService?.id === key)\r\n      .reduce((summ, el) => {\r\n        summ += el.price.amount;\r\n        return summ;\r\n      }, 0);\r\n  };\r\n  return (\r\n    <IntlProvider locale={locale} messages={messages[locale]}>\r\n      <div className={styles.box}>\r\n        <h4 className={styles.title}>\r\n          <FormattedMessage id=\"addservices\" />\r\n        </h4>\r\n        <div className={styles.flex}>\r\n          {addServ.map((el) => (\r\n            <div key={el} className={styles.item}>\r\n              <p>\r\n                {ticket.additionalServices[el].name[lang]}:\r\n                <span>\r\n                  {\" \"}\r\n                  {getPrice(el).toFixed(2)}\r\n                  <small>\r\n                    <FormattedMessage id=\"uah\" />\r\n                  </small>\r\n                </span>\r\n              </p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </IntlProvider>\r\n  );\r\n};\r\n\r\nexport default AdditionalServicesData;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"AdditionalServicesData_box__E2rGd\",\"title\":\"AdditionalServicesData_title__3NowY\",\"item\":\"AdditionalServicesData_item__36O0i\",\"flex\":\"AdditionalServicesData_flex__2Y38e\"};","import React from 'react';\r\nimport LoaderFromLibrary from 'react-loader-spinner';\r\nimport styles from './Loader.module.css';\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className={styles.loader}>\r\n      <LoaderFromLibrary\r\n        type=\"BallTriangle\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__rbNku\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"data\":\"TicketPage_data__1m1Cf\"};","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t(require(\"react\")):\"function\"==typeof define&&define.amd?define([\"react\"],t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).GooglePayButton=t(e.React)}(this,(function(e){\"use strict\";function t(e){return e&&\"object\"==typeof e&&\"default\"in e?e:{default:e}}var n=t(e);\n/*! *****************************************************************************\n    Copyright (c) Microsoft Corporation.\n\n    Permission to use, copy, modify, and/or distribute this software for any\n    purpose with or without fee is hereby granted.\n\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n    PERFORMANCE OF THIS SOFTWARE.\n    ***************************************************************************** */function o(e,t,n,o){return new(n||(n=Promise))((function(i,a){function s(e){try{l(o.next(e))}catch(e){a(e)}}function r(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}l((o=o.apply(e,t||[])).next())}))}let i={};function a(e){const t=i[e];if(t)return t;const n=new Promise((t,n)=>{const o=document.createElement(\"script\");o.src=e,o.async=!0;const a=()=>{t()},s=()=>{o.removeEventListener(\"load\",a),o.removeEventListener(\"error\",s),delete i[e],o.remove(),n(new Error(\"Unable to load script \"+e))};o.addEventListener(\"load\",a),o.addEventListener(\"error\",s),document.body.appendChild(o)});return i[e]=n,n}class s{constructor(e){this.handleClick=()=>o(this,void 0,void 0,(function*(){const e=this.config;if(!e)throw new Error(\"google-pay-button: Missing configuration\");const t=this.createLoadPaymentDataRequest(e);try{const n=yield this.client.loadPaymentData(t);e.onLoadPaymentData&&e.onLoadPaymentData(n)}catch(t){\"CANCELED\"===t.statusCode?e.onCancel&&e.onCancel(t):e.onError?e.onError(t):console.error(t)}})),this.options=e}getElement(){return this.element}isGooglePayLoaded(){var e,t;return\"google\"in(window||global)&&!!(null===(t=null===(e=null===google||void 0===google?void 0:google.payments)||void 0===e?void 0:e.api)||void 0===t?void 0:t.PaymentsClient)}mount(e){return o(this,void 0,void 0,(function*(){this.isGooglePayLoaded()||(yield a(\"https://pay.google.com/gp/p/js/pay.js\")),this.element=e,e&&(this.appendStyles(),this.config&&this.updateElement())}))}unmount(){this.element=void 0}configure(e){let t=void 0;return this.config=e,this.oldInvalidationValues&&!this.isClientInvalidated(e)||(t=this.updateElement()),this.oldInvalidationValues=this.getInvalidationValues(e),null!=t?t:Promise.resolve()}createClientOptions(e){const t={environment:e.environment,merchantInfo:this.createMerchantInfo(e)};return(e.onPaymentDataChanged||e.onPaymentAuthorized)&&(t.paymentDataCallbacks={},e.onPaymentDataChanged&&(t.paymentDataCallbacks.onPaymentDataChanged=t=>e.onPaymentDataChanged(t)||{}),e.onPaymentAuthorized&&(t.paymentDataCallbacks.onPaymentAuthorized=t=>e.onPaymentAuthorized(t)||{})),t}createIsReadyToPayRequest(e){const t=e.paymentRequest;return{apiVersion:t.apiVersion,apiVersionMinor:t.apiVersionMinor,allowedPaymentMethods:t.allowedPaymentMethods,existingPaymentMethodRequired:e.existingPaymentMethodRequired}}createLoadPaymentDataRequest(e){return Object.assign(Object.assign({},e.paymentRequest),{merchantInfo:this.createMerchantInfo(e)})}createMerchantInfo(e){const t=Object.assign({},e.paymentRequest.merchantInfo);return t.softwareInfo||(t.softwareInfo={id:this.options.softwareInfoId,version:this.options.softwareInfoVersion}),t}isMounted(){return null!=this.element&&!1!==this.element.isConnected}removeButton(){if(this.element instanceof ShadowRoot||this.element instanceof Element)for(const e of Array.from(this.element.children))\"STYLE\"!==e.tagName&&e.remove()}updateElement(){var e;return o(this,void 0,void 0,(function*(){if(!this.isMounted())return;const t=this.element;if(!this.config)throw new Error(\"google-pay-button: Missing configuration\");this.removeButton(),this.client=new google.payments.api.PaymentsClient(this.createClientOptions(this.config));const n={buttonType:this.config.buttonType,buttonColor:this.config.buttonColor,buttonSizeMode:this.config.buttonSizeMode,buttonLocale:this.config.buttonLocale,onClick:this.handleClick},o=null===(e=this.element)||void 0===e?void 0:e.getRootNode();o instanceof ShadowRoot&&(n.buttonRootNode=o);const i=this.client.createButton(n);this.setClassName(t,[t.className,\"not-ready\"]),t.appendChild(i);let a,s=!1;try{a=yield this.client.isReadyToPay(this.createIsReadyToPayRequest(this.config)),s=a.result&&!this.config.existingPaymentMethodRequired||a.result&&a.paymentMethodPresent&&this.config.existingPaymentMethodRequired||!1}catch(e){this.config.onError?this.config.onError(e):console.error(e)}if(this.isMounted()){if(s){try{this.client.prefetchPaymentData(this.createLoadPaymentDataRequest(this.config))}catch(e){console.log(\"Error with prefetch\",e)}this.setClassName(t,(t.className||\"\").split(\" \").filter(e=>e&&\"not-ready\"!==e))}if((this.isReadyToPay!==(null==a?void 0:a.result)||this.paymentMethodPresent!==(null==a?void 0:a.paymentMethodPresent))&&(this.isReadyToPay=!!(null==a?void 0:a.result),this.paymentMethodPresent=null==a?void 0:a.paymentMethodPresent,this.config.onReadyToPayChange)){const e={isButtonVisible:s,isReadyToPay:this.isReadyToPay};this.paymentMethodPresent&&(e.paymentMethodPresent=this.paymentMethodPresent),this.config.onReadyToPayChange(e)}}}))}setClassName(e,t){const n=t.filter(e=>e).join(\" \");n?e.className=n:e.removeAttribute(\"class\")}appendStyles(){var e,t,n;if(\"undefined\"==typeof document)return;const o=null===(e=this.element)||void 0===e?void 0:e.getRootNode(),i=`default-google-style-${this.options.cssSelector.replace(/[^\\w-]+/g,\"\")}-${null===(t=this.config)||void 0===t?void 0:t.buttonLocale}`;if(o&&!(null===(n=o.getElementById)||void 0===n?void 0:n.call(o,i))){const e=document.createElement(\"style\");e.id=i,e.type=\"text/css\",e.innerHTML=`\\n          ${this.options.cssSelector} {\\n            display: inline-block;\\n          }\\n          ${this.options.cssSelector}.not-ready {\\n            width: 0;\\n            height: 0;\\n            overflow: hidden;\\n          }\\n        `,o instanceof Document&&o.head?o.head.appendChild(e):o.appendChild(e)}}isClientInvalidated(e){if(!this.oldInvalidationValues)return!0;return this.getInvalidationValues(e).some((e,t)=>e!==this.oldInvalidationValues[t])}getInvalidationValues(e){var t,n;return[e.environment,e.existingPaymentMethodRequired,!!e.onPaymentDataChanged,!!e.onPaymentAuthorized,e.buttonColor,e.buttonType,e.buttonLocale,e.buttonSizeMode,e.paymentRequest.merchantInfo.merchantId,e.paymentRequest.merchantInfo.merchantName,null===(t=e.paymentRequest.merchantInfo.softwareInfo)||void 0===t?void 0:t.id,null===(n=e.paymentRequest.merchantInfo.softwareInfo)||void 0===n?void 0:n.version]}}const r=\"google-pay-button-container\";class l extends n.default.Component{constructor(){super(...arguments),this.manager=new s({cssSelector:\".\"+r,softwareInfoId:\"@google-pay/button-react\",softwareInfoVersion:\"2.3.0\"}),this.elementRef=n.default.createRef()}componentDidMount(){return o(this,void 0,void 0,(function*(){const e=this.elementRef.current;e&&(yield this.manager.mount(e),this.manager.configure(this.props))}))}componentWillUnmount(){this.manager.unmount()}componentDidUpdate(){this.manager.configure(this.props)}render(){return n.default.createElement(\"div\",{ref:this.elementRef,className:[r,this.props.className].filter(e=>e).join(\" \"),style:this.props.style})}}return l}));\n","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nvar possibleConstructorReturn = require(\"./possibleConstructorReturn\");\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}\n\nmodule.exports = _createSuper;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;","var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"time\":\"PaymentBox_time__1_NZQ\",\"warning\":\"PaymentBox_warning__3Pk17\",\"warningText\":\"PaymentBox_warningText__XvFOp\",\"payment\":\"PaymentBox_payment__1od8k\",\"portmone\":\"PaymentBox_portmone__ea5YD\",\"google\":\"PaymentBox_google__2x1G3\",\"flexItem\":\"PaymentBox_flexItem__f7IeP\",\"total\":\"PaymentBox_total__1YF6P\",\"box3ds\":\"PaymentBox_box3ds__2SDk2\",\"btn3ds\":\"PaymentBox_btn3ds__1_359\",\"infoblock\":\"PaymentBox_infoblock__1xu-I\",\"images\":\"PaymentBox_images__3A-Zf\",\"img\":\"PaymentBox_img__X-vqn\",\"returnConditions\":\"PaymentBox_returnConditions__WaWD6\",\"payType\":\"PaymentBox_payType__1zpv-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"GoHome_box__1ZK2b\",\"text\":\"GoHome_text__24yxD\",\"link\":\"GoHome_link__2WIHQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"ReturnConditions_box__7vhEM\",\"title\":\"ReturnConditions_title__2aJWz\",\"close\":\"ReturnConditions_close__31oGF\",\"text\":\"ReturnConditions_text__3QtkC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"passangersData\":\"AddAdditionalServices_passangersData__11qUZ\",\"title\":\"AddAdditionalServices_title__1l_tY\",\"box\":\"AddAdditionalServices_box__2-YOs\",\"flex\":\"AddAdditionalServices_flex__22hWq\",\"item\":\"AddAdditionalServices_item__HB0Z9\",\"description\":\"AddAdditionalServices_description__o2pyN\",\"img\":\"AddAdditionalServices_img__1Afv2\",\"btn\":\"AddAdditionalServices_btn__22mu6\",\"total\":\"AddAdditionalServices_total__2arPY\",\"controlers\":\"AddAdditionalServices_controlers__1keIe\",\"totalbutton\":\"AddAdditionalServices_totalbutton__1lHzr\",\"checkbox\":\"AddAdditionalServices_checkbox__3fh_r\",\"nameAddServ\":\"AddAdditionalServices_nameAddServ__2EYq2\"};","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport { messages } from \"../../intl/TicketPageMessanges\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport styles from \"./GoHome.module.css\";\r\n\r\nconst GoHome = React.forwardRef((props, ref) => {\r\n  const lang = useSelector((state) => state.language);\r\n  const locale = lang === \"UA\" ? \"UK\" : lang;\r\n\r\n  return (\r\n    <IntlProvider locale={locale} messages={messages[locale]}>\r\n      <div className={styles.box} ref={ref}>\r\n        <p className={styles.text}><FormattedMessage id=\"booking\" /></p>\r\n        <Link to=\"/\" className={styles.link}>\r\n        <FormattedMessage id=\"goHome\" />\r\n        </Link>\r\n      </div>\r\n    </IntlProvider>\r\n  );\r\n});\r\n\r\nexport default GoHome;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport styles from \"./ReturnConditions.module.css\";\r\nimport { ReactComponent as Close } from \"../../images/clear-black-36dp.svg\";\r\nimport { getCity } from \"../../services/getInfo\";\r\n\r\nconst ReturnConditions = React.forwardRef(({ segments, close }, ref) => {\r\n  const ticket = useSelector((state) => state.order.ticket);\r\n  const lang = useSelector((state) => state.language);\r\n\r\n  return (\r\n    <div className={styles.box} ref={ref}>\r\n      <Close fill=\"var(--color-main)\" onClick={close} className={styles.close} />\r\n      {segments.map((el, idx) => (\r\n        <div key={idx}>\r\n          <h5 className={styles.title}>\r\n            {getCity(ticket.segments[el.segment.id].departure.id, ticket, lang)} -{\" \"}\r\n            {getCity(ticket.segments[el.segment.id].arrival.id, ticket, lang)}\r\n          </h5>\r\n          <ul>\r\n            {el.price.tariff.returnConditions.map((item, idx) => (\r\n              <p key={idx} className={styles.text}>{item.title.EN}</p>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default ReturnConditions;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { Redirect, useHistory } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport GooglePayButton from \"@google-pay/button-react\";\r\nimport styles from \"./PaymentBox.module.css\";\r\nimport { messages } from \"../../intl/TicketPageMessanges\";\r\nimport { getCity, getDate, getExpireTime, getExpireDate } from \"../../services/getInfo\";\r\nimport { isGooglePayComfirm } from \"../../services/api\";\r\nimport GoHome from \"../GoHome/GoHome\";\r\nimport Loader from \"../Loader/Loader\";\r\nimport visa from \"../../images/visa-min.png\";\r\nimport mastercard from \"../../images/Mastercard-min.png\";\r\nimport maestro from \"../../images/maestro-min.png\";\r\nimport ReturnConditions from \"./ReturnConditions\";\r\n\r\nconst PaymentBox = ({ routs, orderId }) => {\r\n  const lang = useSelector((state) => state.language);\r\n  const ticket = useSelector((state) => state.order.ticket);\r\n  const locale = lang === \"UA\" ? \"UK\" : lang;\r\n  const [time, setTime] = useState(0);\r\n  const [isLoader, setIsLoader] = useState(false);\r\n  const [googleRes, setGoogleRes] = useState(null);\r\n  const [isModal, setIsModal] = useState(false);\r\n  const [segments, setSegments] = useState([]);\r\n  const [totalPrice, settotalPrice] = useState(0);\r\n  const agent = JSON.parse(localStorage.getItem(\"auth\"));\r\n  const history = useHistory();\r\n  const ref = useRef();\r\n  useEffect(() => {\r\n    // ==== расчитываем полную стоимость билета ====//\r\n    settotalPrice(getTotalPrice().toFixed(2));\r\n\r\n    // ==== определяем время до конца оплаты ==== //\r\n    const dateEnd = ticket.services[0].expire.split(\" \").join(\"T\");\r\n    const timeEnd = new Date(dateEnd).getTime();\r\n    const timeStart = new Date().getTime();\r\n    setTime(timeEnd - timeStart);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  // ==== обрабатываем ответ после оплаты googlePay ==== //\r\n  useEffect(() => {\r\n    if (googleRes) {\r\n      // ==== если нужно подтверждение 3ds ==== //\r\n      if (googleRes.need3ds) {\r\n        ref.current.submit();\r\n        return;\r\n      }\r\n      //  ==== если оплата подтверждена ==== //\r\n      if (googleRes.payed) {\r\n        history.push(\r\n          `/myTicket/${orderId}/${ticket.primaryPaymentParams.paymentParamsId}`\r\n        );\r\n      }\r\n      setIsLoader(false);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [googleRes]);\r\n\r\n  //  ==== секундомер ==== //\r\n  useEffect(() => {\r\n    if (time < 0) {\r\n      setIsModal(true);\r\n      setTime(0);\r\n      return;\r\n    }\r\n    const intervalId = setInterval(() => {\r\n      setTime(time - 1000);\r\n    }, 1000);\r\n\r\n    return () => clearInterval(intervalId);\r\n  }, [time]);\r\n\r\n  const getTotalPrice = () => {\r\n    const ticketsArray = ticket.services.filter((el) => el.hasOwnProperty(\"segment\"));\r\n    const servicesArray = ticket.services.filter((el) =>\r\n      el.hasOwnProperty(\"additionalService\")\r\n    );\r\n    const ticketsSumm = ticketsArray.reduce((acc, el) => {\r\n      return acc + el.price.amount;\r\n    }, 0);\r\n    const servicesSumm = servicesArray.reduce((acc, el) => {\r\n      return acc + el.price.amount;\r\n    }, 0);\r\n\r\n    if (agent) {\r\n      return ticketsSumm * 0.85 + servicesSumm;\r\n    } else {\r\n      return ticketsSumm + servicesSumm;\r\n    }\r\n  };\r\n  const getComissionSumm = () => {\r\n    const ticketsArray = ticket.services.filter((el) => el.hasOwnProperty(\"segment\"));\r\n    const ticketsSumm = ticketsArray.reduce((acc, el) => {\r\n      return acc + el.price.amount;\r\n    }, 0);\r\n    return ticketsSumm * 0.15;\r\n  };\r\n  const getGooleplayConfirm = (paymentRequest) => {\r\n    isGooglePayComfirm(\r\n      paymentRequest,\r\n      ticket.orderId,\r\n      ticket.primaryPaymentParams.paymentParamsId\r\n    )\r\n      .then(({ data }) => setGoogleRes(data))\r\n      .catch((err) => console.log(err));\r\n  };\r\n  const handleClick = () => {\r\n    setIsLoader(true);\r\n  };\r\n  const handleClickReturn = () => {\r\n    setSegments(\r\n      ticket.services\r\n        .filter((el) => el.hasOwnProperty(\"segment\"))\r\n        .reduce(\r\n          (acc, el) => {\r\n            if (acc.map[el.segment.id]) return acc;\r\n\r\n            acc.map[el.segment.id] = true;\r\n            acc.item.push(el);\r\n            return acc;\r\n          },\r\n          { map: {}, item: [] }\r\n        ).item\r\n    );\r\n  };\r\n  const closeReturnConditions = () => {\r\n    setSegments([]);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <IntlProvider locale={locale} messages={messages[locale]}>\r\n        <div className={styles.warning}>\r\n          <p className={styles.warningText}>\r\n            <FormattedMessage id=\"endTime\" />\r\n            <span>\r\n              {\" \"}\r\n              {getExpireDate(ticket.services[0].expire, locale)}\r\n              {getExpireTime(ticket.services[0].expire)}\r\n            </span>\r\n          </p>\r\n          <p className={styles.time}>\r\n            {new Date(time).toLocaleString(\"uk\", {\r\n              minute: \"2-digit\",\r\n              second: \"2-digit\",\r\n            })}\r\n          </p>\r\n        </div>\r\n\r\n        <div className={styles.payment}>\r\n          <div className={styles.infoblock}>\r\n            <p>\r\n              <FormattedMessage id=\"securityStandart\" />\r\n            </p>\r\n            <div className={styles.images}>\r\n              <div className={styles.img}>\r\n                <img src={visa} alt=\"visa\" />\r\n              </div>\r\n              <div className={styles.img}>\r\n                <img src={maestro} alt=\"visa\" />\r\n              </div>\r\n              <div className={styles.img}>\r\n                <img src={mastercard} alt=\"visa\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className={styles.flexItem}>\r\n            <p>\r\n              <FormattedMessage id=\"summ\" />\r\n            </p>\r\n            <p className={styles.total}>\r\n              {totalPrice}\r\n              <small>\r\n                <FormattedMessage id=\"uah\" />\r\n              </small>\r\n            </p>\r\n          </div>\r\n          {agent && (\r\n            <div className={styles.flexItem}>\r\n              <p>Комісія агента: </p>\r\n              <p className={styles.total}>\r\n                {getComissionSumm().toFixed(2)}\r\n                <small>\r\n                  <FormattedMessage id=\"uah\" />\r\n                </small>\r\n              </p>\r\n            </div>\r\n          )}\r\n          <div className={styles.flexItem}>\r\n            <p>\r\n              <FormattedMessage id=\"pay\" />\r\n            </p>\r\n            <div className={styles.payType}>\r\n              {ticket.primaryPaymentParams.sellerToken !== \"\" && (\r\n                <GooglePayButton\r\n                  className={styles.google}\r\n                  environment=\"PRODUCTION\"\r\n                  buttonType=\"short\"\r\n                  paymentRequest={{\r\n                    apiVersion: 2,\r\n                    apiVersionMinor: 0,\r\n                    allowedPaymentMethods: [\r\n                      {\r\n                        type: \"CARD\",\r\n                        parameters: {\r\n                          allowedAuthMethods: [\"PAN_ONLY\", \"CRYPTOGRAM_3DS\"],\r\n                          allowedCardNetworks: [\"MASTERCARD\", \"VISA\"],\r\n                        },\r\n                        tokenizationSpecification: {\r\n                          type: \"PAYMENT_GATEWAY\",\r\n                          parameters: {\r\n                            gateway: ticket.primaryPaymentParams.gpayGateway,\r\n                            gatewayMerchantId: ticket.primaryPaymentParams.gpayMerchantId,\r\n                          },\r\n                        },\r\n                      },\r\n                    ],\r\n                    merchantInfo: {\r\n                      merchantId: \"BCR2DN6TSOFZJADQ\",\r\n                      merchantName: \"VEZE\",\r\n                    },\r\n                    transactionInfo: {\r\n                      totalPriceStatus: \"FINAL\",\r\n                      totalPriceLabel: \"Total\",\r\n                      totalPrice: `${totalPrice}`,\r\n                      currencyCode: \"UAH\",\r\n                      countryCode: \"UA\",\r\n                    },\r\n                  }}\r\n                  onError={(error) => {\r\n                    <Redirect to=\"/error\" />;\r\n                  }}\r\n                  onLoadPaymentData={(paymentRequest) => {\r\n                    setIsLoader(true);\r\n                    getGooleplayConfirm(paymentRequest);\r\n                  }}\r\n                />\r\n              )}\r\n\r\n              {/* Portmone */}\r\n              <form action=\"https://www.portmone.com.ua/gateway/\" method=\"post\">\r\n                <input\r\n                  type=\"hidden\"\r\n                  name=\"payee_id\"\r\n                  value={ticket.secondaryPaymentParams.payeeId}\r\n                />\r\n\r\n                <input type=\"hidden\" name=\"shop_order_number\" value={ticket.orderId} />\r\n                <input type=\"hidden\" name=\"bill_amount\" value={totalPrice} />\r\n                <input\r\n                  type=\"hidden\"\r\n                  name=\"description\"\r\n                  value={`${getCity(\r\n                    ticket.segments[Object.keys(routs[0])[0]].departure.id,\r\n                    ticket,\r\n                    lang\r\n                  )} - ${getCity(\r\n                    ticket.segments[Object.keys(routs[routs.length - 1])[0]].arrival.id,\r\n                    ticket,\r\n                    lang\r\n                  )} \r\n              ${getDate(\"departureDate\", ticket.segments[Object.keys(routs[0])[0]], lang)}\r\n              `}\r\n                />\r\n                <input\r\n                  type=\"hidden\"\r\n                  name=\"success_url\"\r\n                  value={`https://veze.club/myTicket/${orderId}/${ticket.secondaryPaymentParams.paymentParamsId}`}\r\n                />\r\n                <input\r\n                  type=\"hidden\"\r\n                  name=\"failure_url\"\r\n                  value={`https://veze.club/ticket/${orderId}`}\r\n                />\r\n                <input type=\"hidden\" name=\"lang\" value={locale.toLowerCase()} />\r\n                <input type=\"hidden\" name=\"encoding\" value=\"UTF-8\" />\r\n                <input type=\"hidden\" name=\"exp_time\" value={(time / 1000).toFixed()} />\r\n\r\n                <button\r\n                  className={styles.portmone}\r\n                  type=\"submit\"\r\n                  onClick={handleClick}\r\n                ></button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n\r\n          <button\r\n            type=\"button\"\r\n            onClick={handleClickReturn}\r\n            className={styles.returnConditions}\r\n          >\r\n            <FormattedMessage id=\"return\" />\r\n          </button>\r\n        </div>\r\n        <Modal open={segments.length > 0} onClose={closeReturnConditions}>\r\n          <ReturnConditions segments={segments} close={closeReturnConditions} />\r\n        </Modal>\r\n        <Modal open={isModal} disableBackdropClick={true}>\r\n          <GoHome />\r\n        </Modal>\r\n        {googleRes && (\r\n          <form\r\n            ref={ref}\r\n            id=\"TheForm\"\r\n            action={googleRes.params3ds.action}\r\n            method=\"POST\"\r\n            name=\"TheForm\"\r\n          >\r\n            <input type=\"hidden\" name=\"PaReq\" value={googleRes.params3ds.PaReq} />\r\n            <input type=\"hidden\" name=\"MD\" value={googleRes.params3ds.MD} />\r\n            <input\r\n              type=\"hidden\"\r\n              name=\"TermUrl\"\r\n              value={\r\n                `https://busis.eu/gds-sale/api/v1/transaction/callback/3ds/${ticket.orderId}/${ticket.primaryPaymentParams.paymentParamsId}?` +\r\n                `successURL=` +\r\n                encodeURIComponent(\r\n                  `https://veze.club/myTicket/${orderId}/${ticket.primaryPaymentParams.paymentParamsId}`\r\n                ) +\r\n                `&errorURL=` +\r\n                encodeURIComponent(`https://veze.club/ticket/${orderId}`)\r\n              }\r\n            />\r\n          </form>\r\n        )}\r\n      </IntlProvider>\r\n      {isLoader && <Loader />}\r\n      {/* <pre>{JSON.stringify(ticket, null, 4)}</pre> */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PaymentBox;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { updateTicketWithServices } from \"../../services/api\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport { messages } from \"../../intl/TicketPageMessanges\";\r\nimport { ReactComponent as Plus } from \"../../images/add-black-18dp.svg\";\r\nimport { ReactComponent as Minus } from \"../../images/remove-black-18dp.svg\";\r\nimport styles from \"./AddAdditionalServices.module.css\";\r\nimport { getTicket } from \"../../redux/order/orderOperation\";\r\n\r\nconst AddAdditionalServices = ({ data, keys, changeRouts }) => {\r\n  const lang = useSelector((state) => state.language);\r\n  const ticket = useSelector((state) => state.order.ticket);\r\n  const dispatch = useDispatch();\r\n  const getTicketInfo = useCallback(\r\n    (orderId) => dispatch(getTicket(orderId)),\r\n    [dispatch]\r\n  );\r\n  const [newServices, setNewServices] = useState([]);\r\n  const [summa, setSumma] = useState(0);\r\n\r\n  const locale = lang === \"UA\" ? \"UK\" : lang;\r\n\r\n  // ==== подсчитываем сумму дополнительных сервисов ==== //\r\n  useEffect(() => {\r\n    setSumma(\r\n      newServices.reduce((summ, el) => {\r\n        const amount = +data[el.additionalService.id].price.amount;\r\n        return summ + amount;\r\n      }, 0)\r\n    );\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [newServices]);\r\n\r\n  //   ==== купить дополнительные услуги ==== //\r\n  const insuranceBuy = () => {\r\n    changeRouts();\r\n    const data = {\r\n      lang: lang,\r\n      currency: \"UAH\",\r\n    };\r\n    data.customers = { 0: ticket.customers[\"0\"] };\r\n    data.services = newServices;\r\n    updateTicketWithServices(ticket.orderId, data)\r\n      .then(({ data }) => getTicketInfo(data.orderId))\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  // ==== добавить дополнительную услугу ==== //\r\n  const handleAddServices = (key) => {\r\n    setNewServices((prev) => [\r\n      ...prev,\r\n      { additionalService: { id: key }, customer: { id: \"0\" } },\r\n    ]);\r\n  };\r\n\r\n  // ==== удалить дополнительную услугу каунтером ==== //\r\n  const handleRemoveOneServices = (key) => {\r\n    setNewServices((prev) => {\r\n      const index = prev.findIndex((el) => el.additionalService.id === key);\r\n      const arr1 = prev.slice(0, index);\r\n      const arr2 = prev.slice(index + 1);\r\n      return [...arr1, ...arr2];\r\n    });\r\n  };\r\n\r\n  // ==== удалить дополнительную услугу чекбоксом ==== //\r\n  const handleRemoveServices = (key) => {\r\n    setNewServices((prev) => prev.filter((el) => el.additionalService.id !== key));\r\n  };\r\n  return (\r\n    <IntlProvider locale={locale} messages={messages[locale]}>\r\n      {keys.map((key) => (\r\n        <AddServ\r\n          key={key}\r\n          addKey={key}\r\n          data={data}\r\n          handleAddServices={handleAddServices}\r\n          handleRemoveServices={handleRemoveServices}\r\n          handleRemoveOneServices={handleRemoveOneServices}\r\n        />\r\n      ))}\r\n      <div className={styles.total}>\r\n        <p>\r\n          <FormattedMessage id=\"addservices\" />: {summa}{\" \"}\r\n          <span>\r\n            <FormattedMessage id=\"uah\" />{\" \"}\r\n          </span>\r\n        </p>\r\n        <button\r\n          className={styles.totalbutton}\r\n          disabled={newServices.length <= 0}\r\n          onClick={() => insuranceBuy()}\r\n        >\r\n          <FormattedMessage id=\"addBtn\" />\r\n        </button>\r\n      </div>\r\n    </IntlProvider>\r\n  );\r\n};\r\nexport default AddAdditionalServices;\r\n\r\nconst AddServ = ({\r\n  addKey,\r\n  data,\r\n  handleAddServices,\r\n  handleRemoveServices,\r\n  handleRemoveOneServices,\r\n}) => {\r\n  const lang = useSelector((state) => state.language);\r\n\r\n  const [count, setCount] = useState(1);\r\n  const [isChecked, setIsChecked] = useState(false);\r\n\r\n  const locale = lang === \"UA\" ? \"UK\" : lang;\r\n  //   ==== управление чекбоксом ==== //\r\n  const handleChange = () => {\r\n    if (isChecked) {\r\n      handleRemoveServices(addKey);\r\n      setCount(1);\r\n    } else {\r\n      handleAddServices(addKey);\r\n    }\r\n    setIsChecked(!isChecked);\r\n  };\r\n\r\n  //  ==== уменьшаем количество дополнительной услуги ==== //\r\n  const onDecrement = () => {\r\n    setCount(count - 1);\r\n    handleRemoveOneServices(addKey);\r\n  };\r\n\r\n  //  ==== увеличиваем количество дополнительной услуги ==== //\r\n  const onIncrement = () => {\r\n    setCount(count + 1);\r\n    handleAddServices(addKey);\r\n  };\r\n  return (\r\n    <IntlProvider locale={locale} messages={messages[locale]}>\r\n      <div className={styles.box}>\r\n        <div className={styles.flex}>\r\n          <div className={styles.item}>\r\n            <div className={styles.img}>\r\n              <img\r\n                src={`https://busis.eu/gds-sale/api/v1/additional/icon/${data[addKey].additionals.iconId}`}\r\n                alt=\"icon\"\r\n              />\r\n            </div>\r\n            <div className={styles.description}>\r\n              <b className={styles.nameAddServ}>\r\n                {data[addKey].name[lang]}: {data[addKey].price.amount}\r\n                <small>\r\n                  <FormattedMessage id=\"uah\" />\r\n                </small>\r\n              </b>\r\n              <p>{data[addKey].description[lang]}</p>\r\n              {/* {!addServ.additionalServices[addKey].enableReturn && (\r\n                <i>(поверненню не підлягає)</i>\r\n              )} */}\r\n            </div>\r\n          </div>\r\n\r\n          <input\r\n            type=\"checkbox\"\r\n            className={styles.checkbox}\r\n            onChange={handleChange}\r\n            checked={isChecked}\r\n          />\r\n        </div>\r\n\r\n        {isChecked && data[addKey].enableCount && (\r\n          <div className={styles.controlers}>\r\n            <button\r\n              type=\"button\"\r\n              onClick={onDecrement}\r\n              disabled={count <= 1}\r\n              className={styles.btn}\r\n            >\r\n              <Minus />\r\n            </button>\r\n            <span>{count}</span>\r\n            <button type=\"button\" onClick={onIncrement} className={styles.btn}>\r\n              <Plus />\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </IntlProvider>\r\n  );\r\n};\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getTicket } from \"../redux/order/orderOperation\";\r\nimport styles from \"./TicketPage.module.css\";\r\nimport PaymentBox from \"../components/TicketContainer/PaymentBox\";\r\nimport TripInfo from \"../components/TicketContainer/TripInfo\";\r\nimport PassengersData from \"../components/TicketContainer/PassengersData\";\r\nimport CryptoJS from \"crypto-js\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport AdditionalServicesData from \"../components/TicketContainer/AdditionalServicesData\";\r\nimport { getAdditionalServices, getInitializationServices } from \"../services/api\";\r\nimport AddAdditionalServices from \"../components/TicketContainer/AddAdditionalServices\";\r\nimport Loader from \"../components/Loader/Loader\";\r\n\r\nconst TicketPage = () => {\r\n  const dispatch = useDispatch();\r\n  const getTicketInfo = useCallback(\r\n    (orderId) => dispatch(getTicket(orderId)),\r\n    [dispatch]\r\n  );\r\n  const ticket = useSelector((state) => state.order.ticket);\r\n  const [routs, setRouts] = useState([]);\r\n  const [isLoader, setIsLoader] = useState(true);\r\n  const [additionalServicesKeys, setAdditionalServicesKeys] = useState([]);\r\n  const [newAddServicesData, setNewAddServicesData] = useState(null);\r\n  const [newAddServicesKeys, setNewAddServicesKeys] = useState([]);\r\n\r\n  const { orderId } = useParams();\r\n  // ==== получаем информацию о билете ==== //\r\n  useEffect(() => {\r\n    // ==== получаем зашифрованый id === //\r\n    const encryptId = atob(orderId);\r\n    // ==== расшифровуем id ==== //\r\n    const id = CryptoJS.AES.decrypt(encryptId, \"KeyVeze\").toString(CryptoJS.enc.Utf8);\r\n    // ==== самовызывающяяся функция redux====\r\n    getTicketInfo(id);\r\n  }, [getTicketInfo, orderId]);\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(ticket).length > 0) {\r\n      const routs = [];\r\n      for (let [key, values] of Object.entries(ticket.segments)) {\r\n        routs.push({ [key]: values });\r\n      }\r\n\r\n      setRouts(\r\n        routs.sort((a, b) => {\r\n          const A = new Date(a[Object.keys(a)[0]].departureDate).getTime();\r\n          const B = new Date(b[Object.keys(b)[0]].departureDate).getTime();\r\n          return A - B;\r\n        })\r\n      );\r\n      // ==== определяем масив всех уникальных ключей дополнительных сервисов ==== //\r\n      setAdditionalServicesKeys(\r\n        Array.from(\r\n          new Set(\r\n            ticket.services\r\n              .filter((el) => el.hasOwnProperty(\"additionalService\"))\r\n              .reduce((arr, el) => {\r\n                arr.push(el.additionalService.id);\r\n                return arr;\r\n              }, [])\r\n          )\r\n        )\r\n      );\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [ticket]);\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(ticket).length > 0) {\r\n      // ==== инициализация поиска дополнительных сервисов ==== //\r\n      const services = ticket.services\r\n        .filter((el) => el.hasOwnProperty(\"segment\"))\r\n        .reduce((arr, el) => {\r\n          arr.push({ id: el.id });\r\n          return arr;\r\n        }, []);\r\n      getInitializationServices(ticket.orderId, services)\r\n        .then(({ data }) => {\r\n          setIsLoader(false);\r\n          getSearchServices(data.searchId, Date.now());\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [additionalServicesKeys]);\r\n\r\n  // ==== поиск дополнительных сервисов ==== //\r\n  const getSearchServices = (searchId, time) => {\r\n    const deltaTime = Date.now() - time;\r\n    if (deltaTime <= 500) {\r\n      getAdditionalServices(searchId)\r\n        .then(({ data }) => {\r\n          if (data.searchId) {\r\n            getSearchServices(data.searchId, time);\r\n          } else {\r\n            if (data.additionalServices) {\r\n              getAdditionalServicesInfo(data);\r\n            } else {\r\n              return;\r\n            }\r\n          }\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n    if (deltaTime > 500) {\r\n      setTimeout(() => {\r\n        getAdditionalServices(searchId)\r\n          .then(({ data }) => {\r\n            if (data.searchId) {\r\n              getSearchServices(data.searchId, time);\r\n            } else {\r\n              if (data.additionalServices) {\r\n                getAdditionalServicesInfo(data);\r\n              } else {\r\n                return;\r\n              }\r\n            }\r\n          })\r\n          .catch((err) => console.log(err));\r\n      }, 300);\r\n    }\r\n  };\r\n  const getAdditionalServicesInfo = (data) => {\r\n    const keys = [];\r\n    for (let key of Object.keys(data.additionalServices)) {\r\n      if (!additionalServicesKeys.includes(key)) keys.push(key);\r\n    }\r\n    setNewAddServicesData(data.additionalServices);\r\n    setNewAddServicesKeys(keys);\r\n  };\r\n  const changeRouts = () => {\r\n    setRouts([]);\r\n    setIsLoader(true);\r\n    \r\n  };\r\n  \r\n  return (\r\n    <div className=\"bgnd\">\r\n      {routs.length > 0 && (\r\n        <div className=\"container\">\r\n          <div className={styles.data}>\r\n            <TripInfo routs={routs} />\r\n            <PassengersData />\r\n            {additionalServicesKeys.length > 0 && (\r\n              <AdditionalServicesData addServ={additionalServicesKeys} />\r\n            )}\r\n          </div>\r\n          {newAddServicesKeys.length > 0 && (\r\n            <div className={styles.data}>\r\n              <AddAdditionalServices\r\n                data={newAddServicesData}\r\n                keys={newAddServicesKeys}\r\n                changeRouts={changeRouts}\r\n              />\r\n            </div>\r\n          )}\r\n          <div className={styles.data}>\r\n            <PaymentBox routs={routs} orderId={orderId} />\r\n          </div>\r\n        </div>\r\n      )}\r\n      {isLoader && <Loader />}\r\n\r\n      {/* <pre>{JSON.stringify(ticket, null, 4)} </pre> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TicketPage;\r\n"],"sourceRoot":""}