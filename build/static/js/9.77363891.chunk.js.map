{"version":3,"sources":["services/getInfo.js","redux/order/orderActions.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","intl/TicketPageMessanges.js","redux/order/orderOperation.js","components/TicketContainer/PassengersData.js","components/TicketContainer/PassengersData.module.css","components/TicketContainer/TripInfo.js","components/TicketContainer/TripInfo.module.css","components/TicketContainer/AdditionalServicesData.js","components/TicketContainer/AdditionalServicesData.module.css","components/Loader/Loader.js","components/Loader/Loader.module.css","pages/TicketPage.module.css","../node_modules/@google-pay/button-react/dist/index.umd.min.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/setPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/getPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/assertThisInitialized.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass.js","components/TicketContainer/PaymentBox.module.css","components/GoHome/GoHome.module.css","components/TicketContainer/ReturnConditions.module.css","components/GoHome/GoHome.js","components/TicketContainer/ReturnConditions.js","components/TicketContainer/PaymentBox.js","pages/TicketPage.js"],"names":["getCity","id","trips","lang","parentId","localities","parent","city","name","EN","UA","RU","PL","getStop","stop","getAddress","address","getRouteName","routeName","segments","route","getDate","key","trip","Date","toLocaleString","day","month","year","getTime","hour","minute","getTimeInWayDouble","tripKeys","h","m","departureMs","departureDate","deltaMs","length","arrivalDate","Math","floor","minutes","getPrice","reduce","summ","el","Number","price","amount","getYesterday","date","getTomorrow","getTodayDate","getExpireTime","setTripKeys","arr","type","Types","FETCH_TRIP_KEYS","payload","fetchTicket","ticket","FETCH_TICKET","setAdditionalServices","ADDITIONAL_SERVICES","_defineProperty","obj","value","Object","defineProperty","enumerable","configurable","writable","messages","passangersData","cost","passenger","surname","phone","endTime","UK","getTicket","orderId","dispatch","getTicketInfo","then","data","catch","error","getError","message","getTicketConfirm","paymentId","ticketComfirm","PassengersData","useSelector","state","language","order","locale","useState","passangers","setPassangers","useEffect","keys","values","customers","push","className","styles","passangersBox","subTitle","map","idx","header","number","services","filter","hasOwnProperty","acc","toFixed","passangerData","passangerTitle","passangerName","module","exports","TripInfo","routs","orderBox","locality","departure","localityStop","arrival","AdditionalServicesData","addServ","box","title","flex","item","additionalServices","additionalService","Loader","loader","color","height","width","e","t","default","n","o","Promise","i","a","s","l","next","r","throw","done","apply","document","createElement","src","async","removeEventListener","remove","Error","addEventListener","body","appendChild","this","handleClick","config","createLoadPaymentDataRequest","client","loadPaymentData","onLoadPaymentData","statusCode","onCancel","onError","console","options","element","window","global","google","payments","api","PaymentsClient","isGooglePayLoaded","appendStyles","updateElement","oldInvalidationValues","isClientInvalidated","getInvalidationValues","resolve","environment","merchantInfo","createMerchantInfo","onPaymentDataChanged","onPaymentAuthorized","paymentDataCallbacks","paymentRequest","apiVersion","apiVersionMinor","allowedPaymentMethods","existingPaymentMethodRequired","assign","softwareInfo","softwareInfoId","version","softwareInfoVersion","isConnected","ShadowRoot","Element","Array","from","children","tagName","isMounted","removeButton","createClientOptions","buttonType","buttonColor","buttonSizeMode","buttonLocale","onClick","getRootNode","buttonRootNode","createButton","setClassName","isReadyToPay","createIsReadyToPayRequest","result","paymentMethodPresent","prefetchPaymentData","log","split","onReadyToPayChange","isButtonVisible","join","removeAttribute","cssSelector","replace","getElementById","call","innerHTML","Document","head","some","merchantId","merchantName","arguments","manager","elementRef","createRef","current","mount","configure","props","unmount","ref","style","Component","require","setPrototypeOf","subClass","superClass","TypeError","prototype","create","constructor","_setPrototypeOf","p","__proto__","getPrototypeOf","isNativeReflectConstruct","possibleConstructorReturn","Derived","hasNativeReflectConstruct","Super","NewTarget","Reflect","construct","_getPrototypeOf","sham","Proxy","toString","_typeof","assertThisInitialized","self","Symbol","iterator","ReferenceError","instance","Constructor","_defineProperties","target","descriptor","protoProps","staticProps","GoHome","React","forwardRef","text","to","link","ReturnConditions","close","fill","segment","tariff","returnConditions","PaymentBox","primary","secondary","time","setTime","isLoader","setIsLoader","googleRes","setGoogleRes","setOrder","primaryData","setPrimaryData","secondaryData","setSecondaryData","isModal","setIsModal","setSegments","history","useHistory","useRef","CryptoJS","AES","decrypt","atob","enc","Utf8","JSON","parse","need3ds","submit","payed","paymentParamsId","timeEnd","expire","timeStart","intervalId","setInterval","clearInterval","getTotalPrice","closeReturnConditions","warning","warningText","second","payment","infoblock","images","img","visa","alt","maestro","mastercard","flexItem","total","payType","sellerToken","parameters","allowedAuthMethods","allowedCardNetworks","tokenizationSpecification","gateway","gpayGateway","gatewayMerchantId","gpayMerchantId","transactionInfo","totalPriceStatus","totalPriceLabel","totalPrice","currencyCode","countryCode","isGooglePayComfirm","err","action","method","payeeId","toLowerCase","portmone","Modal","open","onClose","disableBackdropClick","params3ds","PaReq","MD","TicketPage","useDispatch","setRouts","useParams","encryptId","entries","sort","b","Set"],"mappings":"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","file":"static/js/9.77363891.chunk.js","sourcesContent":["// ==== получаем наcелённый пункт отправки/прибытия ==== //\r\nexport const getLocality = (id, stops, lang) => {\r\n  const result = stops.find((el) => el.id === id);\r\n  return result ? result.name[lang] || result.name[`EN`] : null;\r\n};\r\n// ==== получаем город отправки/прибытия\r\nexport const getCity = (id, trips, lang) => {\r\n  const parentId = trips.localities[id].parent.id;\r\n  const city = trips.localities[parentId] ? trips.localities[parentId].name : \"\";\r\n  return city ? city[lang] || city.EN || city.UA || city.RU || city.PL : \"\";\r\n};\r\n\r\n// ==== получаем остановку отправки/прибытия === //\r\nexport const getStop = (id, trips, lang) => {\r\n  const stop = trips.localities[id].name ? trips.localities[id].name : \"\";\r\n  return stop ? stop[lang] || stop.EN || stop.UA || stop.RU || stop.PL : \"\";\r\n};\r\n\r\n// ==== получаем adress отправки/прибытия === //\r\nexport const getAddress = (id, trips, lang) => {\r\n  const address = trips.localities[id].address ? trips.localities[id].address : \"\";\r\n  return address\r\n    ? address[lang] || address.EN || address.UA || address.RU || address.PL\r\n    : \"\";\r\n};\r\nexport const getRouteName = (id, trips) => {\r\n  const routeName = trips.segments[id].route ? trips.segments[id].route.name : \"\";\r\n  return routeName ? routeName.EN || routeName.UA || routeName.RU || routeName.PL : \"\";\r\n};\r\n// ==== получаем адресс промежуточной остановки ==== //\r\nexport const getAllAddress = (key, trips, lang) =>\r\n  Object.keys(trips).length > 0 && trips.localities[key]?.address\r\n    ? trips.localities[key]?.address[lang] || trips.localities[key].address[`RU`]\r\n    : null;\r\n\r\n// ==== получаем дату отправки/прибытия ==== //\r\nexport const getDate = (key, trip, lang) => {\r\n  return new Date(trip[key]).toLocaleString(lang, {\r\n    day: \"2-digit\",\r\n    month: \"short\",\r\n    year: \"2-digit\",\r\n  });\r\n};\r\n\r\n// ==== получаем время отправки/прибытия ==== //\r\nexport const getTime = (key, trip, lang) => {\r\n  return new Date(trip[key]).toLocaleString(lang, {\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n  });\r\n};\r\n\r\n// ==== получаем время в дороге маршрута ==== //\r\nexport const getTimeInWay = (trip, lang) => {\r\n  let h, m;\r\n  switch (lang) {\r\n    case \"RU\":\r\n      h = \"ч\";\r\n      m = \"мин\";\r\n      break;\r\n    case \"UA\":\r\n      h = \"г\";\r\n      m = \"хв\";\r\n      break;\r\n    case \"EN\":\r\n      h = \"h\";\r\n      m = \"min\";\r\n      break;\r\n    case \"PL\":\r\n      h = \"g\";\r\n      m = \"min\";\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  return `${+trip.timeInWay.split(\":\")[0]}${h} ${trip.timeInWay.split(\":\")[1]}${m}`;\r\n};\r\n\r\n// ==== получаем время в дороге маршрутов с пересадкой ====//\r\nexport const getTimeInWayDouble = (tripKeys, trips, lang) => {\r\n  let h, m;\r\n  switch (lang) {\r\n    case \"RU\":\r\n      h = \"ч\";\r\n      m = \"мин\";\r\n      break;\r\n    case \"UA\":\r\n      h = \"г\";\r\n      m = \"хв\";\r\n      break;\r\n    case \"EN\":\r\n      h = \"h\";\r\n      m = \"min\";\r\n      break;\r\n    case \"PL\":\r\n      h = \"g\";\r\n      m = \"min\";\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  const departureMs = new Date(trips.segments[tripKeys[0]].departureDate).getTime();\r\n  const arrivalMs = new Date(\r\n    trips.segments[tripKeys[tripKeys.length - 1]].arrivalDate\r\n  ).getTime();\r\n  const deltaMs = arrivalMs - departureMs;\r\n  const hour = Math.floor(deltaMs / (1000 * 60 * 60));\r\n  const minutes = Math.floor((deltaMs / (1000 * 60)) % 60);\r\n  return `${hour}${h} ${minutes}${m}`;\r\n};\r\n\r\n// ==== получаем сумму рейсов с пересадкой ====//\r\nexport const getPrice = (tripKeys, trips) => {\r\n  return tripKeys.reduce((summ, el) => {\r\n    summ += Number(trips.segments[el].price.amount);\r\n    return summ;\r\n  }, 0);\r\n};\r\n// ==== вчерашняя дата ==== //\r\nexport const getYesterday = ({ date }, lang) => {\r\n  return new Date(new Date(date).getTime() - 24 * 60 * 60 * 1000).toLocaleString(lang, {\r\n    day: \"2-digit\",\r\n    month: \"long\",\r\n    year: \"2-digit\",\r\n  });\r\n};\r\n\r\n// ==== завтрашняя дата ==== //\r\nexport const getTomorrow = ({ date }, lang) => {\r\n  return new Date(new Date(date).getTime() + 24 * 60 * 60 * 1000).toLocaleString(lang, {\r\n    day: \"2-digit\",\r\n    month: \"long\",\r\n    year: \"2-digit\",\r\n  });\r\n};\r\n\r\n// ==== сегодняшняя дата ==== //\r\nexport const getTodayDate = ({ date }, lang) => {\r\n  return new Date(date).toLocaleString(lang, {\r\n    day: \"2-digit\",\r\n    month: \"long\",\r\n    year: \"2-digit\",\r\n  });\r\n};\r\n// ==== время до конца оплаты ==== //\r\nexport const getExpireTime = (date, lang) => {\r\n  return new Date(date).toLocaleString(lang, {\r\n    day: \"2-digit\",\r\n    month: \"long\",\r\n    year: \"2-digit\",\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n  });\r\n};\r\n","import { Types } from \"../actionsTypes\";\r\n\r\nexport const setTripKeys = (arr) => ({\r\n  type: Types.FETCH_TRIP_KEYS,\r\n  payload: arr,\r\n});\r\n\r\nexport const fetchTicket = (ticket) => ({\r\n  type: Types.FETCH_TICKET,\r\n  payload: ticket,\r\n});\r\n\r\nexport const setAdditionalServices = (arr) => ({\r\n  type: Types.ADDITIONAL_SERVICES,\r\n  payload: arr,\r\n});\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export const messages = {\r\n    EN: {\r\n      trip: \"Route:\",\r\n      passangersData: \"Passenger data:\",\r\n      cost: \" Cost:\",\r\n      passenger: \"Passenger №:\",\r\n      name: \"Name\",\r\n      surname: \"Surname\",\r\n      phone: \"Phone\",\r\n      endTime: \"To place an order, pay for it before: \",\r\n    },\r\n    RU: {\r\n      trip: \"Маршрут:\",\r\n      passangersData: \"Данные о пассажирах:\",\r\n      cost: \"Стоимость: \",\r\n      passenger: \"Пассажир №:\",\r\n      name: \"Имя\",\r\n      surname: \"Фамилия\",\r\n      phone: \"Телефон\",\r\n      endTime: \"Для оформления заказа оплатите его до: \",\r\n    },\r\n    UK: {\r\n      trip: \"Маршрут:\",\r\n      passangersData: \"Відомості про пасажирів\",\r\n      cost: \"Вартість: \",\r\n      passenger: \"Пасажир №:\",\r\n      name: \"Ім'я\",\r\n      surname: \"Прізвище\",\r\n      phone: \"Телефон\",\r\n      endTime: \"Для оформлення замовлення оплатіть його до: \",\r\n    },\r\n    PL: {\r\n      trip: \"Trasa:\",\r\n      passangersData: \"Dane pasażera:\",\r\n      cost: \"Koszt: \",\r\n      passenger: \"Pasażera №:\",\r\n      name: \"Nazwa\",\r\n      surname: \"Nazwisko\",\r\n      phone: \"Telefon\",\r\n      endTime: \"Aby złożyć zamówienie, opłać je wcześniej: \",\r\n    },\r\n  };\r\n  ","import { getError } from \"../global/globalActions\";\r\nimport { fetchTicket } from \"./orderActions\";\r\nimport { getTicketInfo, ticketComfirm } from \"../../services/api\";\r\n\r\nexport const getTicket = (orderId) => (dispatch) => {\r\n  getTicketInfo(orderId)\r\n    .then(({ data }) => dispatch(fetchTicket(data)))\r\n    .catch((error) => dispatch(getError(error.message)));\r\n};\r\n\r\nexport const getTicketConfirm = (orderId, paymentId) => (dispatch) => {\r\n  ticketComfirm(orderId, paymentId)\r\n    .then(({ data }) => dispatch(fetchTicket(data)))\r\n    .catch((error) => dispatch(getError(error.message)));\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport styles from \"./PassengersData.module.css\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport { messages } from \"../../intl/TicketPageMessanges\";\r\n\r\nconst PassengersData = () => {\r\n  const lang = useSelector((state) => state.language);\r\n  const ticket = useSelector((state) => state.order.ticket);\r\n  const locale = lang === \"UA\" ? \"UK\" : lang;\r\n  const [passangers, setPassangers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(ticket).length > 0) {\r\n      const arr = [];\r\n      for (let values of Object.values(ticket.customers)) {\r\n        arr.push({ values });\r\n        setPassangers(arr);\r\n      }\r\n    }\r\n  }, [ticket]);\r\n\r\n  const getTotalPrice = () =>\r\n    ticket.services\r\n      .filter((el) => el.hasOwnProperty(\"segment\"))\r\n      .reduce((acc, el) => {\r\n        return acc + el.price.amount;\r\n      }, 0);\r\n  return (\r\n    <IntlProvider locale={locale} messages={messages[locale]}>\r\n      <div className={styles.passangersBox}>\r\n        <h4 className={styles.subTitle}>\r\n          <FormattedMessage id=\"passangersData\" />\r\n        </h4>\r\n        <ul>\r\n          {passangers.map((el, idx) => (\r\n            <li key={idx}>\r\n              <div className={styles.header}>\r\n                <p className={styles.number}>\r\n                  <FormattedMessage id=\"passenger\" />\r\n                  {idx + 1}\r\n                </p>\r\n                <p className={styles.price}>\r\n                  <span>\r\n                    <FormattedMessage id=\"cost\" />\r\n                  </span>{\" \"}\r\n                  {(getTotalPrice() / passangers.length).toFixed(2)} <small>UAH</small>\r\n                </p>\r\n              </div>\r\n              <div className={styles.passangerData}>\r\n                <div>\r\n                  <p className={styles.passangerTitle}>\r\n                    <FormattedMessage id=\"name\" />\r\n                  </p>\r\n                  <p className={styles.passangerName}>{el.values.name}</p>\r\n                </div>\r\n                <div>\r\n                  <p className={styles.passangerTitle}>\r\n                    <FormattedMessage id=\"surname\" />\r\n                  </p>\r\n                  <p className={styles.passangerName}>{el.values.surname}</p>\r\n                </div>\r\n                <div>\r\n                  <p className={styles.passangerTitle}>\r\n                    <FormattedMessage id=\"phone\" />\r\n                  </p>\r\n                  <p className={styles.passangerName}>{el.values.phone}</p>\r\n                </div>\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </IntlProvider>\r\n  );\r\n};\r\n\r\nexport default PassengersData;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"passangersBox\":\"PassengersData_passangersBox__2OOgk\",\"subTitle\":\"PassengersData_subTitle__29wG9\",\"header\":\"PassengersData_header__NVGzD\",\"number\":\"PassengersData_number__IHxg_\",\"price\":\"PassengersData_price__3JM-K\",\"passangerData\":\"PassengersData_passangerData__2wmc0\",\"passangerTitle\":\"PassengersData_passangerTitle__IB--I\",\"passangerName\":\"PassengersData_passangerName__1M8Og\",\"title\":\"PassengersData_title__6l9lO\"};","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport styles from \"./TripInfo.module.css\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport { messages } from \"../../intl/TicketPageMessanges\";\r\nimport { getCity, getDate, getStop, getTime } from \"../../services/getInfo\";\r\n\r\nconst TripInfo = ({ routs }) => {\r\n  const lang = useSelector((state) => state.language);\r\n  const ticket = useSelector((state) => state.order.ticket);\r\n  const locale = lang === \"UA\" ? \"UK\" : lang;\r\n  return (\r\n    <IntlProvider locale={locale} messages={messages[locale]}>\r\n      <div className={styles.orderBox}>\r\n        <h4 className={styles.subTitle}>\r\n          <FormattedMessage id=\"trip\" />\r\n        </h4>\r\n        <div>\r\n          <p className={styles.locality}>\r\n            {getCity(\r\n              ticket.segments[Object.keys(routs[0])[0]].departure.id,\r\n              ticket,\r\n              lang\r\n            )}\r\n          </p>\r\n          <p className={styles.localityStop}>\r\n            {getStop(\r\n              ticket.segments[Object.keys(routs[0])[0]].departure.id,\r\n              ticket,\r\n              lang\r\n            )}\r\n          </p>\r\n          <p className={styles.date}>\r\n            {getDate(\"departureDate\", ticket.segments[Object.keys(routs[0])[0]], lang)}{\" \"}\r\n            {getTime(\"departureDate\", ticket.segments[Object.keys(routs[0])[0]], lang)}\r\n          </p>\r\n        </div>\r\n        <div>\r\n          <p className={styles.locality}>\r\n            {getCity(\r\n              ticket.segments[Object.keys(routs[routs.length - 1])[0]].arrival.id,\r\n              ticket,\r\n              lang\r\n            )}\r\n          </p>\r\n          <p className={styles.localityStop}>\r\n            {getStop(\r\n              ticket.segments[Object.keys(routs[routs.length - 1])[0]].arrival.id,\r\n              ticket,\r\n              lang\r\n            )}\r\n          </p>\r\n          <p className={styles.date}>\r\n            {getDate(\r\n              \"arrivalDate\",\r\n              ticket.segments[Object.keys(routs[routs.length - 1])[0]],\r\n              lang\r\n            )}{\" \"}\r\n            {getTime(\r\n              \"arrivalDate\",\r\n              ticket.segments[Object.keys(routs[routs.length - 1])[0]],\r\n              lang\r\n            )}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </IntlProvider>\r\n  );\r\n};\r\n\r\nexport default TripInfo;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"orderBox\":\"TripInfo_orderBox__1dSE3\",\"locality\":\"TripInfo_locality__2IGqX\",\"subTitle\":\"TripInfo_subTitle__3-9Jl\",\"arrow\":\"TripInfo_arrow__1L1Je\",\"localityStop\":\"TripInfo_localityStop__1HLg_\",\"date\":\"TripInfo_date__2Ya6B\",\"passangersBox\":\"TripInfo_passangersBox__Ddz0_\"};","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport styles from \"./AdditionalServicesData.module.css\";\r\n\r\nconst AdditionalServicesData = ({ addServ }) => {\r\n  const ticket = useSelector((state) => state.order.ticket);\r\n  const lang = useSelector((state) => state.language);\r\n\r\n  const getPrice = (key) => {\r\n    return ticket.services\r\n      .filter((el) => el?.additionalService?.id === key)\r\n      .reduce((summ, el) => {\r\n        summ += el.price.amount;\r\n        return summ;\r\n      }, 0);\r\n  };\r\n  return (\r\n    <div className={styles.box}>\r\n      <h4 className={styles.title}>Додаткові послуги</h4>\r\n      <div className={styles.flex}>\r\n        {addServ.map((el) => (\r\n          <div key={el} className={styles.item}>\r\n            <p>{ticket.additionalServices[el].name[lang]}: </p>\r\n            <p>\r\n              {getPrice(el)} <small>UAH</small>\r\n            </p>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdditionalServicesData;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"AdditionalServicesData_box__E2rGd\",\"title\":\"AdditionalServicesData_title__3NowY\",\"item\":\"AdditionalServicesData_item__36O0i\",\"flex\":\"AdditionalServicesData_flex__2Y38e\"};","import React from 'react';\r\nimport LoaderFromLibrary from 'react-loader-spinner';\r\nimport styles from './Loader.module.css';\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className={styles.loader}>\r\n      <LoaderFromLibrary\r\n        type=\"BallTriangle\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__rbNku\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"data\":\"TicketPage_data__1m1Cf\"};","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t(require(\"react\")):\"function\"==typeof define&&define.amd?define([\"react\"],t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).GooglePayButton=t(e.React)}(this,(function(e){\"use strict\";function t(e){return e&&\"object\"==typeof e&&\"default\"in e?e:{default:e}}var n=t(e);\n/*! *****************************************************************************\n    Copyright (c) Microsoft Corporation.\n\n    Permission to use, copy, modify, and/or distribute this software for any\n    purpose with or without fee is hereby granted.\n\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n    PERFORMANCE OF THIS SOFTWARE.\n    ***************************************************************************** */function o(e,t,n,o){return new(n||(n=Promise))((function(i,a){function s(e){try{l(o.next(e))}catch(e){a(e)}}function r(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}l((o=o.apply(e,t||[])).next())}))}let i={};function a(e){const t=i[e];if(t)return t;const n=new Promise((t,n)=>{const o=document.createElement(\"script\");o.src=e,o.async=!0;const a=()=>{t()},s=()=>{o.removeEventListener(\"load\",a),o.removeEventListener(\"error\",s),delete i[e],o.remove(),n(new Error(\"Unable to load script \"+e))};o.addEventListener(\"load\",a),o.addEventListener(\"error\",s),document.body.appendChild(o)});return i[e]=n,n}class s{constructor(e){this.handleClick=()=>o(this,void 0,void 0,(function*(){const e=this.config;if(!e)throw new Error(\"google-pay-button: Missing configuration\");const t=this.createLoadPaymentDataRequest(e);try{const n=yield this.client.loadPaymentData(t);e.onLoadPaymentData&&e.onLoadPaymentData(n)}catch(t){\"CANCELED\"===t.statusCode?e.onCancel&&e.onCancel(t):e.onError?e.onError(t):console.error(t)}})),this.options=e}getElement(){return this.element}isGooglePayLoaded(){var e,t;return\"google\"in(window||global)&&!!(null===(t=null===(e=null===google||void 0===google?void 0:google.payments)||void 0===e?void 0:e.api)||void 0===t?void 0:t.PaymentsClient)}mount(e){return o(this,void 0,void 0,(function*(){this.isGooglePayLoaded()||(yield a(\"https://pay.google.com/gp/p/js/pay.js\")),this.element=e,e&&(this.appendStyles(),this.config&&this.updateElement())}))}unmount(){this.element=void 0}configure(e){let t=void 0;return this.config=e,this.oldInvalidationValues&&!this.isClientInvalidated(e)||(t=this.updateElement()),this.oldInvalidationValues=this.getInvalidationValues(e),null!=t?t:Promise.resolve()}createClientOptions(e){const t={environment:e.environment,merchantInfo:this.createMerchantInfo(e)};return(e.onPaymentDataChanged||e.onPaymentAuthorized)&&(t.paymentDataCallbacks={},e.onPaymentDataChanged&&(t.paymentDataCallbacks.onPaymentDataChanged=t=>e.onPaymentDataChanged(t)||{}),e.onPaymentAuthorized&&(t.paymentDataCallbacks.onPaymentAuthorized=t=>e.onPaymentAuthorized(t)||{})),t}createIsReadyToPayRequest(e){const t=e.paymentRequest;return{apiVersion:t.apiVersion,apiVersionMinor:t.apiVersionMinor,allowedPaymentMethods:t.allowedPaymentMethods,existingPaymentMethodRequired:e.existingPaymentMethodRequired}}createLoadPaymentDataRequest(e){return Object.assign(Object.assign({},e.paymentRequest),{merchantInfo:this.createMerchantInfo(e)})}createMerchantInfo(e){const t=Object.assign({},e.paymentRequest.merchantInfo);return t.softwareInfo||(t.softwareInfo={id:this.options.softwareInfoId,version:this.options.softwareInfoVersion}),t}isMounted(){return null!=this.element&&!1!==this.element.isConnected}removeButton(){if(this.element instanceof ShadowRoot||this.element instanceof Element)for(const e of Array.from(this.element.children))\"STYLE\"!==e.tagName&&e.remove()}updateElement(){var e;return o(this,void 0,void 0,(function*(){if(!this.isMounted())return;const t=this.element;if(!this.config)throw new Error(\"google-pay-button: Missing configuration\");this.removeButton(),this.client=new google.payments.api.PaymentsClient(this.createClientOptions(this.config));const n={buttonType:this.config.buttonType,buttonColor:this.config.buttonColor,buttonSizeMode:this.config.buttonSizeMode,buttonLocale:this.config.buttonLocale,onClick:this.handleClick},o=null===(e=this.element)||void 0===e?void 0:e.getRootNode();o instanceof ShadowRoot&&(n.buttonRootNode=o);const i=this.client.createButton(n);this.setClassName(t,[t.className,\"not-ready\"]),t.appendChild(i);let a,s=!1;try{a=yield this.client.isReadyToPay(this.createIsReadyToPayRequest(this.config)),s=a.result&&!this.config.existingPaymentMethodRequired||a.result&&a.paymentMethodPresent&&this.config.existingPaymentMethodRequired||!1}catch(e){this.config.onError?this.config.onError(e):console.error(e)}if(this.isMounted()){if(s){try{this.client.prefetchPaymentData(this.createLoadPaymentDataRequest(this.config))}catch(e){console.log(\"Error with prefetch\",e)}this.setClassName(t,(t.className||\"\").split(\" \").filter(e=>e&&\"not-ready\"!==e))}if((this.isReadyToPay!==(null==a?void 0:a.result)||this.paymentMethodPresent!==(null==a?void 0:a.paymentMethodPresent))&&(this.isReadyToPay=!!(null==a?void 0:a.result),this.paymentMethodPresent=null==a?void 0:a.paymentMethodPresent,this.config.onReadyToPayChange)){const e={isButtonVisible:s,isReadyToPay:this.isReadyToPay};this.paymentMethodPresent&&(e.paymentMethodPresent=this.paymentMethodPresent),this.config.onReadyToPayChange(e)}}}))}setClassName(e,t){const n=t.filter(e=>e).join(\" \");n?e.className=n:e.removeAttribute(\"class\")}appendStyles(){var e,t,n;if(\"undefined\"==typeof document)return;const o=null===(e=this.element)||void 0===e?void 0:e.getRootNode(),i=`default-google-style-${this.options.cssSelector.replace(/[^\\w-]+/g,\"\")}-${null===(t=this.config)||void 0===t?void 0:t.buttonLocale}`;if(o&&!(null===(n=o.getElementById)||void 0===n?void 0:n.call(o,i))){const e=document.createElement(\"style\");e.id=i,e.type=\"text/css\",e.innerHTML=`\\n          ${this.options.cssSelector} {\\n            display: inline-block;\\n          }\\n          ${this.options.cssSelector}.not-ready {\\n            width: 0;\\n            height: 0;\\n            overflow: hidden;\\n          }\\n        `,o instanceof Document&&o.head?o.head.appendChild(e):o.appendChild(e)}}isClientInvalidated(e){if(!this.oldInvalidationValues)return!0;return this.getInvalidationValues(e).some((e,t)=>e!==this.oldInvalidationValues[t])}getInvalidationValues(e){var t,n;return[e.environment,e.existingPaymentMethodRequired,!!e.onPaymentDataChanged,!!e.onPaymentAuthorized,e.buttonColor,e.buttonType,e.buttonLocale,e.buttonSizeMode,e.paymentRequest.merchantInfo.merchantId,e.paymentRequest.merchantInfo.merchantName,null===(t=e.paymentRequest.merchantInfo.softwareInfo)||void 0===t?void 0:t.id,null===(n=e.paymentRequest.merchantInfo.softwareInfo)||void 0===n?void 0:n.version]}}const r=\"google-pay-button-container\";class l extends n.default.Component{constructor(){super(...arguments),this.manager=new s({cssSelector:\".\"+r,softwareInfoId:\"@google-pay/button-react\",softwareInfoVersion:\"2.3.0\"}),this.elementRef=n.default.createRef()}componentDidMount(){return o(this,void 0,void 0,(function*(){const e=this.elementRef.current;e&&(yield this.manager.mount(e),this.manager.configure(this.props))}))}componentWillUnmount(){this.manager.unmount()}componentDidUpdate(){this.manager.configure(this.props)}render(){return n.default.createElement(\"div\",{ref:this.elementRef,className:[r,this.props.className].filter(e=>e).join(\" \"),style:this.props.style})}}return l}));\n","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nvar possibleConstructorReturn = require(\"./possibleConstructorReturn\");\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}\n\nmodule.exports = _createSuper;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;","var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"time\":\"PaymentBox_time__1_NZQ\",\"warning\":\"PaymentBox_warning__3Pk17\",\"warningText\":\"PaymentBox_warningText__XvFOp\",\"payment\":\"PaymentBox_payment__1od8k\",\"portmone\":\"PaymentBox_portmone__ea5YD\",\"google\":\"PaymentBox_google__2x1G3\",\"flexItem\":\"PaymentBox_flexItem__f7IeP\",\"total\":\"PaymentBox_total__1YF6P\",\"box3ds\":\"PaymentBox_box3ds__2SDk2\",\"btn3ds\":\"PaymentBox_btn3ds__1_359\",\"infoblock\":\"PaymentBox_infoblock__1xu-I\",\"images\":\"PaymentBox_images__3A-Zf\",\"img\":\"PaymentBox_img__X-vqn\",\"returnConditions\":\"PaymentBox_returnConditions__WaWD6\",\"payType\":\"PaymentBox_payType__1zpv-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"GoHome_box__1ZK2b\",\"text\":\"GoHome_text__24yxD\",\"link\":\"GoHome_link__2WIHQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"ReturnConditions_box__7vhEM\",\"title\":\"ReturnConditions_title__2aJWz\",\"close\":\"ReturnConditions_close__31oGF\",\"text\":\"ReturnConditions_text__3QtkC\"};","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styles from \"./GoHome.module.css\";\r\n\r\nconst GoHome = React.forwardRef((props, ref) => {\r\n  // const handleClick = () => {};\r\n  return (\r\n    <div className={styles.box} ref={ref}>\r\n      <p className={styles.text}>Время для оплаты закончилось</p>\r\n      <Link to=\"/\" className={styles.link}>\r\n        Перейти на главную страницу\r\n      </Link>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default GoHome;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport styles from \"./ReturnConditions.module.css\";\r\nimport { ReactComponent as Close } from \"../../images/clear-black-36dp.svg\";\r\nimport { getCity } from \"../../services/getInfo\";\r\n\r\nconst ReturnConditions = React.forwardRef(({ segments, close }, ref) => {\r\n  const ticket = useSelector((state) => state.order.ticket);\r\n  const lang = useSelector((state) => state.language);\r\n\r\n  return (\r\n    <div className={styles.box} ref={ref}>\r\n      <Close fill=\"var(--color-main)\" onClick={close} className={styles.close} />\r\n      {segments.map((el, idx) => (\r\n        <div key={idx}>\r\n          <h5 className={styles.title}>\r\n            {getCity(ticket.segments[el.segment.id].departure.id, ticket, lang)} -{\" \"}\r\n            {getCity(ticket.segments[el.segment.id].arrival.id, ticket, lang)}\r\n          </h5>\r\n          <ul>\r\n            {el.price.tariff.returnConditions.map((item) => (\r\n              <p className={styles.text}>{item.title.EN}</p>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default ReturnConditions;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport CryptoJS from \"crypto-js\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport { IntlProvider, FormattedMessage } from \"react-intl\";\r\nimport GooglePayButton from \"@google-pay/button-react\";\r\nimport styles from \"./PaymentBox.module.css\";\r\nimport { messages } from \"../../intl/TicketPageMessanges\";\r\nimport { getCity, getDate, getExpireTime } from \"../../services/getInfo\";\r\nimport { isGooglePayComfirm } from \"../../services/api\";\r\nimport GoHome from \"../GoHome/GoHome\";\r\nimport Loader from \"../Loader/Loader\";\r\nimport visa from \"../../images/visa-min.png\";\r\nimport mastercard from \"../../images/Mastercard-min.png\";\r\nimport maestro from \"../../images/maestro-min.png\";\r\nimport ReturnConditions from \"./ReturnConditions\";\r\n\r\nconst PaymentBox = ({ routs, orderId, primary, secondary }) => {\r\n  const lang = useSelector((state) => state.language);\r\n  const ticket = useSelector((state) => state.order.ticket);\r\n  const locale = lang === \"UA\" ? \"UK\" : lang;\r\n  const [time, setTime] = useState(0);\r\n  const [isLoader, setIsLoader] = useState(false);\r\n  const [googleRes, setGoogleRes] = useState(null);\r\n  const [order, setOrder] = useState(\"\");\r\n  const [primaryData, setPrimaryData] = useState(null);\r\n  const [secondaryData, setSecondaryData] = useState(null);\r\n  const [isModal, setIsModal] = useState(false);\r\n  const [segments, setSegments] = useState([]);\r\n  const history = useHistory();\r\n\r\n  const ref = useRef();\r\n  // ==== расшифровуем данные ==== //\r\n  useEffect(() => {\r\n    setOrder(CryptoJS.AES.decrypt(atob(orderId), \"KeyVeze\").toString(CryptoJS.enc.Utf8));\r\n    setPrimaryData(\r\n      JSON.parse(\r\n        CryptoJS.AES.decrypt(atob(primary), \"KeyVeze\").toString(CryptoJS.enc.Utf8)\r\n      )\r\n    );\r\n    setSecondaryData(\r\n      JSON.parse(\r\n        CryptoJS.AES.decrypt(atob(secondary), \"KeyVeze\").toString(CryptoJS.enc.Utf8)\r\n      )\r\n    );\r\n  }, []);\r\n\r\n  // ==== обрабатываем ответ после оплаты googlePay ==== //\r\n  useEffect(() => {\r\n    if (googleRes) {\r\n      // ==== если нужно подтверждение 3ds ==== //\r\n      if (googleRes.need3ds) {\r\n        ref.current.submit();\r\n        return;\r\n      }\r\n      //  ==== если оплата тодтверждена ==== //\r\n      if (googleRes.payed) {\r\n        history.push(`/myTicket/${orderId}/${primaryData.paymentParamsId}`);\r\n      }\r\n    }\r\n  }, [googleRes]);\r\n  // ==== определяем время до конца оплаты ==== //\r\n  useEffect(() => {\r\n    const timeEnd = new Date(ticket.services[0].expire).getTime();\r\n    const timeStart = new Date().getTime();\r\n    setTime(timeEnd - timeStart);\r\n  }, [ticket.services]);\r\n\r\n  useEffect(() => {\r\n    if (time < 0) {\r\n      setIsModal(true);\r\n      setTime(0);\r\n      return;\r\n    }\r\n    const intervalId = setInterval(() => {\r\n      setTime(time - 1000);\r\n    }, 1000);\r\n\r\n    return () => clearInterval(intervalId);\r\n  }, [time]);\r\n\r\n  const getTotalPrice = () => {\r\n    return ticket.services.reduce((acc, el) => {\r\n      return acc + el.price.amount;\r\n    }, 0);\r\n  };\r\n\r\n  const handleClick = () => {\r\n    setIsLoader(true);\r\n  };\r\n  const handleClickReturn = () => {\r\n    segments.length > 0\r\n      ? setSegments([])\r\n      : setSegments(\r\n          ticket.services\r\n            .reduce((arr, el) => {\r\n              if (el.hasOwnProperty(\"segment\")) arr.push(el);\r\n              return arr;\r\n            }, [])\r\n            .reduce(\r\n              (acc, el) => {\r\n                if (acc.map[el.segment.id]) return acc;\r\n\r\n                acc.map[el.segment.id] = true;\r\n                acc.item.push(el);\r\n                return acc;\r\n              },\r\n              { map: {}, item: [] }\r\n            ).item\r\n        );\r\n  };\r\n  const closeReturnConditions = () => {\r\n    setSegments([]);\r\n  };\r\n  return (\r\n    <>\r\n      {primaryData && secondaryData && (\r\n        <IntlProvider locale={locale} messages={messages[locale]}>\r\n          <div className={styles.warning}>\r\n            <p className={styles.warningText}>\r\n              <FormattedMessage id=\"endTime\" />\r\n              <span> {getExpireTime(ticket.services[0].expire, locale)}</span>\r\n            </p>\r\n            <p className={styles.time}>\r\n              {new Date(time).toLocaleString(\"uk\", {\r\n                minute: \"2-digit\",\r\n                second: \"2-digit\",\r\n              })}\r\n            </p>\r\n          </div>\r\n\r\n          <div className={styles.payment}>\r\n            <div className={styles.infoblock}>\r\n              <p>\r\n                Ваші платіжні та особисті дані надійно захищені відповідно до міжнародних\r\n                стандартів безпеки.\r\n              </p>\r\n              <div className={styles.images}>\r\n                <div className={styles.img}>\r\n                  <img src={visa} alt=\"visa\" />\r\n                </div>\r\n                <div className={styles.img}>\r\n                  <img src={maestro} alt=\"visa\" />\r\n                </div>\r\n                <div className={styles.img}>\r\n                  <img src={mastercard} alt=\"visa\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className={styles.flexItem}>\r\n              <p>Сума до сплати: </p>\r\n              <p className={styles.total}>\r\n                {getTotalPrice().toFixed(2)}\r\n                <small> грн</small>\r\n              </p>\r\n            </div>\r\n            <div className={styles.flexItem}>\r\n              <p>сплатити за допомогою:</p>\r\n              <div className={styles.payType}>\r\n                {primaryData.sellerToken !== \"\" && (\r\n                  <GooglePayButton\r\n                    className={styles.google}\r\n                    environment=\"TEST\"\r\n                    buttonType=\"short\"\r\n                    paymentRequest={{\r\n                      apiVersion: 2,\r\n                      apiVersionMinor: 0,\r\n                      allowedPaymentMethods: [\r\n                        {\r\n                          type: \"CARD\",\r\n                          parameters: {\r\n                            allowedAuthMethods: [\"PAN_ONLY\", \"CRYPTOGRAM_3DS\"],\r\n                            allowedCardNetworks: [\"MASTERCARD\", \"VISA\"],\r\n                          },\r\n                          tokenizationSpecification: {\r\n                            type: \"PAYMENT_GATEWAY\",\r\n                            parameters: {\r\n                              gateway: primaryData.gpayGateway,\r\n                              gatewayMerchantId: primaryData.gpayMerchantId,\r\n                            },\r\n                          },\r\n                        },\r\n                      ],\r\n                      merchantInfo: {\r\n                        merchantId: primaryData.gpayMerchantId,\r\n                        merchantName: \"Demo Merchant\",\r\n                      },\r\n                      transactionInfo: {\r\n                        totalPriceStatus: \"FINAL\",\r\n                        totalPriceLabel: \"Total\",\r\n                        totalPrice: \"4.00\",\r\n                        currencyCode: \"UAH\",\r\n                        countryCode: \"UA\",\r\n                      },\r\n                    }}\r\n                    onLoadPaymentData={(paymentRequest) => {\r\n                      isGooglePayComfirm(\r\n                        paymentRequest,\r\n                        order,\r\n                        primaryData.paymentParamsId\r\n                      )\r\n                        .then(({ data }) => setGoogleRes(data))\r\n                        .catch((err) => console.log(err));\r\n                    }}\r\n                  />\r\n                )}\r\n\r\n                {/* Portmone */}\r\n                <form action=\"https://www.portmone.com.ua/gateway/\" method=\"post\">\r\n                  <input type=\"hidden\" name=\"payee_id\" value={secondaryData.payeeId} />\r\n\r\n                  <input type=\"hidden\" name=\"shop_order_number\" value={ticket.orderId} />\r\n                  <input\r\n                    type=\"hidden\"\r\n                    name=\"bill_amount\"\r\n                    value={getTotalPrice().toFixed(2)}\r\n                  />\r\n                  <input\r\n                    type=\"hidden\"\r\n                    name=\"description\"\r\n                    value={`${getCity(\r\n                      ticket.segments[Object.keys(routs[0])[0]].departure.id,\r\n                      ticket,\r\n                      lang\r\n                    )} - ${getCity(\r\n                      ticket.segments[Object.keys(routs[routs.length - 1])[0]].arrival.id,\r\n                      ticket,\r\n                      lang\r\n                    )} \r\n              ${getDate(\"departureDate\", ticket.segments[Object.keys(routs[0])[0]], lang)}\r\n              `}\r\n                  />\r\n                  <input\r\n                    type=\"hidden\"\r\n                    name=\"success_url\"\r\n                    // value={`http://localhost:3000/myTicket/${orderId}/${secondaryData.paymentParamsId}`}\r\n                    value={`https://site.busis.eu/myTicket/${orderId}/${secondaryData.paymentParamsId}`}\r\n                  />\r\n                  <input\r\n                    type=\"hidden\"\r\n                    name=\"failure_url\"\r\n                    value={`http://localhost:3000/ticket/${orderId}/${primary}/${secondary}`}\r\n                    // value={`https://site.busis.eu/ticket/${orderId}/${primary}/${secondary}`}\r\n                  />\r\n                  <input type=\"hidden\" name=\"lang\" value={locale.toLowerCase()} />\r\n                  <input type=\"hidden\" name=\"encoding\" value=\"UTF-8\" />\r\n                  {/* <input type=\"hidden\" name=\"exp_time\" value={(time / 1000).toFixed()} /> */}\r\n                  <input type=\"hidden\" name=\"exp_time\" value={\"1000\"} />\r\n\r\n                  <button\r\n                    className={styles.portmone}\r\n                    type=\"submit\"\r\n                    onClick={handleClick}\r\n                  ></button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleClickReturn}\r\n              className={styles.returnConditions}\r\n            >\r\n              Умови повернення\r\n            </button>\r\n          </div>\r\n          <Modal open={segments.length > 0} onClose={closeReturnConditions}>\r\n            <ReturnConditions segments={segments} close={closeReturnConditions} />\r\n          </Modal>\r\n          <Modal open={isModal} disableBackdropClick={true}>\r\n        <GoHome />\r\n      </Modal>\r\n          {googleRes && (\r\n            <form\r\n              ref={ref}\r\n              id=\"TheForm\"\r\n              action={googleRes.params3ds.action}\r\n              method=\"POST\"\r\n              name=\"TheForm\"\r\n            >\r\n              <input type=\"hidden\" name=\"PaReq\" value={googleRes.params3ds.PaReq} />\r\n              <input type=\"hidden\" name=\"MD\" value={googleRes.params3ds.MD} />\r\n              <input\r\n                type=\"hidden\"\r\n                name=\"TermUrl\"\r\n                value={`http://localhost:3000/ticket/${orderId}/${primary}/${secondary}`}\r\n                // value={`https://site.busis.eu/ticket/${orderId}/${primary}/${secondary}`}\r\n              />\r\n            </form>\r\n          )}\r\n        </IntlProvider>\r\n      )}\r\n      {isLoader && <Loader />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PaymentBox;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getTicket } from \"../redux/order/orderOperation\";\r\nimport styles from \"./TicketPage.module.css\";\r\nimport PaymentBox from \"../components/TicketContainer/PaymentBox\";\r\nimport TripInfo from \"../components/TicketContainer/TripInfo\";\r\nimport PassengersData from \"../components/TicketContainer/PassengersData\";\r\nimport CryptoJS from \"crypto-js\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport AdditionalServicesData from \"../components/TicketContainer/AdditionalServicesData\";\r\n\r\nconst TicketPage = () => {\r\n  const dispatch = useDispatch();\r\n  const ticket = useSelector((state) => state.order.ticket);\r\n  const [routs, setRouts] = useState([]);\r\n  const [additionalServices, setAdditionalServices] = useState([]);\r\n  const { orderId, primary, secondary } = useParams();\r\n  // ==== получаем информацию о билете ==== //\r\n  useEffect(() => {\r\n    // ==== получаем зашифрованый id === //\r\n    const encryptId = atob(orderId);\r\n    // ==== расшифровуем id ==== //\r\n    const id = CryptoJS.AES.decrypt(encryptId, \"KeyVeze\").toString(CryptoJS.enc.Utf8);\r\n    // ==== самовызывающяяся функция redux====\r\n    ((orderId) => dispatch(getTicket(orderId)))(id);\r\n  }, [dispatch, orderId]);\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(ticket).length > 0) {\r\n      const arr = [];\r\n      for (let [key, values] of Object.entries(ticket.segments)) {\r\n        arr.push({ [key]: values });\r\n      }\r\n      setRouts(\r\n        arr.sort((a, b) => {\r\n          const A = new Date(a[Object.keys(a)[0]].departureDate).getTime();\r\n          const B = new Date(b[Object.keys(b)[0]].departureDate).getTime();\r\n          return A - B;\r\n        })\r\n      );\r\n\r\n      // ==== определяем масив всех уникальных ключей дополнительных сервисов ==== //\r\n      setAdditionalServices(\r\n        Array.from(\r\n          new Set(\r\n            ticket.services\r\n              .filter((el) => el.hasOwnProperty(\"additionalService\"))\r\n              .reduce((arr, el) => {\r\n                arr.push(el.additionalService.id);\r\n                return arr;\r\n              }, [])\r\n          )\r\n        )\r\n      );\r\n    }\r\n  }, [ticket]);\r\n  return (\r\n    <div className=\"bgnd\">\r\n      {routs.length > 0 && (\r\n        <div className=\"container\">\r\n          <div className={styles.data}>\r\n            <TripInfo routs={routs} />\r\n            <PassengersData />\r\n            {additionalServices.length > 0 && (\r\n              <AdditionalServicesData addServ={additionalServices} />\r\n            )}\r\n          </div>\r\n          <div className={styles.data}>\r\n            <PaymentBox\r\n              routs={routs}\r\n              orderId={orderId}\r\n              primary={primary}\r\n              secondary={secondary}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n      {/* <pre>{JSON.stringify(ticket, null, 4)} </pre> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TicketPage;\r\n"],"sourceRoot":""}